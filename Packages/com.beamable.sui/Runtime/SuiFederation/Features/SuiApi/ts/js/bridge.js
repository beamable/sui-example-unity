/*! For license information please see bridge.js.LICENSE.txt */
(()=>{var e={3783:(e,t,r)=>{"use strict";var n,i=Object.create,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,l=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of a(t))u.call(e,i)||i===r||o(e,i,{get:()=>t[i],enumerable:!(n=s(t,i))||n.enumerable});return e},f=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},d=(e,t,r)=>(f(e,t,"read from private field"),r?r.call(e):t.get(e)),h=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},p=(e,t,r,n)=>(f(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),y={};((e,t)=>{for(var r in t)o(e,r,{get:t[r],enumerable:!0})})(y,{BCS:()=>F,BcsReader:()=>j,BcsType:()=>R,BcsWriter:()=>I,SerializedBcs:()=>D,bcs:()=>H,decodeStr:()=>B,encodeStr:()=>T,fromB58:()=>m,fromB64:()=>w,fromHEX:()=>E,getRustConfig:()=>G,getSuiMoveConfig:()=>W,isSerializedBcs:()=>N,registerPrimitives:()=>q,splitGenericParameters:()=>A,toB58:()=>g,toB64:()=>S,toHEX:()=>O}),e.exports=(n=y,l(o({},"__esModule",{value:!0}),n));var b=((e,t,r)=>(r=null!=e?i(c(e)):{},l(e&&e.__esModule?r:o(r,"default",{value:e,enumerable:!0}),e)))(r(6763)),g=e=>b.default.encode(e),m=e=>b.default.decode(e);function w(e,t){for(var r,n,i,o=e.replace(/[^A-Za-z0-9+/]/g,""),s=o.length,a=t?Math.ceil((3*s+1>>2)/t)*t:3*s+1>>2,c=new Uint8Array(a),u=0,l=0,f=0;f<s;f++)if(n=3&f,u|=((i=o.charCodeAt(f))>64&&i<91?i-65:i>96&&i<123?i-71:i>47&&i<58?i+4:43===i?62:47===i?63:0)<<6*(3-n),3===n||s-f==1){for(r=0;r<3&&l<a;r++,l++)c[l]=u>>>(16>>>r&24)&255;u=0}return c}function v(e){return e<26?e+65:e<52?e+71:e<62?e-4:62===e?43:63===e?47:65}function S(e){for(var t=2,r="",n=e.length,i=0,o=0;o<n;o++)t=o%3,i|=e[o]<<(16>>>t&24),2!==t&&e.length-o!=1||(r+=String.fromCodePoint(v(i>>>18&63),v(i>>>12&63),v(i>>>6&63),v(63&i)),i=0);return r.slice(0,r.length-2+t)+(2===t?"":1===t?"=":"==")}function E(e){const t=e.startsWith("0x")?e.slice(2):e,r=t.length%2==0?t:`0${t}}`,n=r.match(/.{2}/g)?.map((e=>parseInt(e,16)))??[];return Uint8Array.from(n)}function O(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"")}function x(e){let t=[],r=0;if(0===e)return[0];for(;e>0;)t[r]=127&e,(e>>=7)&&(t[r]|=128),r+=1;return t}var j=class{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32(),t=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+t).toString(10)}read128(){let e=BigInt(this.read64()),t=BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+t).toString(10)}read256(){let e=BigInt(this.read128()),t=BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0");return BigInt("0x"+t).toString(10)}readBytes(e){let t=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,t,e);return this.shift(e),r}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,t=new Uint8Array(this.dataView.buffer,e),{value:r,length:n}=function(e){let t=0,r=0,n=0;for(;;){let i=e[n];if(n+=1,t|=(127&i)<<r,!(128&i))break;r+=7}return{value:t,length:n}}(t);return this.shift(n),r}readVec(e){let t=this.readULEB(),r=[];for(let n=0;n<t;n++)r.push(e(this,n,t));return r}};function T(e,t){switch(t){case"base58":return g(e);case"base64":return S(e);case"hex":return O(e);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function B(e,t){switch(t){case"base58":return m(e);case"base64":return w(e);case"hex":return E(e);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function A(e,t=["<",">"]){const[r,n]=t,i=[];let o="",s=0;for(let t=0;t<e.length;t++){const a=e[t];a===r&&s++,a===n&&s--,0!==s||","!==a?o+=a:(i.push(o.trim()),o="")}return i.push(o.trim()),i}var P,_,I=class{constructor({size:e=1024,maxSize:t,allocateSize:r=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=t||e,this.allocateSize=r,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){const t=this.bytePosition+e;if(t>this.size){const e=Math.min(this.maxSize,this.size+this.allocateSize);if(t>e)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${t}`);this.size=e;const r=new ArrayBuffer(this.size);new Uint8Array(r).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(r)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return k(BigInt(e),8).forEach((e=>this.write8(e))),this}write128(e){return k(BigInt(e),16).forEach((e=>this.write8(e))),this}write256(e){return k(BigInt(e),32).forEach((e=>this.write8(e))),this}writeULEB(e){return x(e).forEach((e=>this.write8(e))),this}writeVec(e,t){return this.writeULEB(e.length),Array.from(e).forEach(((r,n)=>t(this,r,n,e.length))),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return T(this.toBytes(),e)}};function k(e,t){let r=new Uint8Array(t),n=0;for(;e>0;)r[n]=Number(e%BigInt(256)),e/=BigInt(256),n+=1;return r}P=new WeakMap,_=new WeakMap;var M,U,R=class e{constructor(e){h(this,P,void 0),h(this,_,void 0),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),p(this,P,e.write),p(this,_,e.serialize??((e,t)=>{const r=new I({size:this.serializedSize(e)??void 0,...t});return d(this,P).call(this,e,r),r.toBytes()})),this.validate=e.validate??(()=>{})}write(e,t){this.validate(e),d(this,P).call(this,e,t)}serialize(e,t){return this.validate(e),new D(this,d(this,_).call(this,e,t))}parse(e){const t=new j(e);return this.read(t)}transform({name:t,input:r,output:n}){return new e({name:t??this.name,read:e=>n(this.read(e)),write:(e,t)=>d(this,P).call(this,r(e),t),serializedSize:e=>this.serializedSize(r(e)),serialize:(e,t)=>d(this,_).call(this,r(e),t),validate:e=>this.validate(r(e))})}},C=Symbol.for("@mysten/serialized-bcs");function N(e){return!!e&&"object"==typeof e&&!0===e[C]}var D=class{constructor(e,t){h(this,M,void 0),h(this,U,void 0),p(this,M,e),p(this,U,t)}get[C](){return!0}toBytes(){return d(this,U)}toHex(){return O(d(this,U))}toBase64(){return S(d(this,U))}toBase58(){return g(d(this,U))}parse(){return d(this,M).parse(d(this,U))}};function L({size:e,...t}){return new R({...t,serializedSize:()=>e})}function z({readMethod:e,writeMethod:t,...r}){return L({...r,read:t=>t[e](),write:(e,r)=>r[t](e),validate:e=>{if(e<0||e>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${e}. Expected value in range 0-${r.maxValue}`);r.validate?.(e)}})}function $({readMethod:e,writeMethod:t,...r}){return L({...r,read:t=>t[e](),write:(e,r)=>r[t](BigInt(e)),validate:e=>{const t=BigInt(e);if(t<0||t>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${t}. Expected value in range 0-${r.maxValue}`);r.validate?.(t)}})}M=new WeakMap,U=new WeakMap;var H={u8:e=>z({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:255,...e}),u16:e=>z({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:65535,...e}),u32:e=>z({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...e}),u64:e=>$({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...e}),u128:e=>$({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...e}),u256:e=>$({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...e}),bool:e=>L({name:"bool",size:1,read:e=>1===e.read8(),write:(e,t)=>t.write8(e?1:0),...e,validate:t=>{if(e?.validate?.(t),"boolean"!=typeof t)throw new TypeError("Expected boolean, found "+typeof t)}}),uleb128:e=>function({serialize:e,...t}){const r=new R({...t,serialize:e,write:(e,t)=>{for(const n of r.serialize(e).toBytes())t.write8(n)}});return r}({name:"uleb128",read:e=>e.readULEB(),serialize:e=>Uint8Array.from(x(e)),...e}),bytes:(e,t)=>L({name:`bytes[${e}]`,size:e,read:t=>t.readBytes(e),write:(t,r)=>{for(let n=0;n<e;n++)r.write8(t[n]??0)},...t,validate:r=>{if(t?.validate?.(r),!("length"in r))throw new TypeError("Expected array, found "+typeof r);if(r.length!==e)throw new TypeError(`Expected array of length ${e}, found ${r.length}`)}}),string:e=>function({toBytes:e,fromBytes:t,...r}){return new R({...r,read:e=>{const r=e.readULEB(),n=e.readBytes(r);return t(n)},write:(t,r)=>{const n=e(t);r.writeULEB(n.length);for(let e=0;e<n.length;e++)r.write8(n[e])},serialize:t=>{const r=e(t),n=x(r.length),i=new Uint8Array(n.length+r.length);return i.set(n,0),i.set(r,n.length),i},validate:e=>{if("string"!=typeof e)throw new TypeError(`Invalid ${r.name} value: ${e}. Expected string`);r.validate?.(e)}})}({name:"string",toBytes:e=>(new TextEncoder).encode(e),fromBytes:e=>(new TextDecoder).decode(e),...e}),fixedArray:(e,t,r)=>new R({name:`${t.name}[${e}]`,read:r=>{const n=new Array(e);for(let i=0;i<e;i++)n[i]=t.read(r);return n},write:(e,r)=>{for(const n of e)t.write(n,r)},...r,validate:t=>{if(r?.validate?.(t),!("length"in t))throw new TypeError("Expected array, found "+typeof t);if(t.length!==e)throw new TypeError(`Expected array of length ${e}, found ${t.length}`)}}),option:e=>H.enum(`Option<${e.name}>`,{None:null,Some:e}).transform({input:e=>null==e?{None:!0}:{Some:e},output:e=>"Some"in e?e.Some:null}),vector:(e,t)=>new R({name:`vector<${e.name}>`,read:t=>{const r=t.readULEB(),n=new Array(r);for(let i=0;i<r;i++)n[i]=e.read(t);return n},write:(t,r)=>{r.writeULEB(t.length);for(const n of t)e.write(n,r)},...t,validate:e=>{if(t?.validate?.(e),!("length"in e))throw new TypeError("Expected array, found "+typeof e)}}),tuple:(e,t)=>new R({name:`(${e.map((e=>e.name)).join(", ")})`,serializedSize:t=>{let r=0;for(let n=0;n<e.length;n++){const i=e[n].serializedSize(t[n]);if(null==i)return null;r+=i}return r},read:t=>{const r=[];for(const n of e)r.push(n.read(t));return r},write:(t,r)=>{for(let n=0;n<e.length;n++)e[n].write(t[n],r)},...t,validate:r=>{if(t?.validate?.(r),!Array.isArray(r))throw new TypeError("Expected array, found "+typeof r);if(r.length!==e.length)throw new TypeError(`Expected array of length ${e.length}, found ${r.length}`)}}),struct(e,t,r){const n=Object.entries(t);return new R({name:e,serializedSize:e=>{let t=0;for(const[r,i]of n){const n=i.serializedSize(e[r]);if(null==n)return null;t+=n}return t},read:e=>{const t={};for(const[r,i]of n)t[r]=i.read(e);return t},write:(e,t)=>{for(const[r,i]of n)i.write(e[r],t)},...r,validate:e=>{if(r?.validate?.(e),"object"!=typeof e||null==e)throw new TypeError("Expected object, found "+typeof e)}})},enum(e,t,r){const n=Object.entries(t);return new R({name:e,read:e=>{const t=e.readULEB(),[r,i]=n[t];return{[r]:i?.read(e)??!0}},write:(e,t)=>{const[r,i]=Object.entries(e)[0];for(let e=0;e<n.length;e++){const[o,s]=n[e];if(o===r)return t.writeULEB(e),void s?.write(i,t)}},...r,validate:e=>{if(r?.validate?.(e),"object"!=typeof e||null==e)throw new TypeError("Expected object, found "+typeof e);const n=Object.keys(e);if(1!==n.length)throw new TypeError(`Expected object with one key, found ${n.length}`);const[i]=n;if(!Object.hasOwn(t,i))throw new TypeError(`Invalid enum variant ${i}`)}})},map:(e,t)=>H.vector(H.tuple([e,t])).transform({name:`Map<${e.name}, ${t.name}>`,input:e=>[...e.entries()],output:e=>{const t=new Map;for(const[r,n]of e)t.set(r,n);return t}}),generic:(e,t)=>(...e)=>t(...e).transform({name:`${t.name}<${e.map((e=>e.name)).join(", ")}>`,input:e=>e,output:e=>e}),lazy:e=>function(e){let t=null;function r(){return t||(t=e()),t}return new R({name:"lazy",read:e=>r().read(e),serializedSize:e=>r().serializedSize(e),write:(e,t)=>r().write(e,t),serialize:(e,t)=>r().serialize(e,t).toBytes()})}(e)},K=32,V=class e{constructor(t){if(this.types=new Map,this.counter=0,t instanceof e)return this.schema=t.schema,void(this.types=new Map(t.types));if(this.schema=t,this.registerAddressType(e.ADDRESS,t.addressLength,t.addressEncoding),this.registerVectorType(t.vectorType),t.types&&t.types.structs)for(let e of Object.keys(t.types.structs))this.registerStructType(e,t.types.structs[e]);if(t.types&&t.types.enums)for(let e of Object.keys(t.types.enums))this.registerEnumType(e,t.types.enums[e]);if(t.types&&t.types.aliases)for(let e of Object.keys(t.types.aliases))this.registerAlias(e,t.types.aliases[e]);!1!==t.withPrimitives&&q(this)}tempKey(){return"bcs-struct-"+ ++this.counter}ser(t,r,n){if("string"==typeof t||Array.isArray(t)){const{name:e,params:i}=this.parseTypeName(t);return this.getTypeInterface(e).encode(this,r,n,i)}if("object"==typeof t){const i=this.tempKey();return new e(this).registerStructType(i,t).ser(i,r,n)}throw new Error(`Incorrect type passed into the '.ser()' function. \n${JSON.stringify(t)}`)}de(t,r,n){if("string"==typeof r){if(!n)throw new Error("To pass a string to `bcs.de`, specify encoding");r=B(r,n)}if("string"==typeof t||Array.isArray(t)){const{name:e,params:n}=this.parseTypeName(t);return this.getTypeInterface(e).decode(this,r,n)}if("object"==typeof t){const i=new e(this),o=this.tempKey();return i.registerStructType(o,t).de(o,r,n)}throw new Error(`Incorrect type passed into the '.de()' function. \n${JSON.stringify(t)}`)}hasType(e){return this.types.has(e)}registerAlias(e,t){return this.types.set(e,t),this}registerType(e,t,r,n=(()=>!0)){const{name:i,params:o}=this.parseTypeName(e);return this.types.set(i,{encode(e,t,r,n){const i=o.reduce(((e,t,r)=>Object.assign(e,{[t]:n[r]})),{});return this._encodeRaw.call(e,new I(r),t,n,i)},decode(e,t,r){const n=o.reduce(((e,t,n)=>Object.assign(e,{[t]:r[n]})),{});return this._decodeRaw.call(e,new j(t),r,n)},_encodeRaw(e,r,o,s){if(n(r))return t.call(this,e,r,o,s);throw new Error(`Validation failed for type ${i}, data: ${r}`)},_decodeRaw(e,t,n){return r.call(this,e,t,n)}}),this}registerBcsType(e,t){return this.registerType(e,((e,r,n)=>{const i=n.map((e=>new R({name:String(e),write:(t,r)=>{const{name:i,params:o}=this.parseTypeName(e),s=this.getTypeInterface(i),a=o.reduce(((e,t,r)=>Object.assign(e,{[t]:n[r]})),{});return s._encodeRaw.call(this,r,t,o,a)},read:()=>{throw new Error("Not implemented")}})));return t(...i).write(r,e),e}),((e,r)=>{const n=r.map((e=>new R({name:String(e),write:(e,t)=>{throw new Error("Not implemented")},read:t=>{const{name:n,params:i}=this.parseTypeName(e),o=this.getTypeInterface(n),s=i.reduce(((e,t,n)=>Object.assign(e,{[t]:r[n]})),{});return o._decodeRaw.call(this,t,i,s)}})));return t(...n).read(e)})),this}registerAddressType(e,t,r="hex"){switch(r){case"base64":return this.registerType(e,(function(e,t){return w(t).reduce(((e,t)=>e.write8(t)),e)}),(function(e){return S(e.readBytes(t))}));case"hex":return this.registerType(e,(function(e,t){return E(t).reduce(((e,t)=>e.write8(t)),e)}),(function(e){return O(e.readBytes(t))}));default:throw new Error("Unsupported encoding! Use either hex or base64")}}registerVectorType(e){let{name:t,params:r}=this.parseTypeName(e);if(r.length>1)throw new Error("Vector can have only one type parameter; got "+t);return this.registerType(e,(function(t,r,n,i){return t.writeVec(r,((t,r)=>{let o=n[0];if(!o)throw new Error(`Incorrect number of type parameters passed a to vector '${e}'`);let{name:s,params:a}=this.parseTypeName(o);if(this.hasType(s))return this.getTypeInterface(s)._encodeRaw.call(this,t,r,a,i);if(!(s in i))throw new Error(`Unable to find a matching type definition for ${s} in vector; make sure you passed a generic`);let{name:c,params:u}=this.parseTypeName(i[s]);return this.getTypeInterface(c)._encodeRaw.call(this,t,r,u,i)}))}),(function(t,r,n){return t.readVec((t=>{let i=r[0];if(!i)throw new Error(`Incorrect number of type parameters passed to a vector '${e}'`);let{name:o,params:s}=this.parseTypeName(i);if(this.hasType(o))return this.getTypeInterface(o)._decodeRaw.call(this,t,s,n);if(!(o in n))throw new Error(`Unable to find a matching type definition for ${o} in vector; make sure you passed a generic`);let{name:a,params:c}=this.parseTypeName(n[o]);return this.getTypeInterface(a)._decodeRaw.call(this,t,c,n)}))}))}registerStructType(e,t){for(let e in t){let r=this.tempKey(),n=t[e];Array.isArray(n)||"string"==typeof n||(t[e]=r,this.registerStructType(r,n))}let r=Object.freeze(t),n=Object.keys(r),{name:i,params:o}=this.parseTypeName(e);return this.registerType(e,(function(e,t,s,a){if(!t||t.constructor!==Object)throw new Error(`Expected ${i} to be an Object, got: ${t}`);if(s.length!==o.length)throw new Error(`Incorrect number of generic parameters passed; expected: ${o.length}, got: ${s.length}`);for(let c of n){if(!(c in t))throw new Error(`Struct ${i} requires field ${c}:${r[c]}`);const{name:n,params:u}=this.parseTypeName(r[c]);if(o.includes(n)){const r=o.indexOf(n);let{name:u,params:l}=this.parseTypeName(s[r]);if(this.hasType(u)){this.getTypeInterface(u)._encodeRaw.call(this,e,t[c],l,a);continue}if(!(u in a))throw new Error(`Unable to find a matching type definition for ${u} in ${i}; make sure you passed a generic`);let{name:f,params:d}=this.parseTypeName(a[u]);this.getTypeInterface(f)._encodeRaw.call(this,e,t[c],d,a)}else this.getTypeInterface(n)._encodeRaw.call(this,e,t[c],u,a)}return e}),(function(e,t,s){if(t.length!==o.length)throw new Error(`Incorrect number of generic parameters passed; expected: ${o.length}, got: ${t.length}`);let a={};for(let c of n){const{name:n,params:u}=this.parseTypeName(r[c]);if(o.includes(n)){const r=o.indexOf(n);let{name:u,params:l}=this.parseTypeName(t[r]);if(this.hasType(u)){a[c]=this.getTypeInterface(u)._decodeRaw.call(this,e,l,s);continue}if(!(u in s))throw new Error(`Unable to find a matching type definition for ${u} in ${i}; make sure you passed a generic`);let{name:f,params:d}=this.parseTypeName(s[u]);a[c]=this.getTypeInterface(f)._decodeRaw.call(this,e,d,s)}else a[c]=this.getTypeInterface(n)._decodeRaw.call(this,e,u,s)}return a}))}registerEnumType(e,t){for(let e in t){let r=this.tempKey(),n=t[e];null===n||Array.isArray(n)||"string"==typeof n||(t[e]=r,this.registerStructType(r,n))}let r=Object.freeze(t),n=Object.keys(r),{name:i,params:o}=this.parseTypeName(e);return this.registerType(e,(function(e,t,s,a){if(!t)throw new Error(`Unable to write enum "${i}", missing data.\nReceived: "${t}"`);if("object"!=typeof t)throw new Error(`Incorrect data passed into enum "${i}", expected object with properties: "${n.join(" | ")}".\nReceived: "${JSON.stringify(t)}"`);let c=Object.keys(t)[0];if(void 0===c)throw new Error(`Empty object passed as invariant of the enum "${i}"`);let u=n.indexOf(c);if(-1===u)throw new Error(`Unknown invariant of the enum "${i}", allowed values: "${n.join(" | ")}"; received "${c}"`);let l=n[u],f=r[l];if(e.write8(u),null===f)return e;let d=o.indexOf(f),h=-1===d?f:s[d];{let{name:r,params:n}=this.parseTypeName(h);return this.getTypeInterface(r)._encodeRaw.call(this,e,t[c],n,a)}}),(function(e,t,s){let a=e.readULEB(),c=n[a],u=r[c];if(-1===a)throw new Error(`Decoding type mismatch, expected enum "${i}" invariant index, received "${a}"`);if(null===u)return{[c]:!0};let l=o.indexOf(u),f=-1===l?u:t[l];{let{name:t,params:r}=this.parseTypeName(f);return{[c]:this.getTypeInterface(t)._decodeRaw.call(this,e,r,s)}}}))}getTypeInterface(e){let t=this.types.get(e);if("string"==typeof t){let e=[];for(;"string"==typeof t;){if(e.includes(t))throw new Error(`Recursive definition found: ${e.join(" -> ")} -> ${t}`);e.push(t),t=this.types.get(t)}}if(void 0===t)throw new Error(`Type ${e} is not registered`);return t}parseTypeName(e){if(Array.isArray(e)){let[t,...r]=e;return{name:t,params:r}}if("string"!=typeof e)throw new Error(`Illegal type passed as a name of the type: ${e}`);let[t,r]=this.schema.genericSeparators||["<",">"],n=e.indexOf(t),i=Array.from(e).reverse().indexOf(r);if(-1===n&&-1===i)return{name:e,params:[]};if(-1===n||-1===i)throw new Error(`Unclosed generic in name '${e}'`);return{name:e.slice(0,n),params:A(e.slice(n+1,e.length-i-1),this.schema.genericSeparators)}}};V.U8="u8",V.U16="u16",V.U32="u32",V.U64="u64",V.U128="u128",V.U256="u256",V.BOOL="bool",V.VECTOR="vector",V.ADDRESS="address",V.STRING="string",V.HEX="hex-string",V.BASE58="base58-string",V.BASE64="base64-string";var F=V;function q(e){e.registerType(F.U8,(function(e,t){return e.write8(t)}),(function(e){return e.read8()}),(e=>e<256)),e.registerType(F.U16,(function(e,t){return e.write16(t)}),(function(e){return e.read16()}),(e=>e<65536)),e.registerType(F.U32,(function(e,t){return e.write32(t)}),(function(e){return e.read32()}),(e=>e<=4294967296n)),e.registerType(F.U64,(function(e,t){return e.write64(t)}),(function(e){return e.read64()})),e.registerType(F.U128,(function(e,t){return e.write128(t)}),(function(e){return e.read128()})),e.registerType(F.U256,(function(e,t){return e.write256(t)}),(function(e){return e.read256()})),e.registerType(F.BOOL,(function(e,t){return e.write8(t)}),(function(e){return"1"===e.read8().toString(10)})),e.registerType(F.STRING,(function(e,t){return e.writeVec(Array.from(t),((e,t)=>e.write8(t.charCodeAt(0))))}),(function(e){return e.readVec((e=>e.read8())).map((e=>String.fromCharCode(Number(e)))).join("")}),(e=>!0)),e.registerType(F.HEX,(function(e,t){return e.writeVec(Array.from(E(t)),((e,t)=>e.write8(t)))}),(function(e){let t=e.readVec((e=>e.read8()));return O(new Uint8Array(t))})),e.registerType(F.BASE58,(function(e,t){return e.writeVec(Array.from(m(t)),((e,t)=>e.write8(t)))}),(function(e){let t=e.readVec((e=>e.read8()));return g(new Uint8Array(t))})),e.registerType(F.BASE64,(function(e,t){return e.writeVec(Array.from(w(t)),((e,t)=>e.write8(t)))}),(function(e){let t=e.readVec((e=>e.read8()));return S(new Uint8Array(t))}))}function G(){return{genericSeparators:["<",">"],vectorType:"Vec",addressLength:K,addressEncoding:"hex"}}function W(){return{genericSeparators:["<",">"],vectorType:"vector",addressLength:K,addressEncoding:"hex"}}},3562:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCurve=t.getHash=void 0;const n=r(9615),i=r(9175),o=r(1705);function s(e){return{hash:e,hmac:(t,...r)=>(0,n.hmac)(e,t,(0,i.concatBytes)(...r)),randomBytes:i.randomBytes}}t.getHash=s,t.createCurve=function(e,t){const r=t=>(0,o.weierstrass)({...e,...s(t)});return Object.freeze({...r(t),create:r})}},2422:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateBasic=t.wNAF=void 0;const n=r(4967),i=r(1484),o=BigInt(0),s=BigInt(1);t.wNAF=function(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>o;)r&s&&(n=n.add(i)),i=i.double(),r>>=s;return n},precomputeWindow(e,t){const{windows:r,windowSize:i}=n(t),o=[];let s=e,a=s;for(let e=0;e<r;e++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(t,i,o){const{windows:a,windowSize:c}=n(t);let u=e.ZERO,l=e.BASE;const f=BigInt(2**t-1),d=2**t,h=BigInt(t);for(let e=0;e<a;e++){const t=e*c;let n=Number(o&f);o>>=h,n>c&&(n-=d,o+=s);const a=t,p=t+Math.abs(n)-1,y=e%2!=0,b=n<0;0===n?l=l.add(r(y,i[a])):u=u.add(r(b,i[p]))}return{p:u,f:l}},wNAFCached(e,t,r,n){const i=e._WINDOW_SIZE||1;let o=t.get(e);return o||(o=this.precomputeWindow(e,i),1!==i&&t.set(e,n(o))),this.wNAF(i,o,r)}}},t.validateBasic=function(e){return(0,n.validateField)(e.Fp),(0,i.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,n.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}},1761:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createHasher=t.isogenyMap=t.hash_to_field=t.expand_message_xof=t.expand_message_xmd=void 0;const n=r(4967),i=r(1484),o=i.bytesToNumberBE;function s(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=255&e,e>>>=8;return new Uint8Array(r)}function a(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function c(e){if(!(0,i.isBytes)(e))throw new Error("Uint8Array expected")}function u(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function l(e,t,r,n){c(e),c(t),u(r),t.length>255&&(t=n((0,i.concatBytes)((0,i.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:o,blockLen:l}=n,f=Math.ceil(r/o);if(f>255)throw new Error("Invalid xmd length");const d=(0,i.concatBytes)(t,s(t.length,1)),h=s(0,l),p=s(r,2),y=new Array(f),b=n((0,i.concatBytes)(h,e,p,s(0,1),d));y[0]=n((0,i.concatBytes)(b,s(1,1),d));for(let e=1;e<=f;e++){const t=[a(b,y[e-1]),s(e+1,1),d];y[e]=n((0,i.concatBytes)(...t))}return(0,i.concatBytes)(...y).slice(0,r)}function f(e,t,r,n,o){if(c(e),c(t),u(r),t.length>255){const e=Math.ceil(2*n/8);t=o.create({dkLen:e}).update((0,i.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return o.create({dkLen:r}).update(e).update(s(r,2)).update(t).update(s(t.length,1)).digest()}function d(e,t,r){(0,i.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:s,k:a,m:d,hash:h,expand:p,DST:y}=r;c(e),u(t);const b=function(e){if((0,i.isBytes)(e))return e;if("string"==typeof e)return(0,i.utf8ToBytes)(e);throw new Error("DST must be Uint8Array or string")}(y),g=s.toString(2).length,m=Math.ceil((g+a)/8),w=t*d*m;let v;if("xmd"===p)v=l(e,b,w,h);else if("xof"===p)v=f(e,b,w,a,h);else{if("_internal_pass"!==p)throw new Error('expand must be "xmd" or "xof"');v=e}const S=new Array(t);for(let e=0;e<t;e++){const t=new Array(d);for(let r=0;r<d;r++){const i=m*(r+e*d),a=v.subarray(i,i+m);t[r]=(0,n.mod)(o(a),s)}S[e]=t}return S}t.expand_message_xmd=l,t.expand_message_xof=f,t.hash_to_field=d,t.isogenyMap=function(e,t){const r=t.map((e=>Array.from(e).reverse()));return(t,n)=>{const[i,o,s,a]=r.map((r=>r.reduce(((r,n)=>e.add(e.mul(r,t),n)))));return t=e.div(i,o),n=e.mul(n,e.div(s,a)),{x:t,y:n}}},t.createHasher=function(e,t,r){if("function"!=typeof t)throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){const o=d(n,2,{...r,DST:r.DST,...i}),s=e.fromAffine(t(o[0])),a=e.fromAffine(t(o[1])),c=s.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(n,i){const o=d(n,1,{...r,DST:r.encodeDST,...i}),s=e.fromAffine(t(o[0])).clearCofactor();return s.assertValidity(),s}}}},4967:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapHashToField=t.getMinHashLength=t.getFieldBytesLength=t.hashToPrivateScalar=t.FpSqrtEven=t.FpSqrtOdd=t.Field=t.nLength=t.FpIsSquare=t.FpDiv=t.FpInvertBatch=t.FpPow=t.validateField=t.isNegativeLE=t.FpSqrt=t.tonelliShanks=t.invert=t.pow2=t.pow=t.mod=void 0;const n=r(1484),i=BigInt(0),o=BigInt(1),s=BigInt(2),a=BigInt(3),c=BigInt(4),u=BigInt(5),l=BigInt(8);function f(e,t){const r=e%t;return r>=i?r:t+r}function d(e,t,r){if(r<=i||t<i)throw new Error("Expected power/modulo > 0");if(r===o)return i;let n=o;for(;t>i;)t&o&&(n=n*e%r),e=e*e%r,t>>=o;return n}function h(e,t){if(e===i||t<=i)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=f(e,t),n=t,s=i,a=o,c=o,u=i;for(;r!==i;){const e=n/r,t=n%r,i=s-c*e,o=a-u*e;n=r,r=t,s=c,a=u,c=i,u=o}if(n!==o)throw new Error("invert: does not exist");return f(s,t)}function p(e){const t=(e-o)/s;let r,n,a;for(r=e-o,n=0;r%s===i;r/=s,n++);for(a=s;a<e&&d(a,t,e)!==e-o;a++);if(1===n){const t=(e+o)/c;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const u=(r+o)/s;return function(e,i){if(e.pow(i,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let s=n,c=e.pow(e.mul(e.ONE,a),r),l=e.pow(i,u),f=e.pow(i,r);for(;!e.eql(f,e.ONE);){if(e.eql(f,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(f);t<s&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const r=e.pow(c,o<<BigInt(s-t-1));c=e.sqr(r),l=e.mul(l,r),f=e.mul(f,c),s=t}return l}}function y(e){if(e%c===a){const t=(e+o)/c;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%l===u){const t=(e-u)/l;return function(e,r){const n=e.mul(r,s),i=e.pow(n,t),o=e.mul(r,i),a=e.mul(e.mul(o,s),i),c=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(c),r))throw new Error("Cannot find square root");return c}}return p(e)}BigInt(9),BigInt(16),t.mod=f,t.pow=d,t.pow2=function(e,t,r){let n=e;for(;t-- >i;)n*=n,n%=r;return n},t.invert=h,t.tonelliShanks=p,t.FpSqrt=y,t.isNegativeLE=(e,t)=>(f(e,t)&o)===o;const b=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function g(e,t,r){if(r<i)throw new Error("Expected power > 0");if(r===i)return e.ONE;if(r===o)return t;let n=e.ONE,s=t;for(;r>i;)r&o&&(n=e.mul(n,s)),s=e.sqr(s),r>>=o;return n}function m(e,t){const r=new Array(t.length),n=t.reduce(((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n))),e.ONE),i=e.inv(n);return t.reduceRight(((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n))),i),r}function w(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function v(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function S(e){const t=v(e);return t+Math.ceil(t/2)}t.validateField=function(e){const t=b.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,n.validateObject)(e,t)},t.FpPow=g,t.FpInvertBatch=m,t.FpDiv=function(e,t,r){return e.mul(t,"bigint"==typeof r?h(r,e.ORDER):e.inv(r))},t.FpIsSquare=function(e){const t=(e.ORDER-o)/s;return r=>{const n=e.pow(r,t);return e.eql(n,e.ZERO)||e.eql(n,e.ONE)}},t.nLength=w,t.Field=function(e,t,r=!1,s={}){if(e<=i)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:a,nByteLength:c}=w(e,t);if(c>2048)throw new Error("Field lengths over 2048 bytes are not supported");const u=y(e),l=Object.freeze({ORDER:e,BITS:a,BYTES:c,MASK:(0,n.bitMask)(a),ZERO:i,ONE:o,create:t=>f(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return i<=t&&t<e},is0:e=>e===i,isOdd:e=>(e&o)===o,neg:t=>f(-t,e),eql:(e,t)=>e===t,sqr:t=>f(t*t,e),add:(t,r)=>f(t+r,e),sub:(t,r)=>f(t-r,e),mul:(t,r)=>f(t*r,e),pow:(e,t)=>g(l,e,t),div:(t,r)=>f(t*h(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>h(t,e),sqrt:s.sqrt||(e=>u(l,e)),invertBatch:e=>m(l,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?(0,n.numberToBytesLE)(e,c):(0,n.numberToBytesBE)(e,c),fromBytes:e=>{if(e.length!==c)throw new Error(`Fp.fromBytes: expected ${c}, got ${e.length}`);return r?(0,n.bytesToNumberLE)(e):(0,n.bytesToNumberBE)(e)}});return Object.freeze(l)},t.FpSqrtOdd=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)},t.FpSqrtEven=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r},t.hashToPrivateScalar=function(e,t,r=!1){const i=(e=(0,n.ensureBytes)("privateHash",e)).length,s=w(t).nByteLength+8;if(s<24||i<s||i>1024)throw new Error(`hashToPrivateScalar: expected ${s}-1024 bytes of input, got ${i}`);return f(r?(0,n.bytesToNumberLE)(e):(0,n.bytesToNumberBE)(e),t-o)+o},t.getFieldBytesLength=v,t.getMinHashLength=S,t.mapHashToField=function(e,t,r=!1){const i=e.length,s=v(t),a=S(t);if(i<16||i<a||i>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${i}`);const c=f(r?(0,n.bytesToNumberBE)(e):(0,n.bytesToNumberLE)(e),t-o)+o;return r?(0,n.numberToBytesLE)(c,s):(0,n.numberToBytesBE)(c,s)}},1484:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateObject=t.createHmacDrbg=t.bitMask=t.bitSet=t.bitGet=t.bitLen=t.utf8ToBytes=t.equalBytes=t.concatBytes=t.ensureBytes=t.numberToVarBytesBE=t.numberToBytesLE=t.numberToBytesBE=t.bytesToNumberLE=t.bytesToNumberBE=t.hexToBytes=t.hexToNumber=t.numberToHexUnpadded=t.bytesToHex=t.isBytes=void 0;const r=BigInt(0),n=BigInt(1),i=BigInt(2);function o(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}t.isBytes=o;const s=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function a(e){if(!o(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=s[e[r]];return t}function c(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function u(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}t.bytesToHex=a,t.numberToHexUnpadded=c,t.hexToNumber=u;const l={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function f(e){return e>=l._0&&e<=l._9?e-l._0:e>=l._A&&e<=l._F?e-(l._A-10):e>=l._a&&e<=l._f?e-(l._a-10):void 0}function d(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=f(e.charCodeAt(i)),o=f(e.charCodeAt(i+1));if(void 0===r||void 0===o){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+o}return n}function h(e,t){return d(e.toString(16).padStart(2*t,"0"))}function p(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];if(!o(n))throw new Error("Uint8Array expected");t+=n.length}let r=new Uint8Array(t),n=0;for(let t=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}t.hexToBytes=d,t.bytesToNumberBE=function(e){return u(a(e))},t.bytesToNumberLE=function(e){if(!o(e))throw new Error("Uint8Array expected");return u(a(Uint8Array.from(e).reverse()))},t.numberToBytesBE=h,t.numberToBytesLE=function(e,t){return h(e,t).reverse()},t.numberToVarBytesBE=function(e){return d(c(e))},t.ensureBytes=function(e,t,r){let n;if("string"==typeof t)try{n=d(t)}catch(r){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else{if(!o(t))throw new Error(`${e} must be hex string or Uint8Array`);n=Uint8Array.from(t)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n},t.concatBytes=p,t.equalBytes=function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r},t.utf8ToBytes=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))},t.bitLen=function(e){let t;for(t=0;e>r;e>>=n,t+=1);return t},t.bitGet=function(e,t){return e>>BigInt(t)&n},t.bitSet=(e,t,i)=>e|(i?n:r)<<BigInt(t),t.bitMask=e=>(i<<BigInt(e-1))-n;const y=e=>new Uint8Array(e),b=e=>Uint8Array.from(e);t.createHmacDrbg=function(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=y(e),i=y(e),o=0;const s=()=>{n.fill(1),i.fill(0),o=0},a=(...e)=>r(i,n,...e),c=(e=y())=>{i=a(b([0]),e),n=a(),0!==e.length&&(i=a(b([1]),e),n=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=a();const t=n.slice();r.push(t),e+=n.length}return p(...r)};return(e,t)=>{let r;for(s(),c(e);!(r=t(u()));)c();return s(),r}};const g={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||o(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};t.validateObject=function(e,t,r={}){const n=(t,r,n)=>{const i=g[r];if("function"!=typeof i)throw new Error(`Invalid validator "${r}", expected function`);const o=e[t];if(!(n&&void 0===o||i(o,e)))throw new Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${r}`)};for(const[e,r]of Object.entries(t))n(e,r,!1);for(const[e,t]of Object.entries(r))n(e,t,!0);return e}},1705:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapToCurveSimpleSWU=t.SWUFpSqrtRatio=t.weierstrass=t.weierstrassPoints=t.DER=void 0;const n=r(4967),i=r(1484),o=r(1484),s=r(2422),{bytesToNumberBE:a,hexToBytes:c}=i;t.DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:r}=t.DER;if(e.length<2||2!==e[0])throw new r("Invalid signature integer tag");const n=e[1],i=e.subarray(2,n+2);if(!n||i.length!==n)throw new r("Invalid signature integer: wrong length");if(128&i[0])throw new r("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new r("Invalid signature integer: unnecessary leading zero");return{d:a(i),l:e.subarray(n+2)}},toSig(e){const{Err:r}=t.DER,n="string"==typeof e?c(e):e;if(!i.isBytes(n))throw new Error("ui8a expected");let o=n.length;if(o<2||48!=n[0])throw new r("Invalid signature tag");if(n[1]!==o-2)throw new r("Invalid signature: incorrect length");const{d:s,l:a}=t.DER._parseInt(n.subarray(2)),{d:u,l}=t.DER._parseInt(a);if(l.length)throw new r("Invalid signature: left bytes after parsing");return{r:s,s:u}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),o=n.length/2,s=i.length/2,a=r(o),c=r(s);return`30${r(s+o+4)}02${c}${i}02${a}${n}`}};const u=BigInt(0),l=BigInt(1),f=BigInt(2),d=BigInt(3),h=BigInt(4);function p(e){const t=function(e){const t=(0,s.validateBasic)(e);i.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:o}=t;if(r){if(!n.eql(o,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,a=t.toBytes||((e,t,n)=>{const o=t.toAffine();return i.concatBytes(Uint8Array.from([4]),r.toBytes(o.x),r.toBytes(o.y))}),c=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function f(e){const{a:n,b:i}=t,o=r.sqr(e),s=r.mul(o,e);return r.add(r.add(s,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),f(t.Gx)))throw new Error("bad generator point: equation left != right");function h(e){return"bigint"==typeof e&&u<e&&e<t.n}function p(e){if(!h(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function y(e){const{allowedPrivateKeyLengths:r,nByteLength:s,wrapPrivateKey:a,n:c}=t;if(r&&"bigint"!=typeof e){if(i.isBytes(e)&&(e=i.bytesToHex(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*s,"0")}let u;try{u="bigint"==typeof e?e:i.bytesToNumberBE((0,o.ensureBytes)("private key",e,s))}catch(t){throw new Error(`private key must be ${s} bytes, hex or bigint, not ${typeof e}`)}return a&&(u=n.mod(u,c)),p(u),u}const b=new Map;function g(e){if(!(e instanceof m))throw new Error("ProjectivePoint expected")}class m{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required")}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof m)throw new Error("projective point not allowed");const i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?m.ZERO:new m(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(m.fromAffine)}static fromHex(e){const t=m.fromAffine(c((0,o.ensureBytes)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return m.BASE.multiply(y(e))}_setWindowSize(e){this._WINDOW_SIZE=e,b.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw new Error("bad point: x or y not FE");const i=r.sqr(n),o=f(e);if(!r.eql(i,o))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){g(e);const{px:t,py:n,pz:i}=this,{px:o,py:s,pz:a}=e,c=r.eql(r.mul(t,a),r.mul(o,i)),u=r.eql(r.mul(n,a),r.mul(s,i));return c&&u}negate(){return new m(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,i=r.mul(n,d),{px:o,py:s,pz:a}=this;let c=r.ZERO,u=r.ZERO,l=r.ZERO,f=r.mul(o,o),h=r.mul(s,s),p=r.mul(a,a),y=r.mul(o,s);return y=r.add(y,y),l=r.mul(o,a),l=r.add(l,l),c=r.mul(e,l),u=r.mul(i,p),u=r.add(c,u),c=r.sub(h,u),u=r.add(h,u),u=r.mul(c,u),c=r.mul(y,c),l=r.mul(i,l),p=r.mul(e,p),y=r.sub(f,p),y=r.mul(e,y),y=r.add(y,l),l=r.add(f,f),f=r.add(l,f),f=r.add(f,p),f=r.mul(f,y),u=r.add(u,f),p=r.mul(s,a),p=r.add(p,p),f=r.mul(p,y),c=r.sub(c,f),l=r.mul(p,h),l=r.add(l,l),l=r.add(l,l),new m(c,u,l)}add(e){g(e);const{px:n,py:i,pz:o}=this,{px:s,py:a,pz:c}=e;let u=r.ZERO,l=r.ZERO,f=r.ZERO;const h=t.a,p=r.mul(t.b,d);let y=r.mul(n,s),b=r.mul(i,a),w=r.mul(o,c),v=r.add(n,i),S=r.add(s,a);v=r.mul(v,S),S=r.add(y,b),v=r.sub(v,S),S=r.add(n,o);let E=r.add(s,c);return S=r.mul(S,E),E=r.add(y,w),S=r.sub(S,E),E=r.add(i,o),u=r.add(a,c),E=r.mul(E,u),u=r.add(b,w),E=r.sub(E,u),f=r.mul(h,S),u=r.mul(p,w),f=r.add(u,f),u=r.sub(b,f),f=r.add(b,f),l=r.mul(u,f),b=r.add(y,y),b=r.add(b,y),w=r.mul(h,w),S=r.mul(p,S),b=r.add(b,w),w=r.sub(y,w),w=r.mul(h,w),S=r.add(S,w),y=r.mul(b,S),l=r.add(l,y),y=r.mul(E,S),u=r.mul(v,u),u=r.sub(u,y),y=r.mul(v,b),f=r.mul(E,f),f=r.add(f,y),new m(u,l,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(m.ZERO)}wNAF(e){return v.wNAFCached(this,b,e,(e=>{const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(m.fromAffine)}))}multiplyUnsafe(e){const n=m.ZERO;if(e===u)return n;if(p(e),e===l)return this;const{endo:i}=t;if(!i)return v.unsafeLadder(this,e);let{k1neg:o,k1:s,k2neg:a,k2:c}=i.splitScalar(e),f=n,d=n,h=this;for(;s>u||c>u;)s&l&&(f=f.add(h)),c&l&&(d=d.add(h)),h=h.double(),s>>=l,c>>=l;return o&&(f=f.negate()),a&&(d=d.negate()),d=new m(r.mul(d.px,i.beta),d.py,d.pz),f.add(d)}multiply(e){p(e);let n,i,o=e;const{endo:s}=t;if(s){const{k1neg:e,k1:t,k2neg:a,k2:c}=s.splitScalar(o);let{p:u,f:l}=this.wNAF(t),{p:f,f:d}=this.wNAF(c);u=v.constTimeNegate(e,u),f=v.constTimeNegate(a,f),f=new m(r.mul(f.px,s.beta),f.py,f.pz),n=u.add(f),i=l.add(d)}else{const{p:e,f:t}=this.wNAF(o);n=e,i=t}return m.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){const n=m.BASE,i=(e,t)=>t!==u&&t!==l&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,r));return o.is0()?void 0:o}toAffine(e){const{px:t,py:n,pz:i}=this,o=this.is0();null==e&&(e=o?r.ONE:r.inv(i));const s=r.mul(t,e),a=r.mul(n,e),c=r.mul(i,e);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===l)return!0;if(r)return r(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===l?this:r?r(m,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),a(m,this,e)}toHex(e=!0){return i.bytesToHex(this.toRawBytes(e))}}m.BASE=new m(t.Gx,t.Gy,r.ONE),m.ZERO=new m(r.ZERO,r.ONE,r.ZERO);const w=t.nBitLength,v=(0,s.wNAF)(m,t.endo?Math.ceil(w/2):w);return{CURVE:t,ProjectivePoint:m,normPrivateKeyToScalar:y,weierstrassEquation:f,isWithinCurveOrder:h}}function y(e,t){const r=e.ORDER;let n=u;for(let e=r-l;e%f===u;e/=f)n+=l;const i=n,o=f<<i-l-l,s=o*f,a=(r-l)/s,c=(a-l)/f,p=s-l,y=o,b=e.pow(t,a),g=e.pow(t,(a+l)/f);let m=(t,r)=>{let n=b,o=e.pow(r,p),s=e.sqr(o);s=e.mul(s,r);let a=e.mul(t,s);a=e.pow(a,c),a=e.mul(a,o),o=e.mul(a,r),s=e.mul(a,t);let u=e.mul(s,o);a=e.pow(u,y);let d=e.eql(a,e.ONE);o=e.mul(s,g),a=e.mul(u,n),s=e.cmov(o,s,d),u=e.cmov(a,u,d);for(let t=i;t>l;t--){let r=t-f;r=f<<r-l;let i=e.pow(u,r);const a=e.eql(i,e.ONE);o=e.mul(s,n),n=e.mul(n,n),i=e.mul(u,n),s=e.cmov(o,s,a),u=e.cmov(i,u,a)}return{isValid:d,value:s}};if(e.ORDER%h===d){const r=(e.ORDER-d)/h,n=e.sqrt(e.neg(t));m=(t,i)=>{let o=e.sqr(i);const s=e.mul(t,i);o=e.mul(o,s);let a=e.pow(o,r);a=e.mul(a,s);const c=e.mul(a,n),u=e.mul(e.sqr(a),i),l=e.eql(u,t);return{isValid:l,value:e.cmov(c,a,l)}}}return m}t.weierstrassPoints=p,t.weierstrass=function(e){const r=function(e){const t=(0,s.validateBasic)(e);return i.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:a,n:c}=r,f=a.BYTES+1,d=2*a.BYTES+1;function h(e){return n.mod(e,c)}function y(e){return n.invert(e,c)}const{ProjectivePoint:b,normPrivateKeyToScalar:g,weierstrassEquation:m,isWithinCurveOrder:w}=p({...r,toBytes(e,t,r){const n=t.toAffine(),o=a.toBytes(n.x),s=i.concatBytes;return r?s(Uint8Array.from([t.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,a.toBytes(n.y))},fromBytes(e){const t=e.length,r=e[0],n=e.subarray(1);if(t!==f||2!==r&&3!==r){if(t===d&&4===r)return{x:a.fromBytes(n.subarray(0,a.BYTES)),y:a.fromBytes(n.subarray(a.BYTES,2*a.BYTES))};throw new Error(`Point of length ${t} was invalid. Expected ${f} compressed bytes or ${d} uncompressed bytes`)}{const e=i.bytesToNumberBE(n);if(!(u<(o=e)&&o<a.ORDER))throw new Error("Point is not on curve");const t=m(e);let s=a.sqrt(t);return!(1&~r)!=((s&l)===l)&&(s=a.neg(s)),{x:e,y:s}}var o}}),v=e=>i.bytesToHex(i.numberToBytesBE(e,r.nByteLength));function S(e){return e>c>>l}const E=(e,t,r)=>i.bytesToNumberBE(e.slice(t,r));class O{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const t=r.nByteLength;return e=(0,o.ensureBytes)("compactSignature",e,2*t),new O(E(e,0,t),E(e,t,2*t))}static fromDER(e){const{r,s:n}=t.DER.toSig((0,o.ensureBytes)("DER",e));return new O(r,n)}assertValidity(){if(!w(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!w(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new O(this.r,this.s,e)}recoverPublicKey(e){const{r:t,s:n,recovery:i}=this,s=B((0,o.ensureBytes)("msgHash",e));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const c=2===i||3===i?t+r.n:t;if(c>=a.ORDER)throw new Error("recovery id 2 or 3 invalid");const u=1&i?"03":"02",l=b.fromHex(u+v(c)),f=y(c),d=h(-s*f),p=h(n*f),g=b.BASE.multiplyAndAddUnsafe(l,d,p);if(!g)throw new Error("point at infinify");return g.assertValidity(),g}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new O(this.r,h(-this.s),this.recovery):this}toDERRawBytes(){return i.hexToBytes(this.toDERHex())}toDERHex(){return t.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return i.hexToBytes(this.toCompactHex())}toCompactHex(){return v(this.r)+v(this.s)}}const x={isValidPrivateKey(e){try{return g(e),!0}catch(e){return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const e=n.getMinHashLength(r.n);return n.mapHashToField(r.randomBytes(e),r.n)},precompute:(e=8,t=b.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function j(e){const t=i.isBytes(e),r="string"==typeof e,n=(t||r)&&e.length;return t?n===f||n===d:r?n===2*f||n===2*d:e instanceof b}const T=r.bits2int||function(e){const t=i.bytesToNumberBE(e),n=8*e.length-r.nBitLength;return n>0?t>>BigInt(n):t},B=r.bits2int_modN||function(e){return h(T(e))},A=i.bitMask(r.nBitLength);function P(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(u<=e&&e<A))throw new Error(`bigint expected < 2^${r.nBitLength}`);return i.numberToBytesBE(e,r.nByteLength)}const _={lowS:r.lowS,prehash:!1},I={lowS:r.lowS,prehash:!1};return b.BASE._setWindowSize(8),{CURVE:r,getPublicKey:function(e,t=!0){return b.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(j(e))throw new Error("first arg must be private key");if(!j(t))throw new Error("second arg must be public key");return b.fromHex(t).multiply(g(e)).toRawBytes(r)},sign:function(e,t,n=_){const{seed:s,k2sig:c}=function(e,t,n=_){if(["recovered","canonical"].some((e=>e in n)))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:c}=r;let{lowS:f,prehash:d,extraEntropy:p}=n;null==f&&(f=!0),e=(0,o.ensureBytes)("msgHash",e),d&&(e=(0,o.ensureBytes)("prehashed msgHash",s(e)));const m=B(e),v=g(t),E=[P(v),P(m)];if(null!=p){const e=!0===p?c(a.BYTES):p;E.push((0,o.ensureBytes)("extraEntropy",e))}const x=i.concatBytes(...E),j=m;return{seed:x,k2sig:function(e){const t=T(e);if(!w(t))return;const r=y(t),n=b.BASE.multiply(t).toAffine(),i=h(n.x);if(i===u)return;const o=h(r*h(j+i*v));if(o===u)return;let s=(n.x===i?0:2)|Number(n.y&l),a=o;return f&&S(o)&&(a=function(e){return S(e)?h(-e):e}(o),s^=1),new O(i,a,s)}}}(e,t,n),f=r;return i.createHmacDrbg(f.hash.outputLen,f.nByteLength,f.hmac)(s,c)},verify:function(e,n,s,a=I){const c=e;if(n=(0,o.ensureBytes)("msgHash",n),s=(0,o.ensureBytes)("publicKey",s),"strict"in a)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:l}=a;let f,d;try{if("string"==typeof c||i.isBytes(c))try{f=O.fromDER(c)}catch(e){if(!(e instanceof t.DER.Err))throw e;f=O.fromCompact(c)}else{if("object"!=typeof c||"bigint"!=typeof c.r||"bigint"!=typeof c.s)throw new Error("PARSE");{const{r:e,s:t}=c;f=new O(e,t)}}d=b.fromHex(s)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&f.hasHighS())return!1;l&&(n=r.hash(n));const{r:p,s:g}=f,m=B(n),w=y(g),v=h(m*w),S=h(p*w),E=b.BASE.multiplyAndAddUnsafe(d,v,S)?.toAffine();return!!E&&h(E.x)===p},ProjectivePoint:b,Signature:O,utils:x}},t.SWUFpSqrtRatio=y,t.mapToCurveSimpleSWU=function(e,t){if(n.validateField(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=y(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,o,s,a,c,u,l,f;i=e.sqr(n),i=e.mul(i,t.Z),o=e.sqr(i),o=e.add(o,i),s=e.add(o,e.ONE),s=e.mul(s,t.B),a=e.cmov(t.Z,e.neg(o),!e.eql(o,e.ZERO)),a=e.mul(a,t.A),o=e.sqr(s),u=e.sqr(a),c=e.mul(u,t.A),o=e.add(o,c),o=e.mul(o,s),u=e.mul(u,a),c=e.mul(u,t.B),o=e.add(o,c),l=e.mul(i,s);const{isValid:d,value:h}=r(o,u);f=e.mul(i,n),f=e.mul(f,h),l=e.cmov(l,s,d),f=e.cmov(f,h,d);const p=e.isOdd(n)===e.isOdd(f);return f=e.cmov(e.neg(f),f,p),l=e.div(l,a),{x:l,y:f}}}},5897:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeToCurve=t.hashToCurve=t.secp256r1=t.p256=void 0;const n=r(3562),i=r(2623),o=r(4967),s=r(1705),a=r(1761),c=(0,o.Field)(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),u=c.create(BigInt("-3")),l=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b");t.p256=(0,n.createCurve)({a:u,b:l,Fp:c,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},i.sha256),t.secp256r1=t.p256;const f=(()=>(0,s.mapToCurveSimpleSWU)(c,{A:u,B:l,Z:c.create(BigInt("-10"))}))(),d=(()=>(0,a.createHasher)(t.secp256r1.ProjectivePoint,(e=>f(e[0])),{DST:"P256_XMD:SHA-256_SSWU_RO_",encodeDST:"P256_XMD:SHA-256_SSWU_NU_",p:c.ORDER,m:1,k:128,expand:"xmd",hash:i.sha256}))();t.hashToCurve=d.hashToCurve,t.encodeToCurve=d.encodeToCurve},8510:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeToCurve=t.hashToCurve=t.schnorr=t.secp256k1=void 0;const n=r(2623),i=r(9175),o=r(4967),s=r(1705),a=r(1484),c=r(1761),u=r(3562),l=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),f=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),d=BigInt(1),h=BigInt(2),p=(e,t)=>(e+t/h)/t;function y(e){const t=l,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),c=BigInt(44),u=BigInt(88),f=e*e*e%t,d=f*f*e%t,p=(0,o.pow2)(d,r,t)*d%t,y=(0,o.pow2)(p,r,t)*d%t,g=(0,o.pow2)(y,h,t)*f%t,m=(0,o.pow2)(g,i,t)*g%t,w=(0,o.pow2)(m,s,t)*m%t,v=(0,o.pow2)(w,c,t)*w%t,S=(0,o.pow2)(v,u,t)*v%t,E=(0,o.pow2)(S,c,t)*w%t,O=(0,o.pow2)(E,r,t)*d%t,x=(0,o.pow2)(O,a,t)*m%t,j=(0,o.pow2)(x,n,t)*f%t,T=(0,o.pow2)(j,h,t);if(!b.eql(b.sqr(T),e))throw new Error("Cannot find square root");return T}const b=(0,o.Field)(l,void 0,void 0,{sqrt:y});t.secp256k1=(0,u.createCurve)({a:BigInt(0),b:BigInt(7),Fp:b,n:f,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=f,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-d*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),c=p(s*e,t),u=p(-n*e,t);let l=(0,o.mod)(e-c*r-u*i,t),h=(0,o.mod)(-c*n-u*s,t);const y=l>a,b=h>a;if(y&&(l=t-l),b&&(h=t-h),l>a||h>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:y,k1:l,k2neg:b,k2:h}}}},n.sha256);const g=BigInt(0),m=e=>"bigint"==typeof e&&g<e&&e<l,w=e=>"bigint"==typeof e&&g<e&&e<f,v={};function S(e,...t){let r=v[e];if(void 0===r){const t=(0,n.sha256)(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=(0,a.concatBytes)(t,t),v[e]=r}return(0,n.sha256)((0,a.concatBytes)(r,...t))}const E=e=>e.toRawBytes(!0).slice(1),O=e=>(0,a.numberToBytesBE)(e,32),x=e=>(0,o.mod)(e,l),j=e=>(0,o.mod)(e,f),T=t.secp256k1.ProjectivePoint,B=(e,t,r)=>T.BASE.multiplyAndAddUnsafe(e,t,r);function A(e){let r=t.secp256k1.utils.normPrivateKeyToScalar(e),n=T.fromPrivateKey(r);return{scalar:n.hasEvenY()?r:j(-r),bytes:E(n)}}function P(e){if(!m(e))throw new Error("bad x: need 0 < x < p");const t=x(e*e);let r=y(x(t*e+BigInt(7)));r%h!==g&&(r=x(-r));const n=new T(e,r,d);return n.assertValidity(),n}function _(...e){return j((0,a.bytesToNumberBE)(S("BIP0340/challenge",...e)))}function I(e,t,r){const n=(0,a.ensureBytes)("signature",e,64),i=(0,a.ensureBytes)("message",t),o=(0,a.ensureBytes)("publicKey",r,32);try{const e=P((0,a.bytesToNumberBE)(o)),t=(0,a.bytesToNumberBE)(n.subarray(0,32));if(!m(t))return!1;const r=(0,a.bytesToNumberBE)(n.subarray(32,64));if(!w(r))return!1;const s=_(O(t),E(e),i),c=B(e,r,j(-s));return!(!c||!c.hasEvenY()||c.toAffine().x!==t)}catch(e){return!1}}t.schnorr={getPublicKey:function(e){return A(e).bytes},sign:function(e,t,r=(0,i.randomBytes)(32)){const n=(0,a.ensureBytes)("message",e),{bytes:o,scalar:s}=A(t),c=(0,a.ensureBytes)("auxRand",r,32),u=O(s^(0,a.bytesToNumberBE)(S("BIP0340/aux",c))),l=S("BIP0340/nonce",u,o,n),f=j((0,a.bytesToNumberBE)(l));if(f===g)throw new Error("sign failed: k is zero");const{bytes:d,scalar:h}=A(f),p=_(d,o,n),y=new Uint8Array(64);if(y.set(d,0),y.set(O(j(h+p*s)),32),!I(y,n,o))throw new Error("sign: Invalid signature produced");return y},verify:I,utils:{randomPrivateKey:t.secp256k1.utils.randomPrivateKey,lift_x:P,pointToBytes:E,numberToBytesBE:a.numberToBytesBE,bytesToNumberBE:a.bytesToNumberBE,taggedHash:S,mod:o.mod}};const k=(()=>(0,c.isogenyMap)(b,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map((e=>e.map((e=>BigInt(e)))))))(),M=(()=>(0,s.mapToCurveSimpleSWU)(b,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:b.create(BigInt("-11"))}))(),U=(()=>(0,c.createHasher)(t.secp256k1.ProjectivePoint,(e=>{const{x:t,y:r}=M(b.create(e[0]));return k(t,r)}),{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:b.ORDER,m:1,k:128,expand:"xmd",hash:n.sha256}))();t.hashToCurve=U.hashToCurve,t.encodeToCurve=U.encodeToCurve},7557:(e,t)=>{"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function n(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function i(e,...t){if(!((r=e)instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name))throw new Error("Expected Uint8Array");var r;if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function o(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function s(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function a(e,t){i(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.output=t.exists=t.hash=t.bytes=t.bool=t.number=void 0,t.number=r,t.bool=n,t.bytes=i,t.hash=o,t.exists=s,t.output=a;const c={number:r,bool:n,bytes:i,hash:o,exists:s,output:a};t.default=c},6742:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BLAKE2=t.SIGMA=void 0;const n=r(7557),i=r(9175);t.SIGMA=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]);class o extends i.Hash{constructor(e,t,r={},o,s,a){if(super(),this.blockLen=e,this.outputLen=t,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,(0,n.number)(e),(0,n.number)(t),(0,n.number)(o),t<0||t>o)throw new Error("outputLen bigger than keyLen");if(void 0!==r.key&&(r.key.length<1||r.key.length>o))throw new Error(`key must be up 1..${o} byte long or undefined`);if(void 0!==r.salt&&r.salt.length!==s)throw new Error(`salt must be ${s} byte long or undefined`);if(void 0!==r.personalization&&r.personalization.length!==a)throw new Error(`personalization must be ${a} byte long or undefined`);this.buffer32=(0,i.u32)(this.buffer=new Uint8Array(e))}update(e){(0,n.exists)(this);const{blockLen:t,buffer:r,buffer32:o}=this,s=(e=(0,i.toBytes)(e)).length,a=e.byteOffset,c=e.buffer;for(let n=0;n<s;){this.pos===t&&(this.compress(o,0,!1),this.pos=0);const i=Math.min(t-this.pos,s-n),u=a+n;if(i!==t||u%4||!(n+i<s))r.set(e.subarray(n,n+i),this.pos),this.pos+=i,this.length+=i,n+=i;else{const e=new Uint32Array(c,u,Math.floor((s-n)/4));for(let r=0;n+t<s;r+=o.length,n+=t)this.length+=t,this.compress(e,r,!1)}}return this}digestInto(e){(0,n.exists)(this),(0,n.output)(e,this);const{pos:t,buffer32:r}=this;this.finished=!0,this.buffer.subarray(t).fill(0),this.compress(r,0,!0);const o=(0,i.u32)(e);this.get().forEach(((e,t)=>o[t]=e))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){const{buffer:t,length:r,finished:n,destroyed:i,outputLen:o,pos:s}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.length=r,e.finished=n,e.destroyed=i,e.outputLen=o,e.buffer.set(t),e.pos=s,e}}t.BLAKE2=o},915:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA2=void 0;const n=r(7557),i=r(9175);class o extends i.Hash{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.createView)(this.buffer)}update(e){(0,n.exists)(this);const{view:t,buffer:r,blockLen:o}=this,s=(e=(0,i.toBytes)(e)).length;for(let n=0;n<s;){const a=Math.min(o-this.pos,s-n);if(a!==o)r.set(e.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===o&&(this.process(t,0),this.pos=0);else{const t=(0,i.createView)(e);for(;o<=s-n;n+=o)this.process(t,n)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.exists)(this),(0,n.output)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:o,isLE:s}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(r,0),a=0);for(let e=a;e<o;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,u=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+u,a,n)}(r,o-8,BigInt(8*this.length),s),this.process(r,0);const c=(0,i.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,f=this.get();if(l>f.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)c.setUint32(4*e,f[e],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}t.SHA2=o},2318:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add5L=t.add5H=t.add4H=t.add4L=t.add3H=t.add3L=t.add=t.rotlBL=t.rotlBH=t.rotlSL=t.rotlSH=t.rotr32L=t.rotr32H=t.rotrBL=t.rotrBH=t.rotrSL=t.rotrSH=t.shrSL=t.shrSH=t.toBig=t.split=t.fromBig=void 0;const r=BigInt(2**32-1),n=BigInt(32);function i(e,t=!1){return t?{h:Number(e&r),l:Number(e>>n&r)}:{h:0|Number(e>>n&r),l:0|Number(e&r)}}function o(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let o=0;o<e.length;o++){const{h:s,l:a}=i(e[o],t);[r[o],n[o]]=[s,a]}return[r,n]}t.fromBig=i,t.split=o;const s=(e,t)=>BigInt(e>>>0)<<n|BigInt(t>>>0);t.toBig=s;const a=(e,t,r)=>e>>>r;t.shrSH=a;const c=(e,t,r)=>e<<32-r|t>>>r;t.shrSL=c;const u=(e,t,r)=>e>>>r|t<<32-r;t.rotrSH=u;const l=(e,t,r)=>e<<32-r|t>>>r;t.rotrSL=l;const f=(e,t,r)=>e<<64-r|t>>>r-32;t.rotrBH=f;const d=(e,t,r)=>e>>>r-32|t<<64-r;t.rotrBL=d;const h=(e,t)=>t;t.rotr32H=h;const p=(e,t)=>e;t.rotr32L=p;const y=(e,t,r)=>e<<r|t>>>32-r;t.rotlSH=y;const b=(e,t,r)=>t<<r|e>>>32-r;t.rotlSL=b;const g=(e,t,r)=>t<<r-32|e>>>64-r;t.rotlBH=g;const m=(e,t,r)=>e<<r-32|t>>>64-r;function w(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}}t.rotlBL=m,t.add=w;const v=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);t.add3L=v;const S=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;t.add3H=S;const E=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);t.add4L=E;const O=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;t.add4H=O;const x=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);t.add5L=x;const j=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0;t.add5H=j;const T={fromBig:i,split:o,toBig:s,shrSH:a,shrSL:c,rotrSH:u,rotrSL:l,rotrBH:f,rotrBL:d,rotr32H:h,rotr32L:p,rotlSH:y,rotlSL:b,rotlBH:g,rotlBL:m,add:w,add3L:v,add3H:S,add4L:E,add4H:O,add5H:j,add5L:x};t.default=T},6719:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blake2b=void 0;const n=r(6742),i=r(2318),o=r(9175),s=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),a=new Uint32Array(32);function c(e,t,r,n,o,s){const c=o[s],u=o[s+1];let l=a[2*e],f=a[2*e+1],d=a[2*t],h=a[2*t+1],p=a[2*r],y=a[2*r+1],b=a[2*n],g=a[2*n+1],m=i.default.add3L(l,d,c);f=i.default.add3H(m,f,h,u),l=0|m,({Dh:g,Dl:b}={Dh:g^f,Dl:b^l}),({Dh:g,Dl:b}={Dh:i.default.rotr32H(g,b),Dl:i.default.rotr32L(g,b)}),({h:y,l:p}=i.default.add(y,p,g,b)),({Bh:h,Bl:d}={Bh:h^y,Bl:d^p}),({Bh:h,Bl:d}={Bh:i.default.rotrSH(h,d,24),Bl:i.default.rotrSL(h,d,24)}),a[2*e]=l,a[2*e+1]=f,a[2*t]=d,a[2*t+1]=h,a[2*r]=p,a[2*r+1]=y,a[2*n]=b,a[2*n+1]=g}function u(e,t,r,n,o,s){const c=o[s],u=o[s+1];let l=a[2*e],f=a[2*e+1],d=a[2*t],h=a[2*t+1],p=a[2*r],y=a[2*r+1],b=a[2*n],g=a[2*n+1],m=i.default.add3L(l,d,c);f=i.default.add3H(m,f,h,u),l=0|m,({Dh:g,Dl:b}={Dh:g^f,Dl:b^l}),({Dh:g,Dl:b}={Dh:i.default.rotrSH(g,b,16),Dl:i.default.rotrSL(g,b,16)}),({h:y,l:p}=i.default.add(y,p,g,b)),({Bh:h,Bl:d}={Bh:h^y,Bl:d^p}),({Bh:h,Bl:d}={Bh:i.default.rotrBH(h,d,63),Bl:i.default.rotrBL(h,d,63)}),a[2*e]=l,a[2*e+1]=f,a[2*t]=d,a[2*t+1]=h,a[2*r]=p,a[2*r+1]=y,a[2*n]=b,a[2*n+1]=g}class l extends n.BLAKE2{constructor(e={}){super(128,void 0===e.dkLen?64:e.dkLen,e,64,16,16),this.v0l=0|s[0],this.v0h=0|s[1],this.v1l=0|s[2],this.v1h=0|s[3],this.v2l=0|s[4],this.v2h=0|s[5],this.v3l=0|s[6],this.v3h=0|s[7],this.v4l=0|s[8],this.v4h=0|s[9],this.v5l=0|s[10],this.v5h=0|s[11],this.v6l=0|s[12],this.v6h=0|s[13],this.v7l=0|s[14],this.v7h=0|s[15];const t=e.key?e.key.length:0;if(this.v0l^=this.outputLen|t<<8|65536|1<<24,e.salt){const t=(0,o.u32)((0,o.toBytes)(e.salt));this.v4l^=t[0],this.v4h^=t[1],this.v5l^=t[2],this.v5h^=t[3]}if(e.personalization){const t=(0,o.u32)((0,o.toBytes)(e.personalization));this.v6l^=t[0],this.v6h^=t[1],this.v7l^=t[2],this.v7h^=t[3]}if(e.key){const t=new Uint8Array(this.blockLen);t.set((0,o.toBytes)(e.key)),this.update(t)}}get(){let{v0l:e,v0h:t,v1l:r,v1h:n,v2l:i,v2h:o,v3l:s,v3h:a,v4l:c,v4h:u,v5l:l,v5h:f,v6l:d,v6h:h,v7l:p,v7h:y}=this;return[e,t,r,n,i,o,s,a,c,u,l,f,d,h,p,y]}set(e,t,r,n,i,o,s,a,c,u,l,f,d,h,p,y){this.v0l=0|e,this.v0h=0|t,this.v1l=0|r,this.v1h=0|n,this.v2l=0|i,this.v2h=0|o,this.v3l=0|s,this.v3h=0|a,this.v4l=0|c,this.v4h=0|u,this.v5l=0|l,this.v5h=0|f,this.v6l=0|d,this.v6h=0|h,this.v7l=0|p,this.v7h=0|y}compress(e,t,r){this.get().forEach(((e,t)=>a[t]=e)),a.set(s,16);let{h:o,l}=i.default.fromBig(BigInt(this.length));a[24]=s[8]^l,a[25]=s[9]^o,r&&(a[28]=~a[28],a[29]=~a[29]);let f=0;const d=n.SIGMA;for(let r=0;r<12;r++)c(0,4,8,12,e,t+2*d[f++]),u(0,4,8,12,e,t+2*d[f++]),c(1,5,9,13,e,t+2*d[f++]),u(1,5,9,13,e,t+2*d[f++]),c(2,6,10,14,e,t+2*d[f++]),u(2,6,10,14,e,t+2*d[f++]),c(3,7,11,15,e,t+2*d[f++]),u(3,7,11,15,e,t+2*d[f++]),c(0,5,10,15,e,t+2*d[f++]),u(0,5,10,15,e,t+2*d[f++]),c(1,6,11,12,e,t+2*d[f++]),u(1,6,11,12,e,t+2*d[f++]),c(2,7,8,13,e,t+2*d[f++]),u(2,7,8,13,e,t+2*d[f++]),c(3,4,9,14,e,t+2*d[f++]),u(3,4,9,14,e,t+2*d[f++]);this.v0l^=a[0]^a[16],this.v0h^=a[1]^a[17],this.v1l^=a[2]^a[18],this.v1h^=a[3]^a[19],this.v2l^=a[4]^a[20],this.v2h^=a[5]^a[21],this.v3l^=a[6]^a[22],this.v3h^=a[7]^a[23],this.v4l^=a[8]^a[24],this.v4h^=a[9]^a[25],this.v5l^=a[10]^a[26],this.v5h^=a[11]^a[27],this.v6l^=a[12]^a[28],this.v6h^=a[13]^a[29],this.v7l^=a[14]^a[30],this.v7h^=a[15]^a[31],a.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}t.blake2b=(0,o.wrapConstructorWithOpts)((e=>new l(e)))},6125:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0;const n=r(7598);t.crypto=n&&"object"==typeof n&&"webcrypto"in n?n.webcrypto:void 0},9615:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const n=r(7557),i=r(9175);class o extends i.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,n.hash)(e);const r=(0,i.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?e.create().update(r).digest():r);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return(0,n.exists)(this),this.iHash.update(e),this}digestInto(e){(0,n.exists)(this),(0,n.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=o,t.hmac=(e,t,r)=>new o(e,t).update(r).digest(),t.hmac.create=(e,t)=>new o(e,t)},8941:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pbkdf2Async=t.pbkdf2=void 0;const n=r(7557),i=r(9615),o=r(9175);function s(e,t,r,s){(0,n.hash)(e);const a=(0,o.checkOpts)({dkLen:32,asyncTick:10},s),{c,dkLen:u,asyncTick:l}=a;if((0,n.number)(c),(0,n.number)(u),(0,n.number)(l),c<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const f=(0,o.toBytes)(t),d=(0,o.toBytes)(r),h=new Uint8Array(u),p=i.hmac.create(e,f),y=p._cloneInto().update(d);return{c,dkLen:u,asyncTick:l,DK:h,PRF:p,PRFSalt:y}}function a(e,t,r,n,i){return e.destroy(),t.destroy(),n&&n.destroy(),i.fill(0),r}t.pbkdf2=function(e,t,r,n){const{c:i,dkLen:c,DK:u,PRF:l,PRFSalt:f}=s(e,t,r,n);let d;const h=new Uint8Array(4),p=(0,o.createView)(h),y=new Uint8Array(l.outputLen);for(let e=1,t=0;t<c;e++,t+=l.outputLen){const r=u.subarray(t,t+l.outputLen);p.setInt32(0,e,!1),(d=f._cloneInto(d)).update(h).digestInto(y),r.set(y.subarray(0,r.length));for(let e=1;e<i;e++){l._cloneInto(d).update(y).digestInto(y);for(let e=0;e<r.length;e++)r[e]^=y[e]}}return a(l,f,u,d,y)},t.pbkdf2Async=async function(e,t,r,n){const{c:i,dkLen:c,asyncTick:u,DK:l,PRF:f,PRFSalt:d}=s(e,t,r,n);let h;const p=new Uint8Array(4),y=(0,o.createView)(p),b=new Uint8Array(f.outputLen);for(let e=1,t=0;t<c;e++,t+=f.outputLen){const r=l.subarray(t,t+f.outputLen);y.setInt32(0,e,!1),(h=d._cloneInto(h)).update(p).digestInto(b),r.set(b.subarray(0,r.length)),await(0,o.asyncLoop)(i-1,u,(()=>{f._cloneInto(h).update(b).digestInto(b);for(let e=0;e<r.length;e++)r[e]^=b[e]}))}return a(f,d,l,h,b)}},2623:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.sha256=void 0;const n=r(915),i=r(9175),o=(e,t,r)=>e&t^e&r^t&r,s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class u extends n.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)c[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=c[e-15],r=c[e-2],n=(0,i.rotr)(t,7)^(0,i.rotr)(t,18)^t>>>3,o=(0,i.rotr)(r,17)^(0,i.rotr)(r,19)^r>>>10;c[e]=o+c[e-7]+n+c[e-16]|0}let{A:r,B:n,C:a,D:u,E:l,F:f,G:d,H:h}=this;for(let e=0;e<64;e++){const t=h+((0,i.rotr)(l,6)^(0,i.rotr)(l,11)^(0,i.rotr)(l,25))+((p=l)&f^~p&d)+s[e]+c[e]|0,y=((0,i.rotr)(r,2)^(0,i.rotr)(r,13)^(0,i.rotr)(r,22))+o(r,n,a)|0;h=d,d=f,f=l,l=u+t|0,u=a,a=n,n=r,r=t+y|0}var p;r=r+this.A|0,n=n+this.B|0,a=a+this.C|0,u=u+this.D|0,l=l+this.E|0,f=f+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(r,n,a,u,l,f,d,h)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class l extends u{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}t.sha256=(0,i.wrapConstructor)((()=>new u)),t.sha224=(0,i.wrapConstructor)((()=>new l))},102:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha384=t.sha512_256=t.sha512_224=t.sha512=t.SHA512=void 0;const n=r(915),i=r(2318),o=r(9175),[s,a]=(()=>i.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),c=new Uint32Array(80),u=new Uint32Array(80);class l extends n.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:o,Dh:s,Dl:a,Eh:c,El:u,Fh:l,Fl:f,Gh:d,Gl:h,Hh:p,Hl:y}=this;return[e,t,r,n,i,o,s,a,c,u,l,f,d,h,p,y]}set(e,t,r,n,i,o,s,a,c,u,l,f,d,h,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|f,this.Gh=0|d,this.Gl=0|h,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let r=0;r<16;r++,t+=4)c[r]=e.getUint32(t),u[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|c[e-15],r=0|u[e-15],n=i.default.rotrSH(t,r,1)^i.default.rotrSH(t,r,8)^i.default.shrSH(t,r,7),o=i.default.rotrSL(t,r,1)^i.default.rotrSL(t,r,8)^i.default.shrSL(t,r,7),s=0|c[e-2],a=0|u[e-2],l=i.default.rotrSH(s,a,19)^i.default.rotrBH(s,a,61)^i.default.shrSH(s,a,6),f=i.default.rotrSL(s,a,19)^i.default.rotrBL(s,a,61)^i.default.shrSL(s,a,6),d=i.default.add4L(o,f,u[e-7],u[e-16]),h=i.default.add4H(d,n,l,c[e-7],c[e-16]);c[e]=0|h,u[e]=0|d}let{Ah:r,Al:n,Bh:o,Bl:l,Ch:f,Cl:d,Dh:h,Dl:p,Eh:y,El:b,Fh:g,Fl:m,Gh:w,Gl:v,Hh:S,Hl:E}=this;for(let e=0;e<80;e++){const t=i.default.rotrSH(y,b,14)^i.default.rotrSH(y,b,18)^i.default.rotrBH(y,b,41),O=i.default.rotrSL(y,b,14)^i.default.rotrSL(y,b,18)^i.default.rotrBL(y,b,41),x=y&g^~y&w,j=b&m^~b&v,T=i.default.add5L(E,O,j,a[e],u[e]),B=i.default.add5H(T,S,t,x,s[e],c[e]),A=0|T,P=i.default.rotrSH(r,n,28)^i.default.rotrBH(r,n,34)^i.default.rotrBH(r,n,39),_=i.default.rotrSL(r,n,28)^i.default.rotrBL(r,n,34)^i.default.rotrBL(r,n,39),I=r&o^r&f^o&f,k=n&l^n&d^l&d;S=0|w,E=0|v,w=0|g,v=0|m,g=0|y,m=0|b,({h:y,l:b}=i.default.add(0|h,0|p,0|B,0|A)),h=0|f,p=0|d,f=0|o,d=0|l,o=0|r,l=0|n;const M=i.default.add3L(A,_,k);r=i.default.add3H(M,B,P,I),n=0|M}({h:r,l:n}=i.default.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:o,l}=i.default.add(0|this.Bh,0|this.Bl,0|o,0|l)),({h:f,l:d}=i.default.add(0|this.Ch,0|this.Cl,0|f,0|d)),({h,l:p}=i.default.add(0|this.Dh,0|this.Dl,0|h,0|p)),({h:y,l:b}=i.default.add(0|this.Eh,0|this.El,0|y,0|b)),({h:g,l:m}=i.default.add(0|this.Fh,0|this.Fl,0|g,0|m)),({h:w,l:v}=i.default.add(0|this.Gh,0|this.Gl,0|w,0|v)),({h:S,l:E}=i.default.add(0|this.Hh,0|this.Hl,0|S,0|E)),this.set(r,n,o,l,f,d,h,p,y,b,g,m,w,v,S,E)}roundClean(){c.fill(0),u.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}t.SHA512=l;class f extends l{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class d extends l{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class h extends l{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}t.sha512=(0,o.wrapConstructor)((()=>new l)),t.sha512_224=(0,o.wrapConstructor)((()=>new f)),t.sha512_256=(0,o.wrapConstructor)((()=>new d)),t.sha384=(0,o.wrapConstructor)((()=>new h))},9175:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const n=r(6125);function i(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}if(t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),t.rotr=(e,t)=>e<<32-t|e>>>t,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!t.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));t.bytesToHex=function(e){if(!i(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=o[e[r]];return t};const s=48,a=57,c=65,u=70,l=97,f=102;function d(e){return e>=s&&e<=a?e-s:e>=c&&e<=u?e-(c-10):e>=l&&e<=f?e-(l-10):void 0}function h(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function p(e){if("string"==typeof e&&(e=h(e)),!i(e))throw new Error("expected Uint8Array, got "+typeof e);return e}t.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=d(e.charCodeAt(i)),o=d(e.charCodeAt(i+1));if(void 0===r||void 0===o){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+o}return n},t.nextTick=async()=>{},t.asyncLoop=async function(e,r,n){let i=Date.now();for(let o=0;o<e;o++){n(o);const e=Date.now()-i;e>=0&&e<r||(await(0,t.nextTick)(),i+=e)}},t.utf8ToBytes=h,t.toBytes=p,t.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];if(!i(n))throw new Error("Uint8Array expected");t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r},t.Hash=class{clone(){return this._cloneInto()}};const y={}.toString;t.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==y.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},t.wrapConstructor=function(e){const t=t=>e().update(p(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(p(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.wrapXOFConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(p(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.randomBytes=function(e=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}},3203:(e,t)=>{"use strict";function r(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function n(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function i(...e){const t=e=>e,r=(e,t)=>r=>e(t(r));return{encode:e.map((e=>e.encode)).reduceRight(r,t),decode:e.map((e=>e.decode)).reduce(r,t)}}function o(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(r(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const r=e.indexOf(t);if(-1===r)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return r}))}}}function s(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function a(e,t="="){if(r(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let n=r.length;if(n*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if(!((n-1)*e%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function c(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function u(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let i=0;const o=[],s=Array.from(e);for(s.forEach((e=>{if(r(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,r=!0;for(let o=i;o<s.length;o++){const a=s[o],c=t*e+a;if(!Number.isSafeInteger(c)||t*e/t!==e||c-a!=t*e)throw new Error("convertRadix: carry overflow");e=c%n;const u=Math.floor(c/n);if(s[o]=u,!Number.isSafeInteger(u)||u*n+e!==c)throw new Error("convertRadix: carry overflow");r&&(u?r=!1:i=o)}if(o.push(e),r)break}for(let t=0;t<e.length-1&&0===e[t];t++)o.push(0);return o.reverse()}Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.createBase58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64urlnopad=t.base64url=t.base64=t.base32crockford=t.base32hex=t.base32=t.base16=t.utils=t.assertNumber=void 0,t.assertNumber=r;const l=(e,t)=>t?l(t,e%t):e,f=(e,t)=>e+(t-l(e,t));function d(e,t,n,i){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(f(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${f(t,n)}`);let o=0,s=0;const a=2**n-1,c=[];for(const i of e){if(r(i),i>=2**t)throw new Error(`convertRadix2: invalid data word=${i} from=${t}`);if(o=o<<t|i,s+t>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=n;s-=n)c.push((o>>s-n&a)>>>0);o&=2**s-1}if(o=o<<n-s&a,!i&&s>=t)throw new Error("Excess padding");if(!i&&o)throw new Error(`Non-zero padding: ${o}`);return i&&s>0&&c.push(o>>>0),c}function h(e){return r(e),{encode:t=>{if(!n(t))throw new Error("radix.encode input should be Uint8Array");return u(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(u(t,e,256))}}}function p(e,t=!1){if(r(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(f(8,e)>32||f(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!n(r))throw new Error("radix2.encode input should be Uint8Array");return d(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(d(r,e,8,t))}}}function y(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}function b(e,t){if(r(e),"function"!=typeof t)throw new Error("checksum fn should be function");return{encode(r){if(!n(r))throw new Error("checksum.encode: input should be Uint8Array");const i=t(r).slice(0,e),o=new Uint8Array(r.length+e);return o.set(r),o.set(i,r.length),o},decode(r){if(!n(r))throw new Error("checksum.decode: input should be Uint8Array");const i=r.slice(0,-e),o=t(i).slice(0,e),s=r.slice(-e);for(let t=0;t<e;t++)if(o[t]!==s[t])throw new Error("Invalid checksum");return i}}}t.utils={alphabet:o,chain:i,checksum:b,convertRadix:u,convertRadix2:d,radix:h,radix2:p,join:s,padding:a},t.base16=i(p(4),o("0123456789ABCDEF"),s("")),t.base32=i(p(5),o("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),a(5),s("")),t.base32hex=i(p(5),o("0123456789ABCDEFGHIJKLMNOPQRSTUV"),a(5),s("")),t.base32crockford=i(p(5),o("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),s(""),c((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),t.base64=i(p(6),o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),a(6),s("")),t.base64url=i(p(6),o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),a(6),s("")),t.base64urlnopad=i(p(6),o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),s(""));const g=e=>i(h(58),o(e),s(""));t.base58=g("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=g("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=g("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const m=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(e){let r="";for(let n=0;n<e.length;n+=8){const i=e.subarray(n,n+8);r+=t.base58.encode(i).padStart(m[i.length],"1")}return r},decode(e){let r=[];for(let n=0;n<e.length;n+=11){const i=e.slice(n,n+11),o=m.indexOf(i.length),s=t.base58.decode(i);for(let e=0;e<s.length-o;e++)if(0!==s[e])throw new Error("base58xmr: wrong padding");r=r.concat(Array.from(s.slice(s.length-o)))}return Uint8Array.from(r)}},t.createBase58check=e=>i(b(4,(t=>e(e(t)))),t.base58),t.base58check=t.createBase58check;const w=i(o("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),s("")),v=[996825010,642813549,513874426,1027748829,705979059];function S(e){const t=e>>25;let r=(33554431&e)<<5;for(let e=0;e<v.length;e++)1==(t>>e&1)&&(r^=v[e]);return r}function E(e,t,r=1){const n=e.length;let i=1;for(let t=0;t<n;t++){const r=e.charCodeAt(t);if(r<33||r>126)throw new Error(`Invalid prefix (${e})`);i=S(i)^r>>5}i=S(i);for(let t=0;t<n;t++)i=S(i)^31&e.charCodeAt(t);for(let e of t)i=S(i)^e;for(let e=0;e<6;e++)i=S(i);return i^=r,w.encode(d([i%2**30],30,5,!1))}function O(e){const t="bech32"===e?1:734539939,r=p(5),n=r.decode,i=r.encode,o=y(n);function s(e,r=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==r&&e.length>r)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${r})`);const n=e.toLowerCase();if(e!==n&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const i=(e=n).lastIndexOf("1");if(0===i||-1===i)throw new Error('Letter "1" must be present between prefix and data only');const o=e.slice(0,i),s=e.slice(i+1);if(s.length<6)throw new Error("Data must be at least 6 characters long");const a=w.decode(s).slice(0,-6),c=E(o,a,t);if(!s.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:o,words:a}}return{encode:function(e,r,n=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof r);const i=e.length+7+r.length;if(!1!==n&&i>n)throw new TypeError(`Length ${i} exceeds limit ${n}`);const o=e.toLowerCase(),s=E(o,r,t);return`${o}1${w.encode(r)}${s}`},decode:s,decodeToBytes:function(e){const{prefix:t,words:r}=s(e,!1);return{prefix:t,words:r,bytes:n(r)}},decodeUnsafe:y(s),fromWords:n,fromWordsUnsafe:o,toWords:i}}t.bech32=O("bech32"),t.bech32m=O("bech32m"),t.utf8={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},t.hex=i(p(4),o("0123456789abcdef"),s(""),c((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));const x={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},j="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr";t.bytesToString=(e,t)=>{if("string"!=typeof e||!x.hasOwnProperty(e))throw new TypeError(j);if(!n(t))throw new TypeError("bytesToString() expects Uint8Array");return x[e].encode(t)},t.str=t.bytesToString,t.stringToBytes=(e,t)=>{if(!x.hasOwnProperty(e))throw new TypeError(j);if("string"!=typeof t)throw new TypeError("stringToBytes() expects string");return x[e].decode(t)},t.bytes=t.stringToBytes},7341:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mnemonicToSeedSync=t.mnemonicToSeed=t.validateMnemonic=t.entropyToMnemonic=t.mnemonicToEntropy=t.generateMnemonic=void 0;const n=r(7557),i=r(8941),o=r(2623),s=r(102),a=r(9175),c=r(3203);function u(e){if("string"!=typeof e)throw new TypeError("Invalid mnemonic type: "+typeof e);return e.normalize("NFKD")}function l(e){const t=u(e),r=t.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:r}}function f(e){(0,n.bytes)(e,16,20,24,28,32)}t.generateMnemonic=function(e,t=128){if((0,n.number)(t),t%32!=0||t>256)throw new TypeError("Invalid entropy");return y((0,a.randomBytes)(t/8),e)};const d=e=>{const t=8-e.length/4;return new Uint8Array([(0,o.sha256)(e)[0]>>t<<t])};function h(e){if(!Array.isArray(e)||2048!==e.length||"string"!=typeof e[0])throw new Error("Wordlist: expected array of 2048 strings");return e.forEach((e=>{if("string"!=typeof e)throw new Error(`Wordlist: non-string element: ${e}`)})),c.utils.chain(c.utils.checksum(1,d),c.utils.radix2(11,!0),c.utils.alphabet(e))}function p(e,t){const{words:r}=l(e),n=h(t).decode(r);return f(n),n}function y(e,t){return f(e),h(t).encode(e).join((e=>"あいこくしん"===e[0])(t)?"　":" ")}t.mnemonicToEntropy=p,t.entropyToMnemonic=y,t.validateMnemonic=function(e,t){try{p(e,t)}catch(e){return!1}return!0};const b=e=>u(`mnemonic${e}`);t.mnemonicToSeed=function(e,t=""){return(0,i.pbkdf2Async)(s.sha512,l(e).nfkd,b(t),{c:2048,dkLen:64})},t.mnemonicToSeedSync=function(e,t=""){return(0,i.pbkdf2)(s.sha512,l(e).nfkd,b(t),{c:2048,dkLen:64})}},5364:e=>{"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=n}var s=e.length,a=e.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function l(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,i=0;e[r]===a;)n++,r++;for(var o=(e.length-r)*c+1>>>0,u=new Uint8Array(o);e[r];){var l=t[e.charCodeAt(r)];if(255===l)return;for(var f=0,d=o-1;(0!==l||f<i)&&-1!==d;d--,f++)l+=s*u[d]>>>0,u[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=f,r++}for(var h=o-i;h!==o&&0===u[h];)h++;for(var p=new Uint8Array(n+(o-h)),y=n;h!==o;)p[y++]=u[h++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var c=(o-i)*u+1>>>0,l=new Uint8Array(c);i!==o;){for(var f=t[i],d=0,h=c-1;(0!==f||d<n)&&-1!==h;h--,d++)f+=256*l[h]>>>0,l[h]=f%s>>>0,f=f/s>>>0;if(0!==f)throw new Error("Non-zero carry");n=d,i++}for(var p=c-n;p!==c&&0===l[p];)p++;for(var y=a.repeat(r);p<c;++p)y+=e.charAt(l[p]);return y},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}},2343:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bech32m=t.bech32=void 0;const r="qpzry9x8gf2tvdw0s3jn54khce6mua7l",n={};for(let e=0;e<32;e++){const t=r.charAt(e);n[t]=e}function i(e){const t=e>>25;return(33554431&e)<<5^996825010&-(1&t)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function o(e){let t=1;for(let r=0;r<e.length;++r){const n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=i(t)^n>>5}t=i(t);for(let r=0;r<e.length;++r){const n=e.charCodeAt(r);t=i(t)^31&n}return t}function s(e,t,r,n){let i=0,o=0;const s=(1<<r)-1,a=[];for(let n=0;n<e.length;++n)for(i=i<<t|e[n],o+=t;o>=r;)o-=r,a.push(i>>o&s);if(n)o>0&&a.push(i<<r-o&s);else{if(o>=t)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return a}function a(e){return s(e,8,5,!0)}function c(e){const t=s(e,5,8,!1);if(Array.isArray(t))return t}function u(e){const t=s(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function l(e){let t;function s(e,r){if(r=r||90,e.length<8)return e+" too short";if(e.length>r)return"Exceeds length limit";const s=e.toLowerCase(),a=e.toUpperCase();if(e!==s&&e!==a)return"Mixed-case string "+e;const c=(e=s).lastIndexOf("1");if(-1===c)return"No separator character for "+e;if(0===c)return"Missing prefix for "+e;const u=e.slice(0,c),l=e.slice(c+1);if(l.length<6)return"Data too short";let f=o(u);if("string"==typeof f)return f;const d=[];for(let e=0;e<l.length;++e){const t=l.charAt(e),r=n[t];if(void 0===r)return"Unknown character "+t;f=i(f)^r,e+6>=l.length||d.push(r)}return f!==t?"Invalid checksum for "+e:{prefix:u,words:d}}return t="bech32"===e?1:734539939,{decodeUnsafe:function(e,t){const r=s(e,t);if("object"==typeof r)return r},decode:function(e,t){const r=s(e,t);if("object"==typeof r)return r;throw new Error(r)},encode:function(e,n,s){if(s=s||90,e.length+7+n.length>s)throw new TypeError("Exceeds length limit");let a=o(e=e.toLowerCase());if("string"==typeof a)throw new Error(a);let c=e+"1";for(let e=0;e<n.length;++e){const t=n[e];if(t>>5)throw new Error("Non 5-bit word");a=i(a)^t,c+=r.charAt(t)}for(let e=0;e<6;++e)a=i(a);a^=t;for(let e=0;e<6;++e)c+=r.charAt(a>>5*(5-e)&31);return c},toWords:a,fromWordsUnsafe:c,fromWords:u}}t.bech32=l("bech32"),t.bech32m=l("bech32m")},6763:(e,t,r)=>{const n=r(5364);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},2928:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(6989),o=r(6827),s=r(2117),a=r(9073),c=r(9278),u=r(9703),l=r(7488),f=r(2343),d="suiprivkey";function h(e){if(e.startsWith("0x"))return(0,s.fromHEX)(e);if(e.startsWith(d)){const{prefix:t,words:r}=f.bech32.decode(e);return new Uint8Array(f.bech32.fromWords(r)).slice(1)}if(!e.startsWith(d)&&60==e.length){const t=d+e,{prefix:r,words:n}=f.bech32.decode(t);return new Uint8Array(f.bech32.fromWords(n)).slice(1)}if(!e.startsWith(d)&&44==e.length)return(0,s.fromB64)(e);throw new Error("invalid private key value")}e.exports={exportSecret:function(e){return n(this,void 0,void 0,(function*(){let t=null;const r=new u.SuiKeys;try{const e=new c.Ed25519Keypair;r.Private=e.export().privateKey,r.Public=e.toSuiAddress()}catch(e){t=e}e(t,JSON.stringify(r))}))},verifySignature:function(e,t,r,o){return n(this,void 0,void 0,(function*(){let n=!1,s=null;try{const e=(new TextEncoder).encode(r);(yield(0,i.verifyPersonalMessage)(e,o)).toSuiAddress()===t&&(n=!0)}catch(e){s=e}e(s,n)}))},getBalance:function(e,t,r,i){return n(this,void 0,void 0,(function*(){let n=null,s=new u.SuiBalance;try{const e=new o.SuiClient({url:(0,o.getFullnodeUrl)(i)}),n=JSON.parse(r);if(null!=n.CurrencyModules)for(const r of n.CurrencyModules)for(const n of r.ModuleNames){const i=yield e.getBalance({owner:t,coinType:`${r.PackageId}::${n.toLowerCase()}::${n.toUpperCase()}`});s.coins.push(new u.SuiCoinBalance(n,Number.parseInt(i.totalBalance)))}}catch(e){n=e}e(n,JSON.stringify(s))}))},getOwnedObjects:function(e,t,r,i){return n(this,void 0,void 0,(function*(){let s=null;const a=[];try{const e=new o.SuiClient({url:(0,o.getFullnodeUrl)(i)});for(const i of r){const r={owner:t,cursor:null,options:{showType:!0,showContent:!0,showDisplay:!0},filter:{Package:i}},o=t=>n(this,void 0,void 0,(function*(){return yield e.getOwnedObjects(t)}));(yield(0,l.retrievePaginatedData)(o,r)).forEach((e=>{e.data.forEach((e=>{if(null!=e.data){const t=new u.SuiObject(e.data.objectId,e.data.digest,e.data.version,e.data.content,e.data.display);a.push(t)}}))}))}}catch(e){s=e}e(s,JSON.stringify(a.map((e=>e.toView()))))}))},getCapObjects:function(e,t,r,i){return n(this,void 0,void 0,(function*(){let a,f=null;const d=new u.SuiCapObjects;try{const e=new o.SuiClient({url:(0,o.getFullnodeUrl)(i)}),f={owner:c.Ed25519Keypair.fromSecretKey(h(t)).toSuiAddress(),cursor:null,options:{showType:!0}},p=t=>n(this,void 0,void 0,(function*(){return yield e.getOwnedObjects(t)}));a=yield(0,l.retrievePaginatedData)(p,f),a.forEach((e=>{e.data.forEach((e=>{if(null!=e.data&&null!=e.data.type){if(e.data.type.startsWith(r)&&e.data.type.endsWith("GameAdminCap")){const t=e.data.type.split("::");d.GameAdminCaps.push(new u.SuiCapObject(e.data.objectId,t[1]))}if(e.data.type.startsWith(`${s.SUI_FRAMEWORK_ADDRESS}::coin::TreasuryCap<${r}`)){const t=e.data.type.split("::");d.TreasuryCaps.push(new u.SuiCapObject(e.data.objectId,t[3]))}}}))}))}catch(e){f=e}e(f,JSON.stringify(d))}))},mintInventory:function(e,t,r,i,s){return n(this,void 0,void 0,(function*(){var n;let l=null;const f=new u.SuiTransactionResult;try{const e=JSON.parse(r),u=c.Ed25519Keypair.fromSecretKey(h(i)),l=new a.TransactionBlock;null!=e.CurrencyItems&&e.CurrencyItems.forEach((e=>{const r=`${e.PackageId}::${e.Name.toLowerCase()}::mint`;l.moveCall({target:r,arguments:[l.object(e.TreasuryCap),l.pure.u64(e.Amount),l.pure.address(t)]})})),null!=e.GameItems&&e.GameItems.forEach((e=>{const r=`${e.PackageId}::${e.ContentName.toLowerCase()}::create`;l.moveCall({target:r,arguments:[l.object(e.GameAdminCap),l.pure.address(t),l.pure.string(e.Name),l.pure.string(e.Description),l.pure.string(e.ImageURL),l.pure(e.Attributes.map((e=>e.Name))),l.pure(e.Attributes.map((e=>e.Value)))]})}));const d=new o.SuiClient({url:(0,o.getFullnodeUrl)(s)}),p=yield d.signAndExecuteTransactionBlock({signer:u,transactionBlock:l,options:{showEffects:!0}});null!=p.effects&&(f.status=p.effects.status.status,f.computationCost=p.effects.gasUsed.computationCost,f.digest=p.effects.transactionDigest,f.objectIds=null===(n=p.effects.created)||void 0===n?void 0:n.map((e=>e.reference.objectId)),f.error=p.effects.status.error)}catch(e){l=e}e(l,JSON.stringify(f))}))}}},9703:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SuiCapObjects=t.SuiCapObject=t.SuiKeys=t.SuiTransactionResult=t.SuiViewObject=t.SuiObject=t.SuiCoinBalance=t.SuiBalance=void 0,t.SuiBalance=class{constructor(){this.coins=[]}},t.SuiCoinBalance=class{constructor(e,t){this.coinType=e,this.total=t}},t.SuiObject=class{constructor(e,t,r,n,i){this.objectId=e,this.digest=t,this.version=r,this.content=n,this.display=i}toView(){var e,t,n,i,o;const s=new r(this.objectId);if("moveObject"===(null===(e=this.content)||void 0===e?void 0:e.dataType)){const e=null===(t=this.content)||void 0===t?void 0:t.type.split("::");e.length>=3?s.type=e[1]:s.type=null===(n=this.content)||void 0===n?void 0:n.type;const r=null===(i=this.display)||void 0===i?void 0:i.data;null!=r&&(s.name=r.name,s.description=r.description,s.image_url=r.url);const a=null===(o=this.content)||void 0===o?void 0:o.fields;if(null!=a){const e=a.attributes;null!=e&&Array.isArray(e)&&e.forEach((e=>{const t=e;if(null!=t){const e=t.fields.name,r=t.fields.value;s.addAttribute(e,r)}}))}}return s}};class r{constructor(e){this.attributes=[],this.objectId=e}addAttribute(e,t){const r={Name:e,Value:t};this.attributes.push(r)}}t.SuiViewObject=r,t.SuiTransactionResult=class{},t.SuiKeys=class{},t.SuiCapObject=class{constructor(e,t){this.Id=e,this.Name=t}},t.SuiCapObjects=class{constructor(){this.GameAdminCaps=[],this.TreasuryCaps=[]}}},7488:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.retrievePaginatedData=void 0,t.retrievePaginatedData=function(e,t){return r(this,void 0,void 0,(function*(){let r=[],n=null;function i(e){return"object"==typeof e&&null!==e}let o=yield e(t);if(r=r.concat(o),i(o)&&"hasNextPage"in o&&o.hasNextPage&&"nextCursor"in o){const e=o.nextCursor;null!=e&&(n=e)}for(;null!=n;)if("object"==typeof(s=t)&&null!==s&&"cursor"in t)if(t.cursor=n,o=yield e(t),r=r.concat(o),i(o)&&"hasNextPage"in o)if(o.hasNextPage&&"nextCursor"in o){const e=o.nextCursor;null!=e&&(n=e)}else n=null;else n=null;var s;return r}))}},8947:(e,t,r)=>{!function(e){"use strict";var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var s=t(),a=t([1]),c=t([56129,1]),u=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function y(e,t,r,n,i){var o,s=0;for(o=0;o<i;o++)s|=e[t+o]^r[n+o];return(1&s-1>>>8)-1}function b(e,t,r,n){return y(e,t,r,n,16)}function g(e,t,r,n){return y(e,t,r,n,32)}function m(e,t,r,n){!function(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,h=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,y=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,b=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,v=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,S=o,E=s,O=a,x=c,j=u,T=l,B=f,A=d,P=h,_=p,I=y,k=b,M=g,U=m,R=w,C=v,N=0;N<20;N+=2)S^=(i=(M^=(i=(P^=(i=(j^=(i=S+M|0)<<7|i>>>25)+S|0)<<9|i>>>23)+j|0)<<13|i>>>19)+P|0)<<18|i>>>14,T^=(i=(E^=(i=(U^=(i=(_^=(i=T+E|0)<<7|i>>>25)+T|0)<<9|i>>>23)+_|0)<<13|i>>>19)+U|0)<<18|i>>>14,I^=(i=(B^=(i=(O^=(i=(R^=(i=I+B|0)<<7|i>>>25)+I|0)<<9|i>>>23)+R|0)<<13|i>>>19)+O|0)<<18|i>>>14,C^=(i=(k^=(i=(A^=(i=(x^=(i=C+k|0)<<7|i>>>25)+C|0)<<9|i>>>23)+x|0)<<13|i>>>19)+A|0)<<18|i>>>14,S^=(i=(x^=(i=(O^=(i=(E^=(i=S+x|0)<<7|i>>>25)+S|0)<<9|i>>>23)+E|0)<<13|i>>>19)+O|0)<<18|i>>>14,T^=(i=(j^=(i=(A^=(i=(B^=(i=T+j|0)<<7|i>>>25)+T|0)<<9|i>>>23)+B|0)<<13|i>>>19)+A|0)<<18|i>>>14,I^=(i=(_^=(i=(P^=(i=(k^=(i=I+_|0)<<7|i>>>25)+I|0)<<9|i>>>23)+k|0)<<13|i>>>19)+P|0)<<18|i>>>14,C^=(i=(R^=(i=(U^=(i=(M^=(i=C+R|0)<<7|i>>>25)+C|0)<<9|i>>>23)+M|0)<<13|i>>>19)+U|0)<<18|i>>>14;S=S+o|0,E=E+s|0,O=O+a|0,x=x+c|0,j=j+u|0,T=T+l|0,B=B+f|0,A=A+d|0,P=P+h|0,_=_+p|0,I=I+y|0,k=k+b|0,M=M+g|0,U=U+m|0,R=R+w|0,C=C+v|0,e[0]=S>>>0&255,e[1]=S>>>8&255,e[2]=S>>>16&255,e[3]=S>>>24&255,e[4]=E>>>0&255,e[5]=E>>>8&255,e[6]=E>>>16&255,e[7]=E>>>24&255,e[8]=O>>>0&255,e[9]=O>>>8&255,e[10]=O>>>16&255,e[11]=O>>>24&255,e[12]=x>>>0&255,e[13]=x>>>8&255,e[14]=x>>>16&255,e[15]=x>>>24&255,e[16]=j>>>0&255,e[17]=j>>>8&255,e[18]=j>>>16&255,e[19]=j>>>24&255,e[20]=T>>>0&255,e[21]=T>>>8&255,e[22]=T>>>16&255,e[23]=T>>>24&255,e[24]=B>>>0&255,e[25]=B>>>8&255,e[26]=B>>>16&255,e[27]=B>>>24&255,e[28]=A>>>0&255,e[29]=A>>>8&255,e[30]=A>>>16&255,e[31]=A>>>24&255,e[32]=P>>>0&255,e[33]=P>>>8&255,e[34]=P>>>16&255,e[35]=P>>>24&255,e[36]=_>>>0&255,e[37]=_>>>8&255,e[38]=_>>>16&255,e[39]=_>>>24&255,e[40]=I>>>0&255,e[41]=I>>>8&255,e[42]=I>>>16&255,e[43]=I>>>24&255,e[44]=k>>>0&255,e[45]=k>>>8&255,e[46]=k>>>16&255,e[47]=k>>>24&255,e[48]=M>>>0&255,e[49]=M>>>8&255,e[50]=M>>>16&255,e[51]=M>>>24&255,e[52]=U>>>0&255,e[53]=U>>>8&255,e[54]=U>>>16&255,e[55]=U>>>24&255,e[56]=R>>>0&255,e[57]=R>>>8&255,e[58]=R>>>16&255,e[59]=R>>>24&255,e[60]=C>>>0&255,e[61]=C>>>8&255,e[62]=C>>>16&255,e[63]=C>>>24&255}(e,t,r,n)}function w(e,t,r,n){!function(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,h=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,y=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,b=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,v=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,S=0;S<20;S+=2)o^=(i=(g^=(i=(h^=(i=(u^=(i=o+g|0)<<7|i>>>25)+o|0)<<9|i>>>23)+u|0)<<13|i>>>19)+h|0)<<18|i>>>14,l^=(i=(s^=(i=(m^=(i=(p^=(i=l+s|0)<<7|i>>>25)+l|0)<<9|i>>>23)+p|0)<<13|i>>>19)+m|0)<<18|i>>>14,y^=(i=(f^=(i=(a^=(i=(w^=(i=y+f|0)<<7|i>>>25)+y|0)<<9|i>>>23)+w|0)<<13|i>>>19)+a|0)<<18|i>>>14,v^=(i=(b^=(i=(d^=(i=(c^=(i=v+b|0)<<7|i>>>25)+v|0)<<9|i>>>23)+c|0)<<13|i>>>19)+d|0)<<18|i>>>14,o^=(i=(c^=(i=(a^=(i=(s^=(i=o+c|0)<<7|i>>>25)+o|0)<<9|i>>>23)+s|0)<<13|i>>>19)+a|0)<<18|i>>>14,l^=(i=(u^=(i=(d^=(i=(f^=(i=l+u|0)<<7|i>>>25)+l|0)<<9|i>>>23)+f|0)<<13|i>>>19)+d|0)<<18|i>>>14,y^=(i=(p^=(i=(h^=(i=(b^=(i=y+p|0)<<7|i>>>25)+y|0)<<9|i>>>23)+b|0)<<13|i>>>19)+h|0)<<18|i>>>14,v^=(i=(w^=(i=(m^=(i=(g^=(i=v+w|0)<<7|i>>>25)+v|0)<<9|i>>>23)+g|0)<<13|i>>>19)+m|0)<<18|i>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=l>>>0&255,e[5]=l>>>8&255,e[6]=l>>>16&255,e[7]=l>>>24&255,e[8]=y>>>0&255,e[9]=y>>>8&255,e[10]=y>>>16&255,e[11]=y>>>24&255,e[12]=v>>>0&255,e[13]=v>>>8&255,e[14]=v>>>16&255,e[15]=v>>>24&255,e[16]=f>>>0&255,e[17]=f>>>8&255,e[18]=f>>>16&255,e[19]=f>>>24&255,e[20]=d>>>0&255,e[21]=d>>>8&255,e[22]=d>>>16&255,e[23]=d>>>24&255,e[24]=h>>>0&255,e[25]=h>>>8&255,e[26]=h>>>16&255,e[27]=h>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,r,n)}var v=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function S(e,t,r,n,i,o,s){var a,c,u=new Uint8Array(16),l=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=o[c];for(;i>=64;){for(m(l,u,s,v),c=0;c<64;c++)e[t+c]=r[n+c]^l[c];for(a=1,c=8;c<16;c++)a=a+(255&u[c])|0,u[c]=255&a,a>>>=8;i-=64,t+=64,n+=64}if(i>0)for(m(l,u,s,v),c=0;c<i;c++)e[t+c]=r[n+c]^l[c];return 0}function E(e,t,r,n,i){var o,s,a=new Uint8Array(16),c=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=n[s];for(;r>=64;){for(m(c,a,i,v),s=0;s<64;s++)e[t+s]=c[s];for(o=1,s=8;s<16;s++)o=o+(255&a[s])|0,a[s]=255&o,o>>>=8;r-=64,t+=64}if(r>0)for(m(c,a,i,v),s=0;s<r;s++)e[t+s]=c[s];return 0}function O(e,t,r,n,i){var o=new Uint8Array(32);w(o,n,i,v);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=n[a+16];return E(e,t,r,s,o)}function x(e,t,r,n,i,o,s){var a=new Uint8Array(32);w(a,o,s,v);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=o[u+16];return S(e,t,r,n,i,c,a)}var j=function(e){var t,r,n,i,o,s,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|i<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,s=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|s<<2),a=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(s>>>11|a<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function T(e,t,r,n,i,o){var s=new j(o);return s.update(r,n,i),s.finish(e,t),0}function B(e,t,r,n,i,o){var s=new Uint8Array(16);return T(s,0,r,n,i,o),b(e,t,s,0)}function A(e,t,r,n,i){var o;if(r<32)return-1;for(x(e,0,t,0,r,n,i),T(e,16,e,32,r-32,e),o=0;o<16;o++)e[o]=0;return 0}function P(e,t,r,n,i){var o,s=new Uint8Array(32);if(r<32)return-1;if(O(s,0,32,n,i),0!==B(t,16,t,32,r-32,s))return-1;for(x(e,0,t,0,r,n,i),o=0;o<32;o++)e[o]=0;return 0}function _(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function I(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function k(e,t,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(e[o]^t[o]),e[o]^=n,t[o]^=n}function M(e,r){var n,i,o,s=t(),a=t();for(n=0;n<16;n++)a[n]=r[n];for(I(a),I(a),I(a),i=0;i<2;i++){for(s[0]=a[0]-65517,n=1;n<15;n++)s[n]=a[n]-65535-(s[n-1]>>16&1),s[n-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),o=s[15]>>16&1,s[14]&=65535,k(a,s,1-o)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function U(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return M(r,e),M(n,t),g(r,0,n,0)}function R(e){var t=new Uint8Array(32);return M(t,e),1&t[0]}function C(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function N(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function D(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function L(e,t,r){var n,i,o=0,s=0,a=0,c=0,u=0,l=0,f=0,d=0,h=0,p=0,y=0,b=0,g=0,m=0,w=0,v=0,S=0,E=0,O=0,x=0,j=0,T=0,B=0,A=0,P=0,_=0,I=0,k=0,M=0,U=0,R=0,C=r[0],N=r[1],D=r[2],L=r[3],z=r[4],$=r[5],H=r[6],K=r[7],V=r[8],F=r[9],q=r[10],G=r[11],W=r[12],Z=r[13],Y=r[14],J=r[15];o+=(n=t[0])*C,s+=n*N,a+=n*D,c+=n*L,u+=n*z,l+=n*$,f+=n*H,d+=n*K,h+=n*V,p+=n*F,y+=n*q,b+=n*G,g+=n*W,m+=n*Z,w+=n*Y,v+=n*J,s+=(n=t[1])*C,a+=n*N,c+=n*D,u+=n*L,l+=n*z,f+=n*$,d+=n*H,h+=n*K,p+=n*V,y+=n*F,b+=n*q,g+=n*G,m+=n*W,w+=n*Z,v+=n*Y,S+=n*J,a+=(n=t[2])*C,c+=n*N,u+=n*D,l+=n*L,f+=n*z,d+=n*$,h+=n*H,p+=n*K,y+=n*V,b+=n*F,g+=n*q,m+=n*G,w+=n*W,v+=n*Z,S+=n*Y,E+=n*J,c+=(n=t[3])*C,u+=n*N,l+=n*D,f+=n*L,d+=n*z,h+=n*$,p+=n*H,y+=n*K,b+=n*V,g+=n*F,m+=n*q,w+=n*G,v+=n*W,S+=n*Z,E+=n*Y,O+=n*J,u+=(n=t[4])*C,l+=n*N,f+=n*D,d+=n*L,h+=n*z,p+=n*$,y+=n*H,b+=n*K,g+=n*V,m+=n*F,w+=n*q,v+=n*G,S+=n*W,E+=n*Z,O+=n*Y,x+=n*J,l+=(n=t[5])*C,f+=n*N,d+=n*D,h+=n*L,p+=n*z,y+=n*$,b+=n*H,g+=n*K,m+=n*V,w+=n*F,v+=n*q,S+=n*G,E+=n*W,O+=n*Z,x+=n*Y,j+=n*J,f+=(n=t[6])*C,d+=n*N,h+=n*D,p+=n*L,y+=n*z,b+=n*$,g+=n*H,m+=n*K,w+=n*V,v+=n*F,S+=n*q,E+=n*G,O+=n*W,x+=n*Z,j+=n*Y,T+=n*J,d+=(n=t[7])*C,h+=n*N,p+=n*D,y+=n*L,b+=n*z,g+=n*$,m+=n*H,w+=n*K,v+=n*V,S+=n*F,E+=n*q,O+=n*G,x+=n*W,j+=n*Z,T+=n*Y,B+=n*J,h+=(n=t[8])*C,p+=n*N,y+=n*D,b+=n*L,g+=n*z,m+=n*$,w+=n*H,v+=n*K,S+=n*V,E+=n*F,O+=n*q,x+=n*G,j+=n*W,T+=n*Z,B+=n*Y,A+=n*J,p+=(n=t[9])*C,y+=n*N,b+=n*D,g+=n*L,m+=n*z,w+=n*$,v+=n*H,S+=n*K,E+=n*V,O+=n*F,x+=n*q,j+=n*G,T+=n*W,B+=n*Z,A+=n*Y,P+=n*J,y+=(n=t[10])*C,b+=n*N,g+=n*D,m+=n*L,w+=n*z,v+=n*$,S+=n*H,E+=n*K,O+=n*V,x+=n*F,j+=n*q,T+=n*G,B+=n*W,A+=n*Z,P+=n*Y,_+=n*J,b+=(n=t[11])*C,g+=n*N,m+=n*D,w+=n*L,v+=n*z,S+=n*$,E+=n*H,O+=n*K,x+=n*V,j+=n*F,T+=n*q,B+=n*G,A+=n*W,P+=n*Z,_+=n*Y,I+=n*J,g+=(n=t[12])*C,m+=n*N,w+=n*D,v+=n*L,S+=n*z,E+=n*$,O+=n*H,x+=n*K,j+=n*V,T+=n*F,B+=n*q,A+=n*G,P+=n*W,_+=n*Z,I+=n*Y,k+=n*J,m+=(n=t[13])*C,w+=n*N,v+=n*D,S+=n*L,E+=n*z,O+=n*$,x+=n*H,j+=n*K,T+=n*V,B+=n*F,A+=n*q,P+=n*G,_+=n*W,I+=n*Z,k+=n*Y,M+=n*J,w+=(n=t[14])*C,v+=n*N,S+=n*D,E+=n*L,O+=n*z,x+=n*$,j+=n*H,T+=n*K,B+=n*V,A+=n*F,P+=n*q,_+=n*G,I+=n*W,k+=n*Z,M+=n*Y,U+=n*J,v+=(n=t[15])*C,s+=38*(E+=n*D),a+=38*(O+=n*L),c+=38*(x+=n*z),u+=38*(j+=n*$),l+=38*(T+=n*H),f+=38*(B+=n*K),d+=38*(A+=n*V),h+=38*(P+=n*F),p+=38*(_+=n*q),y+=38*(I+=n*G),b+=38*(k+=n*W),g+=38*(M+=n*Z),m+=38*(U+=n*Y),w+=38*(R+=n*J),o=(n=(o+=38*(S+=n*N))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=s,e[2]=a,e[3]=c,e[4]=u,e[5]=l,e[6]=f,e[7]=d,e[8]=h,e[9]=p,e[10]=y,e[11]=b,e[12]=g,e[13]=m,e[14]=w,e[15]=v}function z(e,t){L(e,t,t)}function $(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)z(i,i),2!==n&&4!==n&&L(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function H(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)z(i,i),1!==n&&L(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function K(e,r,n){var i,o,s=new Uint8Array(32),a=new Float64Array(80),u=t(),l=t(),f=t(),d=t(),h=t(),p=t();for(o=0;o<31;o++)s[o]=r[o];for(s[31]=127&r[31]|64,s[0]&=248,C(a,n),o=0;o<16;o++)l[o]=a[o],d[o]=u[o]=f[o]=0;for(u[0]=d[0]=1,o=254;o>=0;--o)k(u,l,i=s[o>>>3]>>>(7&o)&1),k(f,d,i),N(h,u,f),D(u,u,f),N(f,l,d),D(l,l,d),z(d,h),z(p,u),L(u,f,u),L(f,l,h),N(h,u,f),D(u,u,f),z(l,u),D(f,d,p),L(u,f,c),N(u,u,d),L(f,f,u),L(u,d,p),L(d,l,a),z(l,h),k(u,l,i),k(f,d,i);for(o=0;o<16;o++)a[o+16]=u[o],a[o+32]=f[o],a[o+48]=l[o],a[o+64]=d[o];var y=a.subarray(32),b=a.subarray(16);return $(y,y),L(b,b,y),M(e,b),0}function V(e,t){return K(e,t,o)}function F(e,t){return n(t,32),V(e,t)}function q(e,t,r){var n=new Uint8Array(32);return K(n,r,t),w(e,i,n,v)}j.prototype.blocks=function(e,t,r){for(var n,i,o,s,a,c,u,l,f,d,h,p,y,b,g,m,w,v,S,E=this.fin?0:2048,O=this.h[0],x=this.h[1],j=this.h[2],T=this.h[3],B=this.h[4],A=this.h[5],P=this.h[6],_=this.h[7],I=this.h[8],k=this.h[9],M=this.r[0],U=this.r[1],R=this.r[2],C=this.r[3],N=this.r[4],D=this.r[5],L=this.r[6],z=this.r[7],$=this.r[8],H=this.r[9];r>=16;)d=f=0,d+=(O+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*M,d+=(x+=8191&(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*H),d+=(j+=8191&(i>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*$),d+=(T+=8191&(o>>>7|(s=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*z),f=(d+=(B+=8191&(s>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*L))>>>13,d&=8191,d+=(A+=a>>>1&8191)*(5*D),d+=(P+=8191&(a>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*N),d+=(_+=8191&(c>>>11|(u=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*C),d+=(I+=8191&(u>>>8|(l=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*R),h=f+=(d+=(k+=l>>>5|E)*(5*U))>>>13,h+=O*U,h+=x*M,h+=j*(5*H),h+=T*(5*$),f=(h+=B*(5*z))>>>13,h&=8191,h+=A*(5*L),h+=P*(5*D),h+=_*(5*N),h+=I*(5*C),f+=(h+=k*(5*R))>>>13,h&=8191,p=f,p+=O*R,p+=x*U,p+=j*M,p+=T*(5*H),f=(p+=B*(5*$))>>>13,p&=8191,p+=A*(5*z),p+=P*(5*L),p+=_*(5*D),p+=I*(5*N),y=f+=(p+=k*(5*C))>>>13,y+=O*C,y+=x*R,y+=j*U,y+=T*M,f=(y+=B*(5*H))>>>13,y&=8191,y+=A*(5*$),y+=P*(5*z),y+=_*(5*L),y+=I*(5*D),b=f+=(y+=k*(5*N))>>>13,b+=O*N,b+=x*C,b+=j*R,b+=T*U,f=(b+=B*M)>>>13,b&=8191,b+=A*(5*H),b+=P*(5*$),b+=_*(5*z),b+=I*(5*L),g=f+=(b+=k*(5*D))>>>13,g+=O*D,g+=x*N,g+=j*C,g+=T*R,f=(g+=B*U)>>>13,g&=8191,g+=A*M,g+=P*(5*H),g+=_*(5*$),g+=I*(5*z),m=f+=(g+=k*(5*L))>>>13,m+=O*L,m+=x*D,m+=j*N,m+=T*C,f=(m+=B*R)>>>13,m&=8191,m+=A*U,m+=P*M,m+=_*(5*H),m+=I*(5*$),w=f+=(m+=k*(5*z))>>>13,w+=O*z,w+=x*L,w+=j*D,w+=T*N,f=(w+=B*C)>>>13,w&=8191,w+=A*R,w+=P*U,w+=_*M,w+=I*(5*H),v=f+=(w+=k*(5*$))>>>13,v+=O*$,v+=x*z,v+=j*L,v+=T*D,f=(v+=B*N)>>>13,v&=8191,v+=A*C,v+=P*R,v+=_*U,v+=I*M,S=f+=(v+=k*(5*H))>>>13,S+=O*H,S+=x*$,S+=j*z,S+=T*L,f=(S+=B*D)>>>13,S&=8191,S+=A*N,S+=P*C,S+=_*R,S+=I*U,O=d=8191&(f=(f=((f+=(S+=k*M)>>>13)<<2)+f|0)+(d&=8191)|0),x=h+=f>>>=13,j=p&=8191,T=y&=8191,B=b&=8191,A=g&=8191,P=m&=8191,_=w&=8191,I=v&=8191,k=S&=8191,t+=16,r-=16;this.h[0]=O,this.h[1]=x,this.h[2]=j,this.h[3]=T,this.h[4]=B,this.h[5]=A,this.h[6]=P,this.h[7]=_,this.h[8]=I,this.h[9]=k},j.prototype.finish=function(e,t){var r,n,i,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,s[0]=this.h[0]+5,r=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+r,r=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,n=(1^r)-1,o=0;o<10;o++)s[o]&=n;for(n=~n,o=0;o<10;o++)this.h[o]=this.h[o]&n|s[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},j.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var G=A,W=P,Z=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Y(e,t,r,n){for(var i,o,s,a,c,u,l,f,d,h,p,y,b,g,m,w,v,S,E,O,x,j,T,B,A,P,_=new Int32Array(16),I=new Int32Array(16),k=e[0],M=e[1],U=e[2],R=e[3],C=e[4],N=e[5],D=e[6],L=e[7],z=t[0],$=t[1],H=t[2],K=t[3],V=t[4],F=t[5],q=t[6],G=t[7],W=0;n>=128;){for(E=0;E<16;E++)O=8*E+W,_[E]=r[O+0]<<24|r[O+1]<<16|r[O+2]<<8|r[O+3],I[E]=r[O+4]<<24|r[O+5]<<16|r[O+6]<<8|r[O+7];for(E=0;E<80;E++)if(i=k,o=M,s=U,a=R,c=C,u=N,l=D,d=z,h=$,p=H,y=K,b=V,g=F,m=q,T=65535&(j=G),B=j>>>16,A=65535&(x=L),P=x>>>16,T+=65535&(j=(V>>>14|C<<18)^(V>>>18|C<<14)^(C>>>9|V<<23)),B+=j>>>16,A+=65535&(x=(C>>>14|V<<18)^(C>>>18|V<<14)^(V>>>9|C<<23)),P+=x>>>16,T+=65535&(j=V&F^~V&q),B+=j>>>16,A+=65535&(x=C&N^~C&D),P+=x>>>16,x=Z[2*E],T+=65535&(j=Z[2*E+1]),B+=j>>>16,A+=65535&x,P+=x>>>16,x=_[E%16],B+=(j=I[E%16])>>>16,A+=65535&x,P+=x>>>16,A+=(B+=(T+=65535&j)>>>16)>>>16,T=65535&(j=S=65535&T|B<<16),B=j>>>16,A=65535&(x=v=65535&A|(P+=A>>>16)<<16),P=x>>>16,T+=65535&(j=(z>>>28|k<<4)^(k>>>2|z<<30)^(k>>>7|z<<25)),B+=j>>>16,A+=65535&(x=(k>>>28|z<<4)^(z>>>2|k<<30)^(z>>>7|k<<25)),P+=x>>>16,B+=(j=z&$^z&H^$&H)>>>16,A+=65535&(x=k&M^k&U^M&U),P+=x>>>16,f=65535&(A+=(B+=(T+=65535&j)>>>16)>>>16)|(P+=A>>>16)<<16,w=65535&T|B<<16,T=65535&(j=y),B=j>>>16,A=65535&(x=a),P=x>>>16,B+=(j=S)>>>16,A+=65535&(x=v),P+=x>>>16,M=i,U=o,R=s,C=a=65535&(A+=(B+=(T+=65535&j)>>>16)>>>16)|(P+=A>>>16)<<16,N=c,D=u,L=l,k=f,$=d,H=h,K=p,V=y=65535&T|B<<16,F=b,q=g,G=m,z=w,E%16==15)for(O=0;O<16;O++)x=_[O],T=65535&(j=I[O]),B=j>>>16,A=65535&x,P=x>>>16,x=_[(O+9)%16],T+=65535&(j=I[(O+9)%16]),B+=j>>>16,A+=65535&x,P+=x>>>16,v=_[(O+1)%16],T+=65535&(j=((S=I[(O+1)%16])>>>1|v<<31)^(S>>>8|v<<24)^(S>>>7|v<<25)),B+=j>>>16,A+=65535&(x=(v>>>1|S<<31)^(v>>>8|S<<24)^v>>>7),P+=x>>>16,v=_[(O+14)%16],B+=(j=((S=I[(O+14)%16])>>>19|v<<13)^(v>>>29|S<<3)^(S>>>6|v<<26))>>>16,A+=65535&(x=(v>>>19|S<<13)^(S>>>29|v<<3)^v>>>6),P+=x>>>16,P+=(A+=(B+=(T+=65535&j)>>>16)>>>16)>>>16,_[O]=65535&A|P<<16,I[O]=65535&T|B<<16;T=65535&(j=z),B=j>>>16,A=65535&(x=k),P=x>>>16,x=e[0],B+=(j=t[0])>>>16,A+=65535&x,P+=x>>>16,P+=(A+=(B+=(T+=65535&j)>>>16)>>>16)>>>16,e[0]=k=65535&A|P<<16,t[0]=z=65535&T|B<<16,T=65535&(j=$),B=j>>>16,A=65535&(x=M),P=x>>>16,x=e[1],B+=(j=t[1])>>>16,A+=65535&x,P+=x>>>16,P+=(A+=(B+=(T+=65535&j)>>>16)>>>16)>>>16,e[1]=M=65535&A|P<<16,t[1]=$=65535&T|B<<16,T=65535&(j=H),B=j>>>16,A=65535&(x=U),P=x>>>16,x=e[2],B+=(j=t[2])>>>16,A+=65535&x,P+=x>>>16,P+=(A+=(B+=(T+=65535&j)>>>16)>>>16)>>>16,e[2]=U=65535&A|P<<16,t[2]=H=65535&T|B<<16,T=65535&(j=K),B=j>>>16,A=65535&(x=R),P=x>>>16,x=e[3],B+=(j=t[3])>>>16,A+=65535&x,P+=x>>>16,P+=(A+=(B+=(T+=65535&j)>>>16)>>>16)>>>16,e[3]=R=65535&A|P<<16,t[3]=K=65535&T|B<<16,T=65535&(j=V),B=j>>>16,A=65535&(x=C),P=x>>>16,x=e[4],B+=(j=t[4])>>>16,A+=65535&x,P+=x>>>16,P+=(A+=(B+=(T+=65535&j)>>>16)>>>16)>>>16,e[4]=C=65535&A|P<<16,t[4]=V=65535&T|B<<16,T=65535&(j=F),B=j>>>16,A=65535&(x=N),P=x>>>16,x=e[5],B+=(j=t[5])>>>16,A+=65535&x,P+=x>>>16,P+=(A+=(B+=(T+=65535&j)>>>16)>>>16)>>>16,e[5]=N=65535&A|P<<16,t[5]=F=65535&T|B<<16,T=65535&(j=q),B=j>>>16,A=65535&(x=D),P=x>>>16,x=e[6],B+=(j=t[6])>>>16,A+=65535&x,P+=x>>>16,P+=(A+=(B+=(T+=65535&j)>>>16)>>>16)>>>16,e[6]=D=65535&A|P<<16,t[6]=q=65535&T|B<<16,T=65535&(j=G),B=j>>>16,A=65535&(x=L),P=x>>>16,x=e[7],B+=(j=t[7])>>>16,A+=65535&x,P+=x>>>16,P+=(A+=(B+=(T+=65535&j)>>>16)>>>16)>>>16,e[7]=L=65535&A|P<<16,t[7]=G=65535&T|B<<16,W+=128,n-=128}return n}function J(e,t,r){var n,i=new Int32Array(8),o=new Int32Array(8),s=new Uint8Array(256),a=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,Y(i,o,t,r),r%=128,n=0;n<r;n++)s[n]=t[a-r+n];for(s[r]=128,s[(r=256-128*(r<112?1:0))-9]=0,p(s,r-8,a/536870912|0,a<<3),Y(i,o,s,r),n=0;n<8;n++)p(e,8*n,i[n],o[n]);return 0}function X(e,r){var n=t(),i=t(),o=t(),s=t(),a=t(),c=t(),u=t(),f=t(),d=t();D(n,e[1],e[0]),D(d,r[1],r[0]),L(n,n,d),N(i,e[0],e[1]),N(d,r[0],r[1]),L(i,i,d),L(o,e[3],r[3]),L(o,o,l),L(s,e[2],r[2]),N(s,s,s),D(a,i,n),D(c,s,o),N(u,s,o),N(f,i,n),L(e[0],a,c),L(e[1],f,u),L(e[2],u,c),L(e[3],a,f)}function Q(e,t,r){var n;for(n=0;n<4;n++)k(e[n],t[n],r)}function ee(e,r){var n=t(),i=t(),o=t();$(o,r[2]),L(n,r[0],o),L(i,r[1],o),M(e,i),e[31]^=R(n)<<7}function te(e,t,r){var n,i;for(_(e[0],s),_(e[1],a),_(e[2],a),_(e[3],s),i=255;i>=0;--i)Q(e,t,n=r[i/8|0]>>(7&i)&1),X(t,e),X(e,e),Q(e,t,n)}function re(e,r){var n=[t(),t(),t(),t()];_(n[0],f),_(n[1],d),_(n[2],a),L(n[3],f,d),te(e,n,r)}function ne(e,r,i){var o,s=new Uint8Array(64),a=[t(),t(),t(),t()];for(i||n(r,32),J(s,r,32),s[0]&=248,s[31]&=127,s[31]|=64,re(a,s),ee(e,a),o=0;o<32;o++)r[o+32]=e[o];return 0}var ie=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function oe(e,t){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)t[i]+=r-16*t[n]*ie[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*ie[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*ie[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function se(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;oe(e,r)}function ae(e,r,n,i){var o,s,a=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),l=new Float64Array(64),f=[t(),t(),t(),t()];J(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64;var d=n+64;for(o=0;o<n;o++)e[64+o]=r[o];for(o=0;o<32;o++)e[32+o]=a[32+o];for(J(u,e.subarray(32),n+32),se(u),re(f,u),ee(e,f),o=32;o<64;o++)e[o]=i[o];for(J(c,e,n+64),se(c),o=0;o<64;o++)l[o]=0;for(o=0;o<32;o++)l[o]=u[o];for(o=0;o<32;o++)for(s=0;s<32;s++)l[o+s]+=c[o]*a[s];return oe(e.subarray(32),l),d}function ce(e,r,n,i){var o,c=new Uint8Array(32),l=new Uint8Array(64),f=[t(),t(),t(),t()],d=[t(),t(),t(),t()];if(n<64)return-1;if(function(e,r){var n=t(),i=t(),o=t(),c=t(),l=t(),f=t(),d=t();return _(e[2],a),C(e[1],r),z(o,e[1]),L(c,o,u),D(o,o,e[2]),N(c,e[2],c),z(l,c),z(f,l),L(d,f,l),L(n,d,o),L(n,n,c),H(n,n),L(n,n,o),L(n,n,c),L(n,n,c),L(e[0],n,c),z(i,e[0]),L(i,i,c),U(i,o)&&L(e[0],e[0],h),z(i,e[0]),L(i,i,c),U(i,o)?-1:(R(e[0])===r[31]>>7&&D(e[0],s,e[0]),L(e[3],e[0],e[1]),0)}(d,i))return-1;for(o=0;o<n;o++)e[o]=r[o];for(o=0;o<32;o++)e[o+32]=i[o];if(J(l,e,n),se(l),te(f,d,l),re(d,r.subarray(32)),X(f,d),ee(c,f),n-=64,g(r,0,c,0)){for(o=0;o<n;o++)e[o]=0;return-1}for(o=0;o<n;o++)e[o]=r[o+64];return n}var ue,le=64,fe=32,de=64;function he(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function pe(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ye(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:w,crypto_stream_xor:x,crypto_stream:O,crypto_stream_salsa20_xor:S,crypto_stream_salsa20:E,crypto_onetimeauth:T,crypto_onetimeauth_verify:B,crypto_verify_16:b,crypto_verify_32:g,crypto_secretbox:A,crypto_secretbox_open:P,crypto_scalarmult:K,crypto_scalarmult_base:V,crypto_box_beforenm:q,crypto_box_afternm:G,crypto_box:function(e,t,r,n,i,o){var s=new Uint8Array(32);return q(s,i,o),G(e,t,r,n,s)},crypto_box_open:function(e,t,r,n,i,o){var s=new Uint8Array(32);return q(s,i,o),W(e,t,r,n,s)},crypto_box_keypair:F,crypto_hash:J,crypto_sign:ae,crypto_sign_keypair:ne,crypto_sign_open:ce,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:le,crypto_sign_PUBLICKEYBYTES:fe,crypto_sign_SECRETKEYBYTES:de,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:u,L:ie,pack25519:M,unpack25519:C,M:L,A:N,S:z,Z:D,pow2523:H,add:X,set25519:_,modL:oe,scalarmult:te,scalarbase:re},e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,r){pe(e,t,r),he(r,t);for(var n=new Uint8Array(32+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+32]=e[o];return A(i,n,n.length,t,r),i.subarray(16)},e.secretbox.open=function(e,t,r){pe(e,t,r),he(r,t);for(var n=new Uint8Array(16+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+16]=e[o];return n.length<32||0!==P(i,n,n.length,t,r)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(pe(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return K(r,e,t),r},e.scalarMult.base=function(e){if(pe(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return V(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox(t,r,o)},e.box.before=function(e,t){pe(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return q(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox.open(t,r,o)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return F(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(pe(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return V(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(pe(e,t),t.length!==de)throw new Error("bad secret key size");var r=new Uint8Array(le+e.length);return ae(r,e,e.length,t),r},e.sign.open=function(e,t){if(pe(e,t),t.length!==fe)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=ce(r,e,e.length,t);if(n<0)return null;for(var i=new Uint8Array(n),o=0;o<i.length;o++)i[o]=r[o];return i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(le),o=0;o<i.length;o++)i[o]=n[o];return i},e.sign.detached.verify=function(e,t,r){if(pe(e,t,r),t.length!==le)throw new Error("bad signature size");if(r.length!==fe)throw new Error("bad public key size");var n,i=new Uint8Array(le+e.length),o=new Uint8Array(le+e.length);for(n=0;n<le;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+le]=e[n];return ce(o,i,i.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(fe),t=new Uint8Array(de);return ne(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(pe(e),e.length!==de)throw new Error("bad secret key size");for(var t=new Uint8Array(fe),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(pe(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(fe),r=new Uint8Array(de),n=0;n<32;n++)r[n]=e[n];return ne(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=fe,e.sign.secretKeyLength=de,e.sign.seedLength=32,e.sign.signatureLength=le,e.hash=function(e){pe(e);var t=new Uint8Array(64);return J(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return pe(e,t),0!==e.length&&0!==t.length&&e.length===t.length&&0===y(e,0,t,0,e.length)},e.setPRNG=function(e){n=e},(ue="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&ue.getRandomValues?e.setPRNG((function(e,t){var r,n=new Uint8Array(t);for(r=0;r<t;r+=65536)ue.getRandomValues(n.subarray(r,r+Math.min(t-r,65536)));for(r=0;r<t;r++)e[r]=n[r];ye(n)})):(ue=r(6982))&&ue.randomBytes&&e.setPRNG((function(e,t){var r,n=ue.randomBytes(t);for(r=0;r<t;r++)e[r]=n[r];ye(n)}))}(e.exports?e.exports:self.nacl=self.nacl||{})},6982:e=>{"use strict";e.exports=require("crypto")},7598:e=>{"use strict";e.exports=require("node:crypto")},5732:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{TypeTagSerializer:()=>d.TypeTagSerializer,bcs:()=>$,bcsRegistry:()=>p,isPureArg:()=>h}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(3783),l=r(1506),f=r(7484),d=r(7484);function h(e){return void 0!==e.Pure}const p=new u.BCS({...(0,u.getSuiMoveConfig)(),types:{enums:{"Option<T>":{None:null,Some:"T"}}}});function y(e){return u.bcs.u64({name:"unsafe_u64",...e}).transform({input:e=>e,output:e=>Number(e)})}function b(e){return e.transform({input:e=>({[e.kind]:e}),output:e=>{const t=Object.keys(e)[0];return{kind:t,...e[t]}}})}const g=u.bcs.bytes(l.SUI_ADDRESS_LENGTH).transform({input:e=>"string"==typeof e?(0,u.fromHEX)((0,l.normalizeSuiAddress)(e)):e,output:e=>(0,l.normalizeSuiAddress)((0,u.toHEX)(e))}),m=u.bcs.vector(u.bcs.u8()).transform({name:"ObjectDigest",input:e=>(0,u.fromB58)(e),output:e=>(0,u.toB58)(new Uint8Array(e))}),w=u.bcs.struct("SuiObjectRef",{objectId:g,version:u.bcs.u64(),digest:m}),v=u.bcs.struct("SharedObjectRef",{objectId:g,initialSharedVersion:u.bcs.u64(),mutable:u.bcs.bool()}),S=u.bcs.enum("ObjectArg",{ImmOrOwned:w,Shared:v,Receiving:w}),E=u.bcs.enum("CallArg",{Pure:u.bcs.vector(u.bcs.u8()),Object:S,ObjVec:u.bcs.vector(S)}),O=u.bcs.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:u.bcs.lazy((()=>O)),struct:u.bcs.lazy((()=>I)),u16:null,u32:null,u256:null}),x=b(u.bcs.enum("Argument",{GasCoin:null,Input:u.bcs.struct("Input",{index:u.bcs.u16()}),Result:u.bcs.struct("Result",{index:u.bcs.u16()}),NestedResult:u.bcs.struct("NestedResult",{index:u.bcs.u16(),resultIndex:u.bcs.u16()})})),j=u.bcs.struct("ProgrammableMoveCall",{package:g,module:u.bcs.string(),function:u.bcs.string(),type_arguments:u.bcs.vector(O),arguments:u.bcs.vector(x)}).transform({input:e=>{const[t,r,n]=e.target.split("::"),i=e.typeArguments.map((e=>f.TypeTagSerializer.parseFromStr(e,!0)));return{package:(0,l.normalizeSuiAddress)(t),module:r,function:n,type_arguments:i,arguments:e.arguments}},output:e=>({target:[e.package,e.module,e.function].join("::"),arguments:e.arguments,typeArguments:e.type_arguments.map(f.TypeTagSerializer.tagToString)})}),T=b(u.bcs.enum("Transaction",{MoveCall:j,TransferObjects:u.bcs.struct("TransferObjects",{objects:u.bcs.vector(x),address:x}),SplitCoins:u.bcs.struct("SplitCoins",{coin:x,amounts:u.bcs.vector(x)}),MergeCoins:u.bcs.struct("MergeCoins",{destination:x,sources:u.bcs.vector(x)}),Publish:u.bcs.struct("Publish",{modules:u.bcs.vector(u.bcs.vector(u.bcs.u8())),dependencies:u.bcs.vector(g)}),MakeMoveVec:u.bcs.struct("MakeMoveVec",{type:(B=O,u.bcs.enum("Option",{None:null,Some:B})),objects:u.bcs.vector(x)}),Upgrade:u.bcs.struct("Upgrade",{modules:u.bcs.vector(u.bcs.vector(u.bcs.u8())),dependencies:u.bcs.vector(g),packageId:g,ticket:x})}));var B;const A=u.bcs.struct("ProgrammableTransaction",{inputs:u.bcs.vector(E),transactions:u.bcs.vector(T)}),P=u.bcs.enum("TransactionKind",{ProgrammableTransaction:A,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),_=u.bcs.enum("TransactionExpiration",{None:null,Epoch:y()}),I=u.bcs.struct("StructTag",{address:g,module:u.bcs.string(),name:u.bcs.string(),typeParams:u.bcs.vector(O)}),k=u.bcs.struct("GasData",{payment:u.bcs.vector(w),owner:g,price:u.bcs.u64(),budget:u.bcs.u64()}),M=u.bcs.struct("TransactionDataV1",{kind:P,sender:g,gasData:k,expiration:_}),U=u.bcs.enum("TransactionData",{V1:M}),R=u.bcs.struct("SenderSignedData",{data:U,txSignatures:u.bcs.vector(u.bcs.vector(u.bcs.u8()))}),C=u.bcs.enum("CompressedSignature",{ED25519:u.bcs.fixedArray(64,u.bcs.u8()),Secp256k1:u.bcs.fixedArray(64,u.bcs.u8()),Secp256r1:u.bcs.fixedArray(64,u.bcs.u8()),ZkLogin:u.bcs.vector(u.bcs.u8())}),N=u.bcs.enum("PublicKey",{ED25519:u.bcs.fixedArray(32,u.bcs.u8()),Secp256k1:u.bcs.fixedArray(33,u.bcs.u8()),Secp256r1:u.bcs.fixedArray(33,u.bcs.u8()),ZkLogin:u.bcs.vector(u.bcs.u8())}),D=u.bcs.struct("MultiSigPkMap",{pubKey:N,weight:u.bcs.u8()}),L=u.bcs.struct("MultiSigPublicKey",{pk_map:u.bcs.vector(D),threshold:u.bcs.u16()}),z=u.bcs.struct("MultiSig",{sigs:u.bcs.vector(C),bitmap:u.bcs.u16(),multisig_pk:L}),$={...u.bcs,U8:u.bcs.u8(),U16:u.bcs.u16(),U32:u.bcs.u32(),U64:u.bcs.u64(),U128:u.bcs.u128(),U256:u.bcs.u256(),ULEB128:u.bcs.uleb128(),Bool:u.bcs.bool(),String:u.bcs.string(),Address:g,Argument:x,CallArg:E,CompressedSignature:C,GasData:k,MultiSig:z,MultiSigPkMap:D,MultiSigPublicKey:L,ObjectArg:S,ObjectDigest:m,ProgrammableMoveCall:j,ProgrammableTransaction:A,PublicKey:N,SenderSignedData:R,SharedObjectRef:v,StructTag:I,SuiObjectRef:w,Transaction:T,TransactionData:U,TransactionDataV1:M,TransactionExpiration:_,TransactionKind:P,TypeTag:O,ser:p.ser.bind(p),de:p.de.bind(p),getTypeInterface:p.getTypeInterface.bind(p),hasType:p.hasType.bind(p),parseTypeName:p.parseTypeName.bind(p),registerAddressType:p.registerAddressType.bind(p),registerAlias:p.registerAlias.bind(p),registerBcsType:p.registerBcsType.bind(p),registerEnumType:p.registerEnumType.bind(p),registerStructType:p.registerStructType.bind(p),registerType:p.registerType.bind(p),types:p.types};p.registerBcsType("utf8string",(()=>u.bcs.string({name:"utf8string"}))),p.registerBcsType("unsafe_u64",(()=>y())),p.registerBcsType("enumKind",(e=>b(e))),[g,x,E,C,k,z,D,L,S,m,j,A,N,R,v,I,w,T,U,M,_,P,O].forEach((e=>{p.registerBcsType(e.name,(()=>e))}))},7484:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{TypeTagSerializer:()=>h}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(3783),l=r(1506);const f=/^vector<(.+)>$/,d=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;class h{static parseFromStr(e,t=!1){if("address"===e)return{address:null};if("bool"===e)return{bool:null};if("u8"===e)return{u8:null};if("u16"===e)return{u16:null};if("u32"===e)return{u32:null};if("u64"===e)return{u64:null};if("u128"===e)return{u128:null};if("u256"===e)return{u256:null};if("signer"===e)return{signer:null};const r=e.match(f);if(r)return{vector:h.parseFromStr(r[1],t)};const n=e.match(d);if(n)return{struct:{address:t?(0,l.normalizeSuiAddress)(n[1]):n[1],module:n[2],name:n[3],typeParams:void 0===n[5]?[]:h.parseStructTypeArgs(n[5],t)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,t=!1){return(0,u.splitGenericParameters)(e).map((e=>h.parseFromStr(e,t)))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${h.tagToString(e.vector)}>`;if("struct"in e){const t=e.struct,r=t.typeParams.map(h.tagToString).join(", ");return`${t.address}::${t.module}::${t.name}${r?`<${r}>`:""}`}throw new Error("Invalid TypeTag")}}},6566:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{BuilderCallArg:()=>g,Inputs:()=>m,ObjectCallArg:()=>b,PureCallArg:()=>y,getIdFromCallArg:()=>w,getSharedObjectInput:()=>v,isMutableSharedObjectInput:()=>E,isSharedObjectInput:()=>S}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(3783),l=r(2150),f=r(5732),d=r(441),h=r(1506);const p=(0,l.union)([(0,l.object)({ImmOrOwned:d.SuiObjectRef}),(0,l.object)({Shared:(0,l.object)({objectId:(0,l.string)(),initialSharedVersion:(0,l.union)([(0,l.integer)(),(0,l.string)()]),mutable:(0,l.boolean)()})}),(0,l.object)({Receiving:d.SuiObjectRef})]),y=(0,l.object)({Pure:(0,l.array)((0,l.integer)())}),b=(0,l.object)({Object:p}),g=(0,l.union)([y,b]),m={Pure:function(e,t){return{Pure:Array.from(e instanceof Uint8Array?e:(0,u.isSerializedBcs)(e)?e.toBytes():f.bcs.ser(t,e,{maxSize:1/0}).toBytes())}},ObjectRef:({objectId:e,digest:t,version:r})=>({Object:{ImmOrOwned:{digest:t,version:r,objectId:(0,h.normalizeSuiAddress)(e)}}}),SharedObjectRef:({objectId:e,mutable:t,initialSharedVersion:r})=>({Object:{Shared:{mutable:t,initialSharedVersion:r,objectId:(0,h.normalizeSuiAddress)(e)}}}),ReceivingRef:({objectId:e,digest:t,version:r})=>({Object:{Receiving:{digest:t,version:r,objectId:(0,h.normalizeSuiAddress)(e)}}})};function w(e){return"string"==typeof e?(0,h.normalizeSuiAddress)(e):"ImmOrOwned"in e.Object?(0,h.normalizeSuiAddress)(e.Object.ImmOrOwned.objectId):"Receiving"in e.Object?(0,h.normalizeSuiAddress)(e.Object.Receiving.objectId):(0,h.normalizeSuiAddress)(e.Object.Shared.objectId)}function v(e){return"object"==typeof e&&"Object"in e&&"Shared"in e.Object?e.Object.Shared:void 0}function S(e){return!!v(e)}function E(e){return v(e)?.mutable??!1}},3570:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},u=(e,t,r)=>(c(e,t,"read from private field"),r?r.call(e):t.get(e)),l=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},f=(e,t,r,n)=>(c(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),d=(e,t,r)=>(c(e,t,"access private method"),r),h={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(h,{TransactionBlock:()=>Z,isTransactionBlock:()=>G}),e.exports=(n=h,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var p,y,b,g,m,w,v,S,E,O,x,j,T,B,A,P,_,I=r(3783),k=r(2150),M=r(5732),U=r(441),R=r(2117),C=r(1506),N=r(6566),D=r(5593),L=r(6995),z=r(8514),$=r(7498),H=r(9270);const K={maxPureArgumentSize:16384,maxTxGas:5e10,maxGasObjects:256,maxTxSizeBytes:131072};function V(e){if(!e.client)throw new Error("No provider passed to Transaction#build, but transaction data was not sufficient to build offline.");return e.client}const F=Symbol.for("@mysten/transaction"),q={maxTxGas:"max_tx_gas",maxGasObjects:"max_gas_payment_objects",maxTxSizeBytes:"max_tx_size_bytes",maxPureArgumentSize:"max_pure_argument_size"};function G(e){return!!e&&"object"==typeof e&&!0===e[F]}const W=class{constructor(e){l(this,y),l(this,g),l(this,w),l(this,S),l(this,O),l(this,j),l(this,B),l(this,P),l(this,p,void 0),f(this,p,new z.TransactionBlockDataBuilder(e?e.blockData:void 0))}static fromKind(e){const t=new W;return f(t,p,z.TransactionBlockDataBuilder.fromKindBytes("string"==typeof e?(0,I.fromB64)(e):e)),t}static from(e){const t=new W;return"string"==typeof e&&e.startsWith("{")?f(t,p,z.TransactionBlockDataBuilder.restore(JSON.parse(e))):f(t,p,z.TransactionBlockDataBuilder.fromBytes("string"==typeof e?(0,I.fromB64)(e):e)),t}setSender(e){u(this,p).sender=e}setSenderIfNotSet(e){u(this,p).sender||(u(this,p).sender=e)}setExpiration(e){u(this,p).expiration=e}setGasPrice(e){u(this,p).gasConfig.price=String(e)}setGasBudget(e){u(this,p).gasConfig.budget=String(e)}setGasOwner(e){u(this,p).gasConfig.owner=e}setGasPayment(e){u(this,p).gasConfig.payment=e.map((e=>(0,k.mask)(e,U.SuiObjectRef)))}get blockData(){return u(this,p).snapshot()}get[F](){return!0}get pure(){return Object.defineProperty(this,"pure",{enumerable:!1,value:(0,D.createPure)(((e,t)=>(0,I.isSerializedBcs)(e)?d(this,y,b).call(this,"pure",{Pure:Array.from(e.toBytes())}):d(this,y,b).call(this,"pure",e instanceof Uint8Array?N.Inputs.Pure(e):t?N.Inputs.Pure(e,t):e)))}),this.pure}get gas(){return{kind:"GasCoin"}}object(e){if("object"==typeof e&&"kind"in e)return e;const t=(0,N.getIdFromCallArg)(e);return u(this,p).inputs.find((e=>"object"===e.type&&t===(0,N.getIdFromCallArg)(e.value)))??d(this,y,b).call(this,"object","string"==typeof e?(0,C.normalizeSuiAddress)(e):e)}objectRef(...e){return this.object(N.Inputs.ObjectRef(...e))}receivingRef(...e){return this.object(N.Inputs.ReceivingRef(...e))}sharedObjectRef(...e){return this.object(N.Inputs.SharedObjectRef(...e))}add(e){return function(e){const t=[],r=r=>t[r]??(t[r]={kind:"NestedResult",index:e,resultIndex:r});return new Proxy({kind:"Result",index:e},{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get(e,t){if(t in e)return Reflect.get(e,t);if(t===Symbol.iterator)return function*(){let e=0;for(;;)yield r(e),e++};if("symbol"==typeof t)return;const n=parseInt(t,10);return Number.isNaN(n)||n<0?void 0:r(n)}})}(u(this,p).transactions.push(e)-1)}splitCoins(e,t){return this.add($.Transactions.SplitCoins("string"==typeof e?this.object(e):e,t.map((e=>"number"==typeof e||"bigint"==typeof e||"string"==typeof e?this.pure.u64(e):d(this,g,m).call(this,e)))))}mergeCoins(e,t){return this.add($.Transactions.MergeCoins("string"==typeof e?this.object(e):e,t.map((e=>"string"==typeof e?this.object(e):e))))}publish({modules:e,dependencies:t}){return this.add($.Transactions.Publish({modules:e,dependencies:t}))}upgrade({modules:e,dependencies:t,packageId:r,ticket:n}){return this.add($.Transactions.Upgrade({modules:e,dependencies:t,packageId:r,ticket:"string"==typeof n?this.object(n):n}))}moveCall({arguments:e,typeArguments:t,target:r}){return this.add($.Transactions.MoveCall({arguments:e?.map((e=>d(this,g,m).call(this,e))),typeArguments:t,target:r}))}transferObjects(e,t){return this.add($.Transactions.TransferObjects(e.map((e=>"string"==typeof e?this.object(e):e)),"string"==typeof t?this.pure.address(t):d(this,g,m).call(this,t)))}makeMoveVec({type:e,objects:t}){return this.add($.Transactions.MakeMoveVec({type:e,objects:t.map((e=>"string"==typeof e?this.object(e):e))}))}serialize(){return JSON.stringify(u(this,p).snapshot())}async sign(e){const{signer:t,...r}=e,n=await this.build(r);return t.signTransactionBlock(n)}async build(e={}){return await d(this,P,_).call(this,e),u(this,p).build({maxSizeBytes:d(this,w,v).call(this,"maxTxSizeBytes",e),onlyTransactionKind:e.onlyTransactionKind})}async getDigest(e={}){return await d(this,P,_).call(this,e),u(this,p).getDigest()}};let Z=W;p=new WeakMap,y=new WeakSet,b=function(e,t){const r=u(this,p).inputs.length,n=(0,H.create)({kind:"Input",value:"bigint"==typeof t?String(t):t,index:r,type:e},$.TransactionBlockInput);return u(this,p).inputs.push(n),n},g=new WeakSet,m=function(e){return(0,I.isSerializedBcs)(e)?this.pure(e):e},w=new WeakSet,v=function(e,{protocolConfig:t,limits:r}){if(r&&"number"==typeof r[e])return r[e];if(!t)return K[e];const n=t?.attributes[q[e]];if(!n)throw new Error(`Missing expected protocol config: "${q[e]}"`);const i="u64"in n?n.u64:"u32"in n?n.u32:n.f64;if(!i)throw new Error(`Unexpected protocol config value found for: "${q[e]}"`);return Number(i)},S=new WeakSet,E=function(e){const t=d(this,w,v).call(this,"maxPureArgumentSize",e);u(this,p).inputs.forEach(((e,r)=>{if((0,k.is)(e.value,N.PureCallArg)&&e.value.Pure.length>t)throw new Error(`Input at index ${r} is too large, max pure input size is ${t} bytes, got ${e.value.Pure.length} bytes`)}))},O=new WeakSet,x=async function(e){if(u(this,p).gasConfig.payment){const t=d(this,w,v).call(this,"maxGasObjects",e);if(u(this,p).gasConfig.payment.length>t)throw new Error(`Payment objects exceed maximum amount: ${t}`)}if(e.onlyTransactionKind||u(this,p).gasConfig.payment)return;const t=u(this,p).gasConfig.owner??u(this,p).sender,r=(await V(e).getCoins({owner:t,coinType:R.SUI_TYPE_ARG})).data.filter((e=>!u(this,p).inputs.find((t=>!!((0,k.is)(t.value,N.BuilderCallArg)&&"Object"in t.value&&"ImmOrOwned"in t.value.Object)&&e.coinObjectId===t.value.Object.ImmOrOwned.objectId)))).slice(0,d(this,w,v).call(this,"maxGasObjects",e)-1).map((e=>({objectId:e.coinObjectId,digest:e.digest,version:e.version})));if(!r.length)throw new Error("No valid gas coins found for the transaction.");this.setGasPayment(r)},j=new WeakSet,T=async function(e){e.onlyTransactionKind||u(this,p).gasConfig.price||this.setGasPrice(await V(e).getReferenceGasPrice())},B=new WeakSet,A=async function(e){const{inputs:t,transactions:r}=u(this,p),n=[],i=[];if(t.forEach((e=>{"object"!==e.type||"string"!=typeof e.value||i.push({id:(0,C.normalizeSuiAddress)(e.value),input:e})})),r.forEach((e=>{if("MoveCall"===e.kind&&e.arguments.some((e=>"Input"===e.kind&&!(0,k.is)(t[e.index].value,N.BuilderCallArg)))&&n.push(e),"SplitCoins"===e.kind&&e.amounts.forEach((e=>{if("Input"===e.kind){const r=t[e.index];"object"!=typeof r.value&&(r.value=N.Inputs.Pure(M.bcs.U64.serialize(r.value)))}})),"TransferObjects"===e.kind&&"Input"===e.address.kind){const r=t[e.address.index];"object"!=typeof r.value&&(r.value=N.Inputs.Pure(M.bcs.Address.serialize(r.value)))}})),n.length&&await Promise.all(n.map((async r=>{const[n,o,s]=r.target.split("::"),a=await V(e).getNormalizedMoveFunction({package:(0,C.normalizeSuiObjectId)(n),module:o,function:s}),c=a.parameters.length>0&&(0,L.isTxContext)(a.parameters.at(-1))?a.parameters.slice(0,a.parameters.length-1):a.parameters;if(c.length!==r.arguments.length)throw new Error("Incorrect number of arguments.");c.forEach(((e,n)=>{const o=r.arguments[n];if("Input"!==o.kind)return;const s=t[o.index];if((0,k.is)(s.value,N.BuilderCallArg))return;const a=s.value,c=(0,L.getPureSerializationType)(e,a);if(c)s.value=N.Inputs.Pure(a,c);else{if(!(null!=(0,U.extractStructTag)(e)||"object"==typeof e&&"TypeParameter"in e))throw new Error(`Unknown call arg type ${JSON.stringify(e,null,2)} for value ${JSON.stringify(a,null,2)}`);if("string"!=typeof a)throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(a,null,2)}`);i.push({id:a,input:s,normalizedType:e})}}))}))),i.length){const t=[...new Set(i.map((({id:e})=>e)))],r=(o=t,50,Array.from({length:Math.ceil(o.length/50)},((e,t)=>o.slice(50*t,50*t+50)))),n=(await Promise.all(r.map((t=>V(e).multiGetObjects({ids:t,options:{showOwner:!0}}))))).flat();let s=new Map(t.map(((e,t)=>[e,n[t]])));const a=Array.from(s).filter((([e,t])=>t.error)).map((([e,t])=>e));if(a.length)throw new Error(`The following input objects are invalid: ${a.join(", ")}`);i.forEach((({id:e,input:t,normalizedType:r})=>{const n=s.get(e),i=n.data?.owner,o=i&&"object"==typeof i&&"Shared"in i?i.Shared.initial_shared_version:void 0;if(o){const n=null!=r&&null==(0,U.extractMutableReference)(r)&&null==(0,U.extractReference)(r),i=(0,N.isMutableSharedObjectInput)(t.value)||n||null!=r&&null!=(0,U.extractMutableReference)(r);t.value=N.Inputs.SharedObjectRef({objectId:e,initialSharedVersion:o,mutable:i})}else r&&function(e){const t=(0,U.extractStructTag)(e);return!!t&&"0x2"===t.Struct.address&&"transfer"===t.Struct.module&&"Receiving"===t.Struct.name}(r)?t.value=N.Inputs.ReceivingRef((0,U.getObjectReference)(n)):t.value=N.Inputs.ObjectRef((0,U.getObjectReference)(n))}))}var o},P=new WeakSet,_=async function(e){if(!e.onlyTransactionKind&&!u(this,p).sender)throw new Error("Missing transaction sender");if(e.protocolConfig||e.limits||!e.client||(e.protocolConfig=await e.client.getProtocolConfig()),await Promise.all([d(this,j,T).call(this,e),d(this,B,A).call(this,e)]),!e.onlyTransactionKind&&(await d(this,O,x).call(this,e),!u(this,p).gasConfig.budget)){const t=await V(e).dryRunTransactionBlock({transactionBlock:u(this,p).build({maxSizeBytes:d(this,w,v).call(this,"maxTxSizeBytes",e),overrides:{gasConfig:{budget:String(d(this,w,v).call(this,"maxTxGas",e)),payment:[]}}})});if("success"!==t.effects.status.status)throw new Error(`Dry run failed, could not automatically determine a budget: ${t.effects.status.error}`,{cause:t});const r=1000n*BigInt(this.blockData.gasConfig.price||1n),n=BigInt(t.effects.gasUsed.computationCost)+r,i=n+BigInt(t.effects.gasUsed.storageCost)-BigInt(t.effects.gasUsed.storageRebate);this.setGasBudget(i>n?i:n)}d(this,S,E).call(this,e)}},8514:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{SerializedTransactionDataBuilder:()=>S,TransactionBlockDataBuilder:()=>O,TransactionExpiration:()=>m}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(3783),l=r(2150),f=r(5732),d=r(441),h=r(1506),p=r(2983),y=r(6566),b=r(7498),g=r(9270);const m=(0,l.optional)((0,l.nullable)((0,l.union)([(0,l.object)({Epoch:(0,l.integer)()}),(0,l.object)({None:(0,l.union)([(0,l.literal)(!0),(0,l.literal)(null)])})]))),w=(0,l.define)("StringEncodedBigint",(e=>{if(!["string","number","bigint"].includes(typeof e))return!1;try{return BigInt(e),!0}catch{return!1}})),v=(0,l.object)({budget:(0,l.optional)(w),price:(0,l.optional)(w),payment:(0,l.optional)((0,l.array)(d.SuiObjectRef)),owner:(0,l.optional)((0,l.string)())}),S=(0,l.object)({version:(0,l.literal)(1),sender:(0,l.optional)((0,l.string)()),expiration:m,gasConfig:v,inputs:(0,l.array)(b.TransactionBlockInput),transactions:(0,l.array)(b.TransactionType)});function E(e){return(0,h.normalizeSuiAddress)(e).replace("0x","")}class O{constructor(e){this.version=1,this.sender=e?.sender,this.expiration=e?.expiration,this.gasConfig=e?.gasConfig??{},this.inputs=e?.inputs??[],this.transactions=e?.transactions??[]}static fromKindBytes(e){const t=f.bcs.TransactionKind.parse(e),r="ProgrammableTransaction"in t?t.ProgrammableTransaction:null;if(!r)throw new Error("Unable to deserialize from bytes.");const n=(0,g.create)({version:1,gasConfig:{},inputs:r.inputs.map(((e,t)=>(0,g.create)({kind:"Input",value:e,index:t,type:(0,l.is)(e,y.PureCallArg)?"pure":"object"},b.TransactionBlockInput))),transactions:r.transactions},S);return O.restore(n)}static fromBytes(e){const t=f.bcs.TransactionData.parse(e),r=t?.V1,n="ProgrammableTransaction"in r.kind?r?.kind?.ProgrammableTransaction:null;if(!r||!n)throw new Error("Unable to deserialize from bytes.");const i=(0,g.create)({version:1,sender:r.sender,expiration:r.expiration,gasConfig:r.gasData,inputs:n.inputs.map(((e,t)=>(0,g.create)({kind:"Input",value:e,index:t,type:(0,l.is)(e,y.PureCallArg)?"pure":"object"},b.TransactionBlockInput))),transactions:n.transactions},S);return O.restore(i)}static restore(e){(0,l.assert)(e,S);const t=new O;return Object.assign(t,e),t}static getDigestFromBytes(e){const t=(0,p.hashTypedData)("TransactionData",e);return(0,u.toB58)(t)}build({maxSizeBytes:e=1/0,overrides:t,onlyTransactionKind:r}={}){const n=this.inputs.map((e=>((0,l.assert)(e.value,y.BuilderCallArg),e.value))),i={ProgrammableTransaction:{inputs:n,transactions:this.transactions}};if(r)return f.bcs.TransactionKind.serialize(i,{maxSize:e}).toBytes();const o=t?.expiration??this.expiration,s=t?.sender??this.sender,a={...this.gasConfig,...t?.gasConfig};if(!s)throw new Error("Missing transaction sender");if(!a.budget)throw new Error("Missing gas budget");if(!a.payment)throw new Error("Missing gas payment");if(!a.price)throw new Error("Missing gas price");const c={sender:E(s),expiration:o||{None:!0},gasData:{payment:a.payment,owner:E(this.gasConfig.owner??s),price:BigInt(a.price),budget:BigInt(a.budget)},kind:{ProgrammableTransaction:{inputs:n,transactions:this.transactions}}};return f.bcs.TransactionData.serialize({V1:c},{maxSize:e}).toBytes()}getDigest(){const e=this.build({onlyTransactionKind:!1});return O.getDigestFromBytes(e)}snapshot(){return(0,g.create)(this,S)}}},7498:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{MakeMoveVecTransaction:()=>O,MergeCoinsTransaction:()=>E,MoveCallTransaction:()=>w,PublishTransaction:()=>j,SplitCoinsTransaction:()=>S,TransactionArgument:()=>m,TransactionBlockInput:()=>b,TransactionType:()=>P,Transactions:()=>I,TransferObjectsTransaction:()=>v,UpgradePolicy:()=>T,UpgradeTransaction:()=>B,getTransactionType:()=>_}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(3783),l=r(2150),f=r(5732),d=r(7484),h=r(1506),p=r(6566),y=r(9270);const b=(0,l.union)([(0,l.object)({kind:(0,l.literal)("Input"),index:(0,l.integer)(),value:(0,l.optional)((0,l.any)()),type:(0,l.optional)((0,l.literal)("object"))}),(0,l.object)({kind:(0,l.literal)("Input"),index:(0,l.integer)(),value:(0,l.optional)((0,l.any)()),type:(0,l.literal)("pure")})]),g=[b,(0,l.object)({kind:(0,l.literal)("GasCoin")}),(0,l.object)({kind:(0,l.literal)("Result"),index:(0,l.integer)()}),(0,l.object)({kind:(0,l.literal)("NestedResult"),index:(0,l.integer)(),resultIndex:(0,l.integer)()})],m=(0,l.union)([...g]),w=(0,l.object)({kind:(0,l.literal)("MoveCall"),target:(0,l.define)("target",(0,l.string)().validator),typeArguments:(0,l.array)((0,l.string)()),arguments:(0,l.array)(m)}),v=(0,l.object)({kind:(0,l.literal)("TransferObjects"),objects:(0,l.array)(m),address:m}),S=(0,l.object)({kind:(0,l.literal)("SplitCoins"),coin:m,amounts:(0,l.array)(m)}),E=(0,l.object)({kind:(0,l.literal)("MergeCoins"),destination:m,sources:(0,l.array)(m)}),O=(0,l.object)({kind:(0,l.literal)("MakeMoveVec"),type:(0,l.optional)((x=(0,l.record)((0,l.string)(),(0,l.unknown)()),(0,l.union)([(0,l.object)({None:(0,l.union)([(0,l.literal)(!0),(0,l.literal)(null)])}),(0,l.object)({Some:x})]))),objects:(0,l.array)(m)});var x;const j=(0,l.object)({kind:(0,l.literal)("Publish"),modules:(0,l.array)((0,l.array)((0,l.integer)())),dependencies:(0,l.array)((0,l.string)())});var T=(e=>(e[e.COMPATIBLE=0]="COMPATIBLE",e[e.ADDITIVE=128]="ADDITIVE",e[e.DEP_ONLY=192]="DEP_ONLY",e))(T||{});const B=(0,l.object)({kind:(0,l.literal)("Upgrade"),modules:(0,l.array)((0,l.array)((0,l.integer)())),dependencies:(0,l.array)((0,l.string)()),packageId:(0,l.string)(),ticket:m}),A=[w,v,S,E,j,B,O],P=(0,l.union)([...A]);function _(e){return(0,l.assert)(e,P),A.find((t=>(0,l.is)(e,t)))}const I={MoveCall:e=>(0,y.create)({kind:"MoveCall",target:e.target,arguments:e.arguments??[],typeArguments:e.typeArguments??[]},w),TransferObjects:(e,t)=>("Input"===t.kind&&"pure"===t.type&&"object"!=typeof t.value&&(t.value=p.Inputs.Pure(f.bcs.Address.serialize(t.value))),(0,y.create)({kind:"TransferObjects",objects:e,address:t},v)),SplitCoins:(e,t)=>(t.forEach((e=>{"Input"===e.kind&&"pure"===e.type&&"object"!=typeof e.value&&(e.value=p.Inputs.Pure(f.bcs.U64.serialize(e.value)))})),(0,y.create)({kind:"SplitCoins",coin:e,amounts:t},S)),MergeCoins:(e,t)=>(0,y.create)({kind:"MergeCoins",destination:e,sources:t},E),Publish:({modules:e,dependencies:t})=>(0,y.create)({kind:"Publish",modules:e.map((e=>"string"==typeof e?Array.from((0,u.fromB64)(e)):e)),dependencies:t.map((e=>(0,h.normalizeSuiObjectId)(e)))},j),Upgrade:({modules:e,dependencies:t,packageId:r,ticket:n})=>(0,y.create)({kind:"Upgrade",modules:e.map((e=>"string"==typeof e?Array.from((0,u.fromB64)(e)):e)),dependencies:t.map((e=>(0,h.normalizeSuiObjectId)(e))),packageId:r,ticket:n},B),MakeMoveVec:({type:e,objects:t})=>(0,y.create)({kind:"MakeMoveVec",type:e?{Some:d.TypeTagSerializer.parseFromStr(e)}:{None:null},objects:t},O)}},939:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(s,{ARGUMENT:()=>O,ARGUMENT_INNER:()=>a,CALL_ARG:()=>l,COMPRESSED_SIGNATURE:()=>b,ENUM_KIND:()=>S,MULTISIG:()=>v,MULTISIG_PK_MAP:()=>w,MULTISIG_PUBLIC_KEY:()=>m,OBJECT_ARG:()=>d,OPTION:()=>u,PROGRAMMABLE_CALL:()=>x,PROGRAMMABLE_CALL_INNER:()=>p,PROGRAMMABLE_TX_BLOCK:()=>h,PUBLIC_KEY:()=>g,TRANSACTION:()=>E,TRANSACTION_INNER:()=>y,TYPE_TAG:()=>f,VECTOR:()=>c}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of i(t))o.call(e,s)||undefined===s||r(e,s,{get:()=>t[s],enumerable:!(a=n(t,s))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));const a="Argument",c="vector",u="Option",l="CallArg",f="TypeTag",d="ObjectArg",h="ProgrammableTransaction",p="ProgrammableMoveCall",y="Transaction",b="CompressedSignature",g="PublicKey",m="MultiSigPublicKey",w="MultiSigPkMap",v="MultiSig",S="EnumKind",E=y,O=a,x="ProgrammableMoveCall"},9073:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{Inputs:()=>l.Inputs,TransactionBlock:()=>d.TransactionBlock,Transactions:()=>f.Transactions,UpgradePolicy:()=>f.UpgradePolicy,getPureSerializationType:()=>u.getPureSerializationType,isTransactionBlock:()=>d.isTransactionBlock}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(6995),l=r(6566),f=r(7498),d=r(3570)},2983:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{hashTypedData:()=>l}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(6719);function l(e,t){const r=Array.from(`${e}::`).map((e=>e.charCodeAt(0))),n=new Uint8Array(r.length+t.length);return n.set(r),n.set(t,r.length),(0,u.blake2b)(n,{dkLen:32})}},5467:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of s(t))a.call(e,c)||c===r||i(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e},u=(e,t,r)=>(c(e,t,"default"),r&&c(r,t,"default")),l={};e.exports=(n=l,c(i({},"__esModule",{value:!0}),n)),u(l,r(3570),e.exports),u(l,r(7498),e.exports),u(l,r(6566),e.exports),u(l,r(6995),e.exports),u(l,r(939),e.exports)},5593:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{createPure:()=>l}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(5732);function l(e){function t(t,r){return e(t,r)}return t.u8=t=>e(u.bcs.U8.serialize(t)),t.u16=t=>e(u.bcs.U16.serialize(t)),t.u32=t=>e(u.bcs.U32.serialize(t)),t.u64=t=>e(u.bcs.U64.serialize(t)),t.u128=t=>e(u.bcs.U128.serialize(t)),t.u256=t=>e(u.bcs.U256.serialize(t)),t.bool=t=>e(u.bcs.Bool.serialize(t)),t.string=t=>e(u.bcs.String.serialize(t)),t.address=t=>e(u.bcs.Address.serialize(t)),t.id=t.address,t}},6995:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{getPureSerializationType:()=>v,isTxContext:()=>g}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(441),l=r(2117),f=r(1506);const d={address:l.SUI_FRAMEWORK_ADDRESS,module:"object",name:"ID"},h={address:l.MOVE_STDLIB_ADDRESS,module:"ascii",name:"String"},p={address:l.MOVE_STDLIB_ADDRESS,module:"string",name:"String"},y={address:l.MOVE_STDLIB_ADDRESS,module:"option",name:"Option"},b=(e,t)=>e.address===t.address&&e.module===t.module&&e.name===t.name;function g(e){const t=(0,u.extractStructTag)(e)?.Struct;return"0x2"===t?.address&&"tx_context"===t?.module&&"TxContext"===t?.name}function m(e,t){if(void 0!==t&&typeof t!==e)throw new Error(`Expect ${t} to be ${e}, received ${typeof t}`)}const w=["Address","Bool","U8","U16","U32","U64","U128","U256"];function v(e,t){if("string"==typeof e&&w.includes(e)){if(e in["U8","U16","U32","U64","U128","U256"])m("number",t);else if("Bool"===e)m("boolean",t);else if("Address"===e&&(m("string",t),t&&!(0,f.isValidSuiAddress)(t)))throw new Error("Invalid Sui Address");return e.toLowerCase()}if("string"==typeof e)throw new Error(`Unknown pure normalized type ${JSON.stringify(e,null,2)}`);if("Vector"in e){if((void 0===t||"string"==typeof t)&&"U8"===e.Vector)return"string";if(void 0!==t&&!Array.isArray(t))throw new Error(`Expect ${t} to be a array, received ${typeof t}`);const r=v(e.Vector,t?t[0]:void 0);if(void 0===r)return;return`vector<${r}>`}if("Struct"in e){if(b(e.Struct,h))return"string";if(b(e.Struct,p))return"utf8string";if(b(e.Struct,d))return"address";if(b(e.Struct,y))return v({Vector:e.Struct.typeArguments[0]},t)}}},9270:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{create:()=>l}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(2150);function l(e,t){return(0,u.create)(e,t)}},9844:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{SUI_CLIENT_BRAND:()=>h,SuiClient:()=>y,isSuiClient:()=>p}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(3783),l=r(5467),f=r(1506),d=r(3179);const h=Symbol.for("@mysten/SuiClient");function p(e){return"object"==typeof e&&null!==e&&!0===e[h]}class y{get[h](){return!0}constructor(e){this.transport=e.transport??new d.SuiHTTPTransport({url:e.url})}async getRpcApiVersion(){return(await this.transport.request({method:"rpc.discover",params:[]})).info.version}async getCoins(e){if(!e.owner||!(0,f.isValidSuiAddress)((0,f.normalizeSuiAddress)(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getCoins",params:[e.owner,e.coinType,e.cursor,e.limit]})}async getAllCoins(e){if(!e.owner||!(0,f.isValidSuiAddress)((0,f.normalizeSuiAddress)(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllCoins",params:[e.owner,e.cursor,e.limit]})}async getBalance(e){if(!e.owner||!(0,f.isValidSuiAddress)((0,f.normalizeSuiAddress)(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getBalance",params:[e.owner,e.coinType]})}async getAllBalances(e){if(!e.owner||!(0,f.isValidSuiAddress)((0,f.normalizeSuiAddress)(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllBalances",params:[e.owner]})}async getCoinMetadata(e){return await this.transport.request({method:"suix_getCoinMetadata",params:[e.coinType]})}async getTotalSupply(e){return await this.transport.request({method:"suix_getTotalSupply",params:[e.coinType]})}async call(e,t){return await this.transport.request({method:e,params:t})}async getMoveFunctionArgTypes(e){return await this.transport.request({method:"sui_getMoveFunctionArgTypes",params:[e.package,e.module,e.function]})}async getNormalizedMoveModulesByPackage(e){return await this.transport.request({method:"sui_getNormalizedMoveModulesByPackage",params:[e.package]})}async getNormalizedMoveModule(e){return await this.transport.request({method:"sui_getNormalizedMoveModule",params:[e.package,e.module]})}async getNormalizedMoveFunction(e){return await this.transport.request({method:"sui_getNormalizedMoveFunction",params:[e.package,e.module,e.function]})}async getNormalizedMoveStruct(e){return await this.transport.request({method:"sui_getNormalizedMoveStruct",params:[e.package,e.module,e.struct]})}async getOwnedObjects(e){if(!e.owner||!(0,f.isValidSuiAddress)((0,f.normalizeSuiAddress)(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getOwnedObjects",params:[e.owner,{filter:e.filter,options:e.options},e.cursor,e.limit]})}async getObject(e){if(!e.id||!(0,f.isValidSuiObjectId)((0,f.normalizeSuiObjectId)(e.id)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"sui_getObject",params:[e.id,e.options]})}async tryGetPastObject(e){return await this.transport.request({method:"sui_tryGetPastObject",params:[e.id,e.version,e.options]})}async multiGetObjects(e){if(e.ids.forEach((e=>{if(!e||!(0,f.isValidSuiObjectId)((0,f.normalizeSuiObjectId)(e)))throw new Error(`Invalid Sui Object id ${e}`)})),e.ids.length!==new Set(e.ids).size)throw new Error(`Duplicate object ids in batch call ${e.ids}`);return await this.transport.request({method:"sui_multiGetObjects",params:[e.ids,e.options]})}async queryTransactionBlocks(e){return await this.transport.request({method:"suix_queryTransactionBlocks",params:[{filter:e.filter,options:e.options},e.cursor,e.limit,"descending"===(e.order||"descending")]})}async getTransactionBlock(e){if(!(0,f.isValidTransactionDigest)(e.digest))throw new Error("Invalid Transaction digest");return await this.transport.request({method:"sui_getTransactionBlock",params:[e.digest,e.options]})}async multiGetTransactionBlocks(e){if(e.digests.forEach((e=>{if(!(0,f.isValidTransactionDigest)(e))throw new Error(`Invalid Transaction digest ${e}`)})),e.digests.length!==new Set(e.digests).size)throw new Error(`Duplicate digests in batch call ${e.digests}`);return await this.transport.request({method:"sui_multiGetTransactionBlocks",params:[e.digests,e.options]})}async executeTransactionBlock(e){return await this.transport.request({method:"sui_executeTransactionBlock",params:["string"==typeof e.transactionBlock?e.transactionBlock:(0,u.toB64)(e.transactionBlock),Array.isArray(e.signature)?e.signature:[e.signature],e.options,e.requestType]})}async signAndExecuteTransactionBlock({transactionBlock:e,signer:t,...r}){let n;e instanceof Uint8Array?n=e:(e.setSenderIfNotSet(t.toSuiAddress()),n=await e.build({client:this}));const{signature:i,bytes:o}=await t.signTransactionBlock(n);return this.executeTransactionBlock({transactionBlock:o,signature:i,...r})}async getTotalTransactionBlocks(){const e=await this.transport.request({method:"sui_getTotalTransactionBlocks",params:[]});return BigInt(e)}async getReferenceGasPrice(){const e=await this.transport.request({method:"suix_getReferenceGasPrice",params:[]});return BigInt(e)}async getStakes(e){if(!e.owner||!(0,f.isValidSuiAddress)((0,f.normalizeSuiAddress)(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getStakes",params:[e.owner]})}async getStakesByIds(e){return e.stakedSuiIds.forEach((e=>{if(!e||!(0,f.isValidSuiObjectId)((0,f.normalizeSuiObjectId)(e)))throw new Error(`Invalid Sui Stake id ${e}`)})),await this.transport.request({method:"suix_getStakesByIds",params:[e.stakedSuiIds]})}async getLatestSuiSystemState(){return await this.transport.request({method:"suix_getLatestSuiSystemState",params:[]})}async queryEvents(e){return await this.transport.request({method:"suix_queryEvents",params:[e.query,e.cursor,e.limit,"descending"===(e.order||"descending")]})}async subscribeEvent(e){return this.transport.subscribe({method:"suix_subscribeEvent",unsubscribe:"suix_unsubscribeEvent",params:[e.filter],onMessage:e.onMessage})}async subscribeTransaction(e){return this.transport.subscribe({method:"suix_subscribeTransaction",unsubscribe:"suix_unsubscribeTransaction",params:[e.filter],onMessage:e.onMessage})}async devInspectTransactionBlock(e){let t;if((0,l.isTransactionBlock)(e.transactionBlock))e.transactionBlock.setSenderIfNotSet(e.sender),t=(0,u.toB64)(await e.transactionBlock.build({client:this,onlyTransactionKind:!0}));else if("string"==typeof e.transactionBlock)t=e.transactionBlock;else{if(!(e.transactionBlock instanceof Uint8Array))throw new Error("Unknown transaction block format.");t=(0,u.toB64)(e.transactionBlock)}return await this.transport.request({method:"sui_devInspectTransactionBlock",params:[e.sender,t,e.gasPrice?.toString(),e.epoch]})}async dryRunTransactionBlock(e){return await this.transport.request({method:"sui_dryRunTransactionBlock",params:["string"==typeof e.transactionBlock?e.transactionBlock:(0,u.toB64)(e.transactionBlock)]})}async getDynamicFields(e){if(!e.parentId||!(0,f.isValidSuiObjectId)((0,f.normalizeSuiObjectId)(e.parentId)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"suix_getDynamicFields",params:[e.parentId,e.cursor,e.limit]})}async getDynamicFieldObject(e){return await this.transport.request({method:"suix_getDynamicFieldObject",params:[e.parentId,e.name]})}async getLatestCheckpointSequenceNumber(){const e=await this.transport.request({method:"sui_getLatestCheckpointSequenceNumber",params:[]});return String(e)}async getCheckpoint(e){return await this.transport.request({method:"sui_getCheckpoint",params:[e.id]})}async getCheckpoints(e){return await this.transport.request({method:"sui_getCheckpoints",params:[e.cursor,e?.limit,e.descendingOrder]})}async getCommitteeInfo(e){return await this.transport.request({method:"suix_getCommitteeInfo",params:[e?.epoch]})}async getNetworkMetrics(){return await this.transport.request({method:"suix_getNetworkMetrics",params:[]})}async getAddressMetrics(){return await this.transport.request({method:"suix_getLatestAddressMetrics",params:[]})}async getAllEpochAddressMetrics(e){return await this.transport.request({method:"suix_getAllEpochAddressMetrics",params:[e?.descendingOrder]})}async getEpochs(e){return await this.transport.request({method:"suix_getEpochs",params:[e?.cursor,e?.limit,e?.descendingOrder]})}async getMoveCallMetrics(){return await this.transport.request({method:"suix_getMoveCallMetrics",params:[]})}async getCurrentEpoch(){return await this.transport.request({method:"suix_getCurrentEpoch",params:[]})}async getValidatorsApy(){return await this.transport.request({method:"suix_getValidatorsApy",params:[]})}async getChainIdentifier(){const e=await this.getCheckpoint({id:"0"}),t=(0,u.fromB58)(e.digest);return(0,u.toHEX)(t.slice(0,4))}async resolveNameServiceAddress(e){return await this.transport.request({method:"suix_resolveNameServiceAddress",params:[e.name]})}async resolveNameServiceNames(e){return await this.transport.request({method:"suix_resolveNameServiceNames",params:[e.address,e.cursor,e.limit]})}async getProtocolConfig(e){return await this.transport.request({method:"sui_getProtocolConfig",params:[e?.version]})}async waitForTransactionBlock({signal:e,timeout:t=6e4,pollInterval:r=2e3,...n}){const i=AbortSignal.timeout(t),o=new Promise(((e,t)=>{i.addEventListener("abort",(()=>t(i.reason)))}));for(o.catch((()=>{}));!i.aborted;){e?.throwIfAborted();try{return await this.getTransactionBlock(n)}catch(e){await Promise.race([new Promise((e=>setTimeout(e,r))),o])}}throw i.throwIfAborted(),new Error("Unexpected error while waiting for transaction block.")}}},9172:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(s,{JsonRpcError:()=>u,SuiHTTPStatusError:()=>l,SuiHTTPTransportError:()=>c}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of i(t))o.call(e,s)||undefined===s||r(e,s,{get:()=>t[s],enumerable:!(a=n(t,s))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));const a={"-32700":"ParseError","-32600":"InvalidRequest","-32601":"MethodNotFound","-32602":"InvalidParams","-32603":"InternalError"};class c extends Error{}class u extends c{constructor(e,t){super(e),this.code=t,this.type=a[t]??"ServerError"}}class l extends c{constructor(e,t,r){super(e),this.status=t,this.statusText=r}}},3179:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},u=(e,t,r)=>(c(e,t,"read from private field"),r?r.call(e):t.get(e)),l=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},f=(e,t,r,n)=>(c(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),d={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(d,{SuiHTTPTransport:()=>S}),e.exports=(n=d,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var h,p,y,b,g,m=r(6691),w=r(9172),v=r(204);class S{constructor(e){l(this,b),l(this,h,0),l(this,p,void 0),l(this,y,void 0),f(this,p,e)}fetch(e,t){const r=u(this,p).fetch??globalThis.fetch;if(!this.fetch)throw new Error("The current environment does not support fetch, you can provide a fetch implementation in the options for SuiHTTPTransport.");return r(e,t)}async request(e){f(this,h,u(this,h)+1);const t=await this.fetch(u(this,p).rpc?.url??u(this,p).url,{method:"POST",headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":m.PACKAGE_VERSION,"Client-Target-Api-Version":m.TARGETED_RPC_VERSION,...u(this,p).rpc?.headers},body:JSON.stringify({jsonrpc:"2.0",id:u(this,h),method:e.method,params:e.params})});if(!t.ok)throw new w.SuiHTTPStatusError(`Unexpected status code: ${t.status}`,t.status,t.statusText);const r=await t.json();if("error"in r&&null!=r.error)throw new w.JsonRpcError(r.error.message,r.error.code);return r.result}async subscribe(e){const t=await(this,r=b,n=g,c(this,r,"access private method"),n).call(this).subscribe(e);var r,n;return async()=>!!await t()}}h=new WeakMap,p=new WeakMap,y=new WeakMap,b=new WeakSet,g=function(){if(!u(this,y)){if(!(u(this,p).WebSocketConstructor??globalThis.WebSocket))throw new Error("The current environment does not support WebSocket, you can provide a WebSocketConstructor in the options for SuiHTTPTransport.");f(this,y,new v.WebsocketClient(u(this,p).websocket?.url??u(this,p).url,{WebSocketConstructor:u(this,p).WebSocketConstructor,...u(this,p).websocket}))}return u(this,y)}},6827:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of s(t))a.call(e,c)||c===r||i(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e},u=(e,t,r)=>(c(e,t,"default"),r&&c(r,t,"default")),l={};e.exports=(n=l,c(i({},"__esModule",{value:!0}),n)),u(l,r(3179),e.exports),u(l,r(7657),e.exports),u(l,r(3625),e.exports),u(l,r(9844),e.exports),u(l,r(9172),e.exports)},7657:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,s={};function a(e){switch(e){case"mainnet":return"https://fullnode.mainnet.sui.io:443";case"testnet":return"https://fullnode.testnet.sui.io:443";case"devnet":return"https://fullnode.devnet.sui.io:443";case"localnet":return"http://127.0.0.1:9000";default:throw new Error(`Unknown network: ${e}`)}}((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(s,{getFullnodeUrl:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of i(t))o.call(e,s)||undefined===s||r(e,s,{get:()=>t[s],enumerable:!(a=n(t,s))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t))},204:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},u=(e,t,r)=>(c(e,t,"read from private field"),r?r.call(e):t.get(e)),l=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},f=(e,t,r,n)=>(c(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),d=(e,t,r)=>(c(e,t,"access private method"),r),h={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(h,{DEFAULT_CLIENT_OPTIONS:()=>j,WebsocketClient:()=>T}),e.exports=(n=h,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var p,y,b,g,m,w,v,S,E,O,x=r(9172);const j={WebSocketConstructor:"undefined"!=typeof WebSocket?WebSocket:void 0,callTimeout:3e4,reconnectTimeout:3e3,maxReconnects:5};class T{constructor(e,t={}){if(l(this,v),l(this,E),l(this,p,0),l(this,y,0),l(this,b,null),l(this,g,null),l(this,m,new Set),l(this,w,new Map),this.endpoint=e,this.options={...j,...t},!this.options.WebSocketConstructor)throw new Error("Missing WebSocket constructor");this.endpoint.startsWith("http")&&(this.endpoint=function(e){const t=new URL(e);return t.protocol=t.protocol.replace("http","ws"),t.toString()}(this.endpoint))}async makeRequest(e,t){const r=await d(this,v,S).call(this);return new Promise(((n,i)=>{f(this,p,u(this,p)+1),u(this,w).set(u(this,p),{resolve:n,reject:i,timeout:setTimeout((()=>{u(this,w).delete(u(this,p)),i(new Error(`Request timeout: ${e}`))}),this.options.callTimeout)}),r.send(JSON.stringify({jsonrpc:"2.0",id:u(this,p),method:e,params:t}))})).then((({error:e,result:t})=>{if(e)throw new x.JsonRpcError(e.message,e.code);return t}))}async subscribe(e){const t=new B(e);return u(this,m).add(t),await t.subscribe(this),()=>t.unsubscribe(this)}}p=new WeakMap,y=new WeakMap,b=new WeakMap,g=new WeakMap,m=new WeakMap,w=new WeakMap,v=new WeakSet,S=function(){return u(this,g)||f(this,g,new Promise((e=>{u(this,b)?.close(),f(this,b,new this.options.WebSocketConstructor(this.endpoint)),u(this,b).addEventListener("open",(()=>{f(this,y,0),e(u(this,b))})),u(this,b).addEventListener("close",(()=>{var e,t;(e=this,t=y,{set _(r){f(e,t,r,undefined)},get _(){return u(e,t,undefined)}})._++,u(this,y)<=this.options.maxReconnects&&setTimeout((()=>{d(this,E,O).call(this)}),this.options.reconnectTimeout)})),u(this,b).addEventListener("message",(({data:e})=>{let t;try{t=JSON.parse(e)}catch(t){return void console.error(new Error(`Failed to parse RPC message: ${e}`,{cause:t}))}if("id"in t&&null!=t.id&&u(this,w).has(t.id)){const{resolve:e,timeout:r}=u(this,w).get(t.id);clearTimeout(r),e(t)}else if("params"in t){const{params:e}=t;u(this,m).forEach((t=>{t.subscriptionId===e.subscription&&e.subscription===t.subscriptionId&&t.onMessage(e.result)}))}}))}))),u(this,g)},E=new WeakSet,O=async function(){return u(this,b)?.close(),f(this,g,null),Promise.allSettled([...u(this,m)].map((e=>e.subscribe(this))))};class B{constructor(e){this.subscriptionId=null,this.subscribed=!1,this.input=e}onMessage(e){this.subscribed&&this.input.onMessage(e)}async unsubscribe(e){const{subscriptionId:t}=this;return this.subscribed=!1,null!=t&&(this.subscriptionId=null,e.makeRequest(this.input.unsubscribe,[t]))}async subscribe(e){this.subscriptionId=null,this.subscribed=!0;const t=await e.makeRequest(this.input.method,this.input.params);this.subscribed&&(this.subscriptionId=t)}}},7348:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty;e.exports=(t={},((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of i(t))o.call(e,s)||undefined===s||r(e,s,{get:()=>t[s],enumerable:!(a=n(t,s))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t))},8724:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty;e.exports=(t={},((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of i(t))o.call(e,s)||undefined===s||r(e,s,{get:()=>t[s],enumerable:!(a=n(t,s))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t))},3255:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty;e.exports=(t={},((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of i(t))o.call(e,s)||undefined===s||r(e,s,{get:()=>t[s],enumerable:!(a=n(t,s))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t))},6608:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty;e.exports=(t={},((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of i(t))o.call(e,s)||undefined===s||r(e,s,{get:()=>t[s],enumerable:!(a=n(t,s))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t))},8464:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty;e.exports=(t={},((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of i(t))o.call(e,s)||undefined===s||r(e,s,{get:()=>t[s],enumerable:!(a=n(t,s))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t))},3625:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of s(t))a.call(e,c)||c===r||i(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e},u=(e,t,r)=>(c(e,t,"default"),r&&c(r,t,"default")),l={};e.exports=(n=l,c(i({},"__esModule",{value:!0}),n)),u(l,r(7348),e.exports),u(l,r(3255),e.exports),u(l,r(6608),e.exports),u(l,r(8724),e.exports),u(l,r(8464),e.exports),u(l,r(8927),e.exports)},8927:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty;e.exports=(t={},((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of i(t))o.call(e,s)||undefined===s||r(e,s,{get:()=>t[s],enumerable:!(a=n(t,s))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t))},4818:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of s(t))a.call(e,c)||c===r||i(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e},u=(e,t,r)=>(c(e,t,"default"),r&&c(r,t,"default")),l={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(l,{Keypair:()=>d.Keypair,PublicKey:()=>f.PublicKey,Signer:()=>d.BaseSigner}),e.exports=(n=l,c(i({},"__esModule",{value:!0}),n)),u(l,r(1684),e.exports),u(l,r(1806),e.exports),u(l,r(5571),e.exports),u(l,r(546),e.exports);var f=r(5334),d=r(5133)},546:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(s,{AppId:()=>a,IntentScope:()=>u,IntentVersion:()=>c,messageWithIntent:()=>l}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of i(t))o.call(e,s)||undefined===s||r(e,s,{get:()=>t[s],enumerable:!(a=n(t,s))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));var a=(e=>(e[e.Sui=0]="Sui",e))(a||{}),c=(e=>(e[e.V0=0]="V0",e))(c||{}),u=(e=>(e[e.TransactionData=0]="TransactionData",e[e.TransactionEffects=1]="TransactionEffects",e[e.CheckpointSummary=2]="CheckpointSummary",e[e.PersonalMessage=3]="PersonalMessage",e))(u||{});function l(e,t){const r=function(e){return[e,0,0]}(e),n=new Uint8Array(r.length+t.length);return n.set(r),n.set(t,r.length),n}},5133:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{BaseSigner:()=>b,Keypair:()=>g,LEGACY_PRIVATE_KEY_SIZE:()=>y,PRIVATE_KEY_SIZE:()=>p}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(3783),l=r(6719),f=r(5732),d=r(546),h=r(1684);const p=32,y=64;class b{async signWithIntent(e,t){const r=(0,d.messageWithIntent)(t,e),n=(0,l.blake2b)(r,{dkLen:32});return{signature:(0,h.toSerializedSignature)({signature:await this.sign(n),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()}),bytes:(0,u.toB64)(e)}}async signTransactionBlock(e){return this.signWithIntent(e,d.IntentScope.TransactionData)}async signPersonalMessage(e){return this.signWithIntent(f.bcs.vector(f.bcs.u8()).serialize(e).toBytes(),d.IntentScope.PersonalMessage)}toSuiAddress(){return this.getPublicKey().toSuiAddress()}}class g extends b{}},5571:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{isValidBIP32Path:()=>d,isValidHardenedPath:()=>f,mnemonicToSeed:()=>h,mnemonicToSeedHex:()=>p}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(3783),l=r(7341);function f(e){return!!new RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(e)}function d(e){return!!new RegExp("^m\\/(54|74)'\\/784'\\/[0-9]+'\\/[0-9]+\\/[0-9]+$").test(e)}function h(e){return(0,l.mnemonicToSeedSync)(e,"")}function p(e){return(0,u.toHEX)(h(e))}},5334:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{PublicKey:()=>b,bytesEqual:()=>y}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(3783),l=r(6719),f=r(9175),d=r(5732),h=r(1506),p=r(546);function y(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}class b{equals(e){return y(this.toRawBytes(),e.toRawBytes())}toBase64(){return(0,u.toB64)(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){const e=this.toSuiBytes();return(0,u.toB64)(e)}verifyWithIntent(e,t,r){const n=(0,p.messageWithIntent)(r,e),i=(0,l.blake2b)(n,{dkLen:32});return this.verify(i,t)}verifyPersonalMessage(e,t){return this.verifyWithIntent(d.bcs.vector(d.bcs.u8()).serialize(e).toBytes(),t,p.IntentScope.PersonalMessage)}verifyTransactionBlock(e,t){return this.verifyWithIntent(e,t,p.IntentScope.TransactionData)}toSuiBytes(){const e=this.toRawBytes(),t=new Uint8Array(e.length+1);return t.set([this.flag()]),t.set(e,1),t}toSuiAddress(){return(0,h.normalizeSuiAddress)((0,f.bytesToHex)((0,l.blake2b)(this.toSuiBytes(),{dkLen:32})).slice(0,2*h.SUI_ADDRESS_LENGTH))}}},1806:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(s,{SIGNATURE_FLAG_TO_SCHEME:()=>u,SIGNATURE_SCHEME_TO_FLAG:()=>a,SIGNATURE_SCHEME_TO_SIZE:()=>c}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of i(t))o.call(e,s)||undefined===s||r(e,s,{get:()=>t[s],enumerable:!(a=n(t,s))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));const a={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5},c={ED25519:32,Secp256k1:33,Secp256r1:33},u={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin"}},1684:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{parseSerializedSignature:()=>b,toSerializedSignature:()=>y}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(3783),l=r(5732),f=r(2268),d=r(4121),h=r(2018),p=r(1806);function y({signature:e,signatureScheme:t,publicKey:r}){if(!r)throw new Error("`publicKey` is required");const n=r.toRawBytes(),i=new Uint8Array(1+e.length+n.length);return i.set([p.SIGNATURE_SCHEME_TO_FLAG[t]]),i.set(e,1),i.set(n,1+e.length),(0,u.toB64)(i)}function b(e){const t=(0,u.fromB64)(e),r=p.SIGNATURE_FLAG_TO_SCHEME[t[0]];switch(r){case"MultiSig":return{serializedSignature:e,signatureScheme:r,multisig:l.bcs.MultiSig.parse(t.slice(1)),bytes:t};case"ZkLogin":const n=t.slice(1),{inputs:i,maxEpoch:o,userSignature:s}=(0,h.parseZkLoginSignature)(n),{issBase64Details:a,addressSeed:c}=i,u=(0,d.extractClaimValue)(a,"iss");return{serializedSignature:e,signatureScheme:r,zkLogin:{inputs:i,maxEpoch:o,userSignature:s,iss:u,address:(0,f.computeZkLoginAddressFromSeed)(BigInt(c),u),addressSeed:BigInt(c)},signature:t};case"ED25519":case"Secp256k1":case"Secp256r1":const y=p.SIGNATURE_SCHEME_TO_SIZE[r],b=t.slice(1,t.length-y);return{serializedSignature:e,signatureScheme:r,signature:b,publicKey:t.slice(1+b.length),bytes:t};default:throw new Error("Unsupported signature scheme")}}},4138:(e,t,r)=>{"use strict";var n,i=Object.create,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,l=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of a(t))u.call(e,i)||i===r||o(e,i,{get:()=>t[i],enumerable:!(n=s(t,i))||n.enumerable});return e},f={};((e,t)=>{for(var r in t)o(e,r,{get:t[r],enumerable:!0})})(f,{derivePath:()=>S,getMasterKeyFromSeed:()=>m,getPublicKey:()=>w,isValidPath:()=>v,pathRegex:()=>b,replaceDerive:()=>g}),e.exports=(n=f,l(o({},"__esModule",{value:!0}),n));var d=r(3783),h=r(9615),p=r(102),y=((e,t,r)=>(r=null!=e?i(c(e)):{},l(e&&e.__esModule?r:o(r,"default",{value:e,enumerable:!0}),e)))(r(8947));const b=new RegExp("^m(\\/[0-9]+')+$"),g=e=>e.replace("'",""),m=e=>{const t=h.hmac.create(p.sha512,"ed25519 seed").update((0,d.fromHEX)(e)).digest();return{key:t.slice(0,32),chainCode:t.slice(32)}},w=(e,t=!0)=>{const r=y.default.sign.keyPair.fromSeed(e).secretKey.subarray(32),n=new Uint8Array(r.length+1);return n.set([0]),n.set(r,1),t?n:r},v=e=>!!b.test(e)&&!e.split("/").slice(1).map(g).some(isNaN),S=(e,t,r=2147483648)=>{if(!v(e))throw new Error("Invalid derivation path");const{key:n,chainCode:i}=m(t);return e.split("/").slice(1).map(g).map((e=>parseInt(e,10))).reduce(((e,t)=>(({key:e,chainCode:t},r)=>{const n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);const i=new Uint8Array(1+e.length+n.byteLength);i.set(new Uint8Array(1).fill(0)),i.set(e,1),i.set(new Uint8Array(n,0,n.byteLength),e.length+1);const o=h.hmac.create(p.sha512,t).update(i).digest();return{key:o.slice(0,32),chainCode:o.slice(32)}})(e,t+r)),{key:n,chainCode:i})}},9278:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of s(t))a.call(e,c)||c===r||i(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e},u=(e,t,r)=>(c(e,t,"default"),r&&c(r,t,"default")),l={};e.exports=(n=l,c(i({},"__esModule",{value:!0}),n)),u(l,r(4233),e.exports),u(l,r(8130),e.exports)},4233:(e,t,r)=>{"use strict";var n,i=Object.create,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,l=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of a(t))u.call(e,i)||i===r||o(e,i,{get:()=>t[i],enumerable:!(n=s(t,i))||n.enumerable});return e},f={};((e,t)=>{for(var r in t)o(e,r,{get:t[r],enumerable:!0})})(f,{DEFAULT_ED25519_DERIVATION_PATH:()=>m,Ed25519Keypair:()=>w}),e.exports=(n=f,l(o({},"__esModule",{value:!0}),n));var d=r(3783),h=((e,t,r)=>(r=null!=e?i(c(e)):{},l(e&&e.__esModule?r:o(r,"default",{value:e,enumerable:!0}),e)))(r(8947)),p=r(5133),y=r(5571),b=r(4138),g=r(8130);const m="m/44'/784'/0'/0'/0'";class w extends p.Keypair{constructor(e){super(),this.keypair=e||h.default.sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new w(h.default.sign.keyPair())}static fromSecretKey(e,t){const r=e.length;if(r!==p.PRIVATE_KEY_SIZE)throw new Error(`Wrong secretKey size. Expected ${p.PRIVATE_KEY_SIZE} bytes, got ${r}.`);const n=h.default.sign.keyPair.fromSeed(e);if(!t||!t.skipValidation){const e=(new TextEncoder).encode("sui validation"),t=h.default.sign.detached(e,n.secretKey);if(!h.default.sign.detached.verify(e,t,n.publicKey))throw new Error("provided secretKey is invalid")}return new w(n)}getPublicKey(){return new g.Ed25519PublicKey(this.keypair.publicKey)}async sign(e){return this.signData(e)}signData(e){return h.default.sign.detached(e,this.keypair.secretKey)}static deriveKeypair(e,t){if(null==t&&(t=m),!(0,y.isValidHardenedPath)(t))throw new Error("Invalid derivation path");const{key:r}=(0,b.derivePath)(t,(0,y.mnemonicToSeedHex)(e));return w.fromSecretKey(r)}static deriveKeypairFromSeed(e,t){if(null==t&&(t=m),!(0,y.isValidHardenedPath)(t))throw new Error("Invalid derivation path");const{key:r}=(0,b.derivePath)(t,e);return w.fromSecretKey(r)}export(){return{schema:"ED25519",privateKey:(0,d.toB64)(this.keypair.secretKey.slice(0,p.PRIVATE_KEY_SIZE))}}}},8130:(e,t,r)=>{"use strict";var n,i=Object.create,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,l=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of a(t))u.call(e,i)||i===r||o(e,i,{get:()=>t[i],enumerable:!(n=s(t,i))||n.enumerable});return e},f={};((e,t)=>{for(var r in t)o(e,r,{get:t[r],enumerable:!0})})(f,{Ed25519PublicKey:()=>g}),e.exports=(n=f,l(o({},"__esModule",{value:!0}),n));var d=r(3783),h=((e,t,r)=>(r=null!=e?i(c(e)):{},l(e&&e.__esModule?r:o(r,"default",{value:e,enumerable:!0}),e)))(r(8947)),p=r(5334),y=r(1806),b=r(1684);class g extends p.PublicKey{constructor(e){if(super(),"string"==typeof e?this.data=(0,d.fromB64)(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),32!==this.data.length)throw new Error(`Invalid public key input. Expected 32 bytes, got ${this.data.length}`)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return y.SIGNATURE_SCHEME_TO_FLAG.ED25519}async verify(e,t){let r;if("string"==typeof t){const e=(0,b.parseSerializedSignature)(t);if("ED25519"!==e.signatureScheme)throw new Error("Invalid signature scheme");if(!(0,p.bytesEqual)(this.toRawBytes(),e.publicKey))throw new Error("Signature does not match public key");r=e.signature}else r=t;return h.default.sign.detached.verify(e,r,this.toRawBytes())}}g.SIZE=32},3899:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{Secp256k1PublicKey:()=>y}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(3783),l=r(8510),f=r(2623),d=r(5334),h=r(1806),p=r(1684);class y extends d.PublicKey{constructor(e){if(super(),"string"==typeof e?this.data=(0,u.fromB64)(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),33!==this.data.length)throw new Error(`Invalid public key input. Expected 33 bytes, got ${this.data.length}`)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return h.SIGNATURE_SCHEME_TO_FLAG.Secp256k1}async verify(e,t){let r;if("string"==typeof t){const e=(0,p.parseSerializedSignature)(t);if("Secp256k1"!==e.signatureScheme)throw new Error("Invalid signature scheme");if(!(0,d.bytesEqual)(this.toRawBytes(),e.publicKey))throw new Error("Signature does not match public key");r=e.signature}else r=t;return l.secp256k1.verify(l.secp256k1.Signature.fromCompact(r),(0,f.sha256)(e),this.toRawBytes())}}y.SIZE=33},1422:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{Secp256r1PublicKey:()=>y}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(3783),l=r(5897),f=r(2623),d=r(5334),h=r(1806),p=r(1684);class y extends d.PublicKey{constructor(e){if(super(),"string"==typeof e?this.data=(0,u.fromB64)(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),33!==this.data.length)throw new Error(`Invalid public key input. Expected 33 bytes, got ${this.data.length}`)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return h.SIGNATURE_SCHEME_TO_FLAG.Secp256r1}async verify(e,t){let r;if("string"==typeof t){const e=(0,p.parseSerializedSignature)(t);if("Secp256r1"!==e.signatureScheme)throw new Error("Invalid signature scheme");if(!(0,d.bytesEqual)(this.toRawBytes(),e.publicKey))throw new Error("Signature does not match public key");r=e.signature}else r=t;return l.secp256r1.verify(l.secp256r1.Signature.fromCompact(r),(0,f.sha256)(e),this.toRawBytes())}}y.SIZE=33},8146:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{MAX_SIGNER_IN_MULTISIG:()=>w,MIN_SIGNER_IN_MULTISIG:()=>v,MultiSigPublicKey:()=>S,parsePartialSignatures:()=>E}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(3783),l=r(6719),f=r(9175),d=r(5732),h=r(5334),p=r(1806),y=r(1684),b=r(1506),g=r(6989),m=r(7872);const w=10,v=1;class S extends h.PublicKey{constructor(e){if(super(),"string"==typeof e?(this.rawBytes=(0,u.fromB64)(e),this.multisigPublicKey=d.bcs.MultiSigPublicKey.parse(this.rawBytes)):e instanceof Uint8Array?(this.rawBytes=e,this.multisigPublicKey=d.bcs.MultiSigPublicKey.parse(this.rawBytes)):(this.multisigPublicKey=e,this.rawBytes=d.bcs.MultiSigPublicKey.serialize(e).toBytes()),this.multisigPublicKey.threshold<1)throw new Error("Invalid threshold");const t=new Set;this.publicKeys=this.multisigPublicKey.pk_map.map((({pubKey:e,weight:r})=>{const[n,i]=Object.entries(e)[0],o=Uint8Array.from(i).toString();if(t.has(o))throw new Error("Multisig does not support duplicate public keys");if(t.add(o),r<1)throw new Error("Invalid weight");return{publicKey:(0,g.publicKeyFromRawBytes)(n,Uint8Array.from(i)),weight:r}}));const r=this.publicKeys.reduce(((e,{weight:t})=>e+t),0);if(this.multisigPublicKey.threshold>r)throw new Error("Unreachable threshold");if(this.publicKeys.length>w)throw new Error(`Max number of signers in a multisig is ${w}`);if(this.publicKeys.length<v)throw new Error(`Min number of signers in a multisig is ${v}`)}static fromPublicKeys({threshold:e,publicKeys:t}){return new S({pk_map:t.map((({publicKey:e,weight:t})=>({pubKey:{[p.SIGNATURE_FLAG_TO_SCHEME[e.flag()]]:Array.from(e.toRawBytes())},weight:t}))),threshold:e})}equals(e){return super.equals(e)}toRawBytes(){return this.rawBytes}getPublicKeys(){return this.publicKeys}toSuiAddress(){const e=new Uint8Array(1+65*w+2);e.set([p.SIGNATURE_SCHEME_TO_FLAG.MultiSig]),e.set(d.bcs.u16().serialize(this.multisigPublicKey.threshold).toBytes(),1);let t=3;for(const{publicKey:r,weight:n}of this.publicKeys){const i=r.toSuiBytes();e.set(i,t),t+=i.length,e.set([n],t++)}return(0,b.normalizeSuiAddress)((0,f.bytesToHex)((0,l.blake2b)(e.slice(0,t),{dkLen:32})))}flag(){return p.SIGNATURE_SCHEME_TO_FLAG.MultiSig}async verify(e,t){const{signatureScheme:r,multisig:n}=(0,y.parseSerializedSignature)(t);if("MultiSig"!==r)throw new Error("Invalid signature scheme");let i=0;if(!(0,h.bytesEqual)(d.bcs.MultiSigPublicKey.serialize(this.multisigPublicKey).toBytes(),d.bcs.MultiSigPublicKey.serialize(n.multisig_pk).toBytes()))return!1;for(const{publicKey:t,weight:r,signature:o}of E(n)){if(!await t.verify(e,o))return!1;i+=r}return i>=this.multisigPublicKey.threshold}combinePartialSignatures(e){if(e.length>w)throw new Error(`Max number of signatures in a multisig is ${w}`);let t=0;const r=new Array(e.length);for(let n=0;n<e.length;n++){let i,o,s=(0,y.parseSerializedSignature)(e[n]);if("MultiSig"===s.signatureScheme)throw new Error("MultiSig is not supported inside MultiSig");i="ZkLogin"===s.signatureScheme?(0,m.toZkLoginPublicIdentifier)(s.zkLogin?.addressSeed,s.zkLogin?.iss).toRawBytes():s.publicKey,r[n]={[s.signatureScheme]:Array.from(s.signature.map((e=>Number(e))))};for(let e=0;e<this.publicKeys.length;e++)if((0,h.bytesEqual)(i,this.publicKeys[e].publicKey.toRawBytes())){if(t&1<<e)throw new Error("Received multiple signatures from the same public key");o=e;break}if(void 0===o)throw new Error("Received signature from unknown public key");t|=1<<o}let n={sigs:r,bitmap:t,multisig_pk:this.multisigPublicKey};const i=d.bcs.MultiSig.serialize(n,{maxSize:8192}).toBytes();let o=new Uint8Array(i.length+1);return o.set([p.SIGNATURE_SCHEME_TO_FLAG.MultiSig]),o.set(i,1),(0,u.toB64)(o)}}function E(e){let t=new Array(e.sigs.length);for(let r=0;r<e.sigs.length;r++){const[n,i]=Object.entries(e.sigs[r])[0],o=O(e.bitmap).at(r),s=e.multisig_pk.pk_map[o],a=Uint8Array.from(Object.values(s.pubKey)[0]);if("MultiSig"===n)throw new Error("MultiSig is not supported inside MultiSig");const c=(0,g.publicKeyFromRawBytes)(n,a);t[r]={signatureScheme:n,signature:Uint8Array.from(i),publicKey:c,weight:s.weight}}return t}function O(e){if(e<0||e>1024)throw new Error("Invalid bitmap");let t=[];for(let r=0;r<10;r++)e&1<<r&&t.push(r);return Uint8Array.from(t)}},6352:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{ObjectOwner:()=>l,ProtocolConfig:()=>h,SuiJsonValue:()=>f}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(2150);const l=(0,u.union)([(0,u.object)({AddressOwner:(0,u.string)()}),(0,u.object)({ObjectOwner:(0,u.string)()}),(0,u.object)({Shared:(0,u.object)({initial_shared_version:(0,u.nullable)((0,u.string)())})}),(0,u.literal)("Immutable")]),f=(0,u.define)("SuiJsonValue",(()=>!0)),d=(0,u.union)([(0,u.object)({u32:(0,u.string)()}),(0,u.object)({u64:(0,u.string)()}),(0,u.object)({f64:(0,u.string)()})]),h=(0,u.object)({attributes:(0,u.record)((0,u.string)(),(0,u.nullable)(d)),featureFlags:(0,u.record)((0,u.string)(),(0,u.boolean)()),maxSupportedProtocolVersion:(0,u.string)(),minSupportedProtocolVersion:(0,u.string)(),protocolVersion:(0,u.string)()})},441:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{CheckpointedObjectId:()=>u.CheckpointedObjectId,DisplayFieldsBackwardCompatibleResponse:()=>u.DisplayFieldsBackwardCompatibleResponse,DisplayFieldsResponse:()=>u.DisplayFieldsResponse,GetOwnedObjectsResponse:()=>u.GetOwnedObjectsResponse,MoveCallMetric:()=>l.MoveCallMetric,MoveCallMetrics:()=>l.MoveCallMetrics,MovePackageContent:()=>u.MovePackageContent,ObjectContentFields:()=>u.ObjectContentFields,ObjectRead:()=>u.ObjectRead,ObjectStatus:()=>u.ObjectStatus,ObjectType:()=>u.ObjectType,PaginatedObjectsResponse:()=>u.PaginatedObjectsResponse,SuiGasData:()=>u.SuiGasData,SuiMoveAbilitySet:()=>l.SuiMoveAbilitySet,SuiMoveFunctionArgType:()=>l.SuiMoveFunctionArgType,SuiMoveFunctionArgTypes:()=>l.SuiMoveFunctionArgTypes,SuiMoveModuleId:()=>l.SuiMoveModuleId,SuiMoveNormalizedField:()=>l.SuiMoveNormalizedField,SuiMoveNormalizedFunction:()=>l.SuiMoveNormalizedFunction,SuiMoveNormalizedModule:()=>l.SuiMoveNormalizedModule,SuiMoveNormalizedModules:()=>l.SuiMoveNormalizedModules,SuiMoveNormalizedStruct:()=>l.SuiMoveNormalizedStruct,SuiMoveNormalizedStructType:()=>l.SuiMoveNormalizedStructType,SuiMoveNormalizedType:()=>l.SuiMoveNormalizedType,SuiMoveNormalizedTypeParameterType:()=>l.SuiMoveNormalizedTypeParameterType,SuiMoveObject:()=>u.SuiMoveObject,SuiMovePackage:()=>u.SuiMovePackage,SuiMoveStructTypeParameter:()=>l.SuiMoveStructTypeParameter,SuiMoveVisibility:()=>l.SuiMoveVisibility,SuiObjectData:()=>u.SuiObjectData,SuiObjectDataOptions:()=>u.SuiObjectDataOptions,SuiObjectInfo:()=>u.SuiObjectInfo,SuiObjectRef:()=>u.SuiObjectRef,SuiObjectResponse:()=>u.SuiObjectResponse,SuiObjectResponseError:()=>u.SuiObjectResponseError,SuiParsedData:()=>u.SuiParsedData,SuiRawData:()=>u.SuiRawData,SuiRawMoveObject:()=>u.SuiRawMoveObject,SuiRawMovePackage:()=>u.SuiRawMovePackage,extractMutableReference:()=>l.extractMutableReference,extractReference:()=>l.extractReference,extractStructTag:()=>l.extractStructTag,getMoveObject:()=>u.getMoveObject,getMoveObjectType:()=>u.getMoveObjectType,getMovePackageContent:()=>u.getMovePackageContent,getObjectDeletedResponse:()=>u.getObjectDeletedResponse,getObjectDisplay:()=>u.getObjectDisplay,getObjectFields:()=>u.getObjectFields,getObjectId:()=>u.getObjectId,getObjectNotExistsResponse:()=>u.getObjectNotExistsResponse,getObjectOwner:()=>u.getObjectOwner,getObjectPreviousTransactionDigest:()=>u.getObjectPreviousTransactionDigest,getObjectReference:()=>u.getObjectReference,getObjectType:()=>u.getObjectType,getObjectVersion:()=>u.getObjectVersion,getSharedObjectInitialVersion:()=>u.getSharedObjectInitialVersion,getSuiObjectData:()=>u.getSuiObjectData,hasPublicTransfer:()=>u.hasPublicTransfer,isImmutableObject:()=>u.isImmutableObject,isSharedObject:()=>u.isSharedObject,isSuiObjectResponse:()=>u.isSuiObjectResponse}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(4721),l=r(2924)},2924:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{MoveCallMetric:()=>g,MoveCallMetrics:()=>m,SuiMoveAbilitySet:()=>p,SuiMoveFunctionArgType:()=>l,SuiMoveFunctionArgTypes:()=>f,SuiMoveModuleId:()=>d,SuiMoveNormalizedField:()=>x,SuiMoveNormalizedFunction:()=>O,SuiMoveNormalizedModule:()=>T,SuiMoveNormalizedModules:()=>B,SuiMoveNormalizedStruct:()=>j,SuiMoveNormalizedStructType:()=>E,SuiMoveNormalizedType:()=>v,SuiMoveNormalizedTypeParameterType:()=>b,SuiMoveStructTypeParameter:()=>y,SuiMoveVisibility:()=>h,extractMutableReference:()=>A,extractReference:()=>P,extractStructTag:()=>_}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(2150);const l=(0,u.union)([(0,u.string)(),(0,u.object)({Object:(0,u.string)()})]),f=(0,u.array)(l),d=(0,u.object)({address:(0,u.string)(),name:(0,u.string)()}),h=(0,u.union)([(0,u.literal)("Private"),(0,u.literal)("Public"),(0,u.literal)("Friend")]),p=(0,u.object)({abilities:(0,u.array)((0,u.string)())}),y=(0,u.object)({constraints:p,isPhantom:(0,u.boolean)()}),b=(0,u.object)({TypeParameter:(0,u.number)()}),g=(0,u.tuple)([(0,u.object)({module:(0,u.string)(),package:(0,u.string)(),function:(0,u.string)()}),(0,u.string)()]),m=(0,u.object)({rank3Days:(0,u.array)(g),rank7Days:(0,u.array)(g),rank30Days:(0,u.array)(g)});function w(e){if(!e)return!1;if("string"==typeof e)return!0;if((0,u.is)(e,b))return!0;if(S(e))return!0;if("object"!=typeof e)return!1;const t=e;return!!(0,u.is)(t.Reference,v)||!!(0,u.is)(t.MutableReference,v)||!!(0,u.is)(t.Vector,v)}const v=(0,u.define)("SuiMoveNormalizedType",w);function S(e){if(!e||"object"!=typeof e)return!1;const t=e;if(!t.Struct||"object"!=typeof t.Struct)return!1;const r=t.Struct;return!("string"!=typeof r.address||"string"!=typeof r.module||"string"!=typeof r.name||!Array.isArray(r.typeArguments)||!r.typeArguments.every((e=>w(e))))}const E=(0,u.define)("SuiMoveNormalizedStructType",S),O=(0,u.object)({visibility:h,isEntry:(0,u.boolean)(),typeParameters:(0,u.array)(p),parameters:(0,u.array)(v),return:(0,u.array)(v)}),x=(0,u.object)({name:(0,u.string)(),type:v}),j=(0,u.object)({abilities:p,typeParameters:(0,u.array)(y),fields:(0,u.array)(x)}),T=(0,u.object)({fileFormatVersion:(0,u.number)(),address:(0,u.string)(),name:(0,u.string)(),friends:(0,u.array)(d),structs:(0,u.record)((0,u.string)(),j),exposedFunctions:(0,u.record)((0,u.string)(),O)}),B=(0,u.record)((0,u.string)(),T);function A(e){return"object"==typeof e&&"MutableReference"in e?e.MutableReference:void 0}function P(e){return"object"==typeof e&&"Reference"in e?e.Reference:void 0}function _(e){if("object"==typeof e&&"Struct"in e)return e;const t=P(e),r=A(e);return"object"==typeof t&&"Struct"in t?t:"object"==typeof r&&"Struct"in r?r:void 0}},4721:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{CheckpointedObjectId:()=>ee,DisplayFieldsBackwardCompatibleResponse:()=>P,DisplayFieldsResponse:()=>A,GetOwnedObjectsResponse:()=>M,MIST_PER_SUI:()=>T,MovePackageContent:()=>m,ObjectContentFields:()=>g,ObjectRead:()=>re,ObjectStatus:()=>k,ObjectType:()=>f,OwnedObjectRef:()=>h,PaginatedObjectsResponse:()=>te,SUI_DECIMALS:()=>j,SuiGasData:()=>y,SuiMoveObject:()=>w,SuiMovePackage:()=>v,SuiObjectData:()=>_,SuiObjectDataOptions:()=>I,SuiObjectInfo:()=>b,SuiObjectRef:()=>d,SuiObjectResponse:()=>U,SuiObjectResponseError:()=>B,SuiParsedData:()=>S,SuiRawData:()=>x,SuiRawMoveObject:()=>E,SuiRawMovePackage:()=>O,TransactionEffectsModifiedAtVersions:()=>p,getMoveObject:()=>J,getMoveObjectType:()=>Z,getMovePackageContent:()=>Q,getObjectDeletedResponse:()=>C,getObjectDisplay:()=>F,getObjectFields:()=>Y,getObjectId:()=>L,getObjectNotExistsResponse:()=>N,getObjectOwner:()=>V,getObjectPreviousTransactionDigest:()=>K,getObjectReference:()=>D,getObjectType:()=>H,getObjectVersion:()=>z,getSharedObjectInitialVersion:()=>q,getSuiObjectData:()=>R,hasPublicTransfer:()=>X,isImmutableObject:()=>W,isSharedObject:()=>G,isSuiObjectResponse:()=>$}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(2150),l=r(6352);const f=(0,u.union)([(0,u.string)(),(0,u.literal)("package")]),d=(0,u.object)({digest:(0,u.string)(),objectId:(0,u.string)(),version:(0,u.union)([(0,u.number)(),(0,u.string)(),(0,u.bigint)()])}),h=(0,u.object)({owner:l.ObjectOwner,reference:d}),p=(0,u.object)({objectId:(0,u.string)(),sequenceNumber:(0,u.string)()}),y=(0,u.object)({payment:(0,u.array)(d),owner:(0,u.string)(),price:(0,u.string)(),budget:(0,u.string)()}),b=(0,u.assign)(d,(0,u.object)({type:(0,u.string)(),owner:l.ObjectOwner,previousTransaction:(0,u.string)()})),g=(0,u.record)((0,u.string)(),(0,u.any)()),m=(0,u.record)((0,u.string)(),(0,u.unknown)()),w=(0,u.object)({type:(0,u.string)(),fields:g,hasPublicTransfer:(0,u.boolean)()}),v=(0,u.object)({disassembled:m}),S=(0,u.union)([(0,u.assign)(w,(0,u.object)({dataType:(0,u.literal)("moveObject")})),(0,u.assign)(v,(0,u.object)({dataType:(0,u.literal)("package")}))]),E=(0,u.object)({type:(0,u.string)(),hasPublicTransfer:(0,u.boolean)(),version:(0,u.string)(),bcsBytes:(0,u.string)()}),O=(0,u.object)({id:(0,u.string)(),moduleMap:(0,u.record)((0,u.string)(),(0,u.string)())}),x=(0,u.union)([(0,u.assign)(E,(0,u.object)({dataType:(0,u.literal)("moveObject")})),(0,u.assign)(O,(0,u.object)({dataType:(0,u.literal)("package")}))]),j=9,T=BigInt(1e9),B=(0,u.object)({code:(0,u.string)(),error:(0,u.optional)((0,u.string)()),object_id:(0,u.optional)((0,u.string)()),parent_object_id:(0,u.optional)((0,u.string)()),version:(0,u.optional)((0,u.string)()),digest:(0,u.optional)((0,u.string)())}),A=(0,u.object)({data:(0,u.nullable)((0,u.optional)((0,u.record)((0,u.string)(),(0,u.string)()))),error:(0,u.nullable)((0,u.optional)(B))}),P=(0,u.union)([A,(0,u.optional)((0,u.record)((0,u.string)(),(0,u.string)()))]),_=(0,u.object)({objectId:(0,u.string)(),version:(0,u.string)(),digest:(0,u.string)(),type:(0,u.nullable)((0,u.optional)((0,u.string)())),content:(0,u.nullable)((0,u.optional)(S)),bcs:(0,u.nullable)((0,u.optional)(x)),owner:(0,u.nullable)((0,u.optional)(l.ObjectOwner)),previousTransaction:(0,u.nullable)((0,u.optional)((0,u.string)())),storageRebate:(0,u.nullable)((0,u.optional)((0,u.string)())),display:(0,u.nullable)((0,u.optional)(P))}),I=(0,u.object)({showType:(0,u.nullable)((0,u.optional)((0,u.boolean)())),showContent:(0,u.nullable)((0,u.optional)((0,u.boolean)())),showBcs:(0,u.nullable)((0,u.optional)((0,u.boolean)())),showOwner:(0,u.nullable)((0,u.optional)((0,u.boolean)())),showPreviousTransaction:(0,u.nullable)((0,u.optional)((0,u.boolean)())),showStorageRebate:(0,u.nullable)((0,u.optional)((0,u.boolean)())),showDisplay:(0,u.nullable)((0,u.optional)((0,u.boolean)()))}),k=(0,u.union)([(0,u.literal)("Exists"),(0,u.literal)("notExists"),(0,u.literal)("Deleted")]),M=(0,u.array)(b),U=(0,u.object)({data:(0,u.nullable)((0,u.optional)(_)),error:(0,u.nullable)((0,u.optional)(B))});function R(e){return e.data}function C(e){if(e.error&&"object_id"in e.error&&"version"in e.error&&"digest"in e.error){const t=e.error;return{objectId:t.object_id,version:t.version,digest:t.digest}}}function N(e){if(e.error&&"object_id"in e.error&&!("version"in e.error)&&!("digest"in e.error))return e.error.object_id}function D(e){if("reference"in e)return e.reference;const t=R(e);return t?{objectId:t.objectId,version:t.version,digest:t.digest}:C(e)}function L(e){return"objectId"in e?e.objectId:D(e)?.objectId??N(e)}function z(e){return"version"in e?e.version:D(e)?.version}function $(e){return void 0!==e.data}function H(e){const t=$(e)?e.data:e;return!t?.type&&"data"in e?"package"===t?.content?.dataType?"package":Z(e):t?.type}function K(e){return R(e)?.previousTransaction}function V(e){return(0,u.is)(e,l.ObjectOwner)?e:R(e)?.owner}function F(e){const t=R(e)?.display;return t?(0,u.is)(t,A)?t:{data:t,error:null}:{data:null,error:null}}function q(e){const t=V(e);return t&&"object"==typeof t&&"Shared"in t?t.Shared.initial_shared_version:void 0}function G(e){const t=V(e);return!!t&&"object"==typeof t&&"Shared"in t}function W(e){return"Immutable"===V(e)}function Z(e){return J(e)?.type}function Y(e){return"fields"in e?e.fields:J(e)?.fields}function J(e){const t="data"in e?R(e):e;if(t&&function(e){return void 0!==e.content}(t)&&"moveObject"===t.content.dataType)return t.content}function X(e){return J(e)?.hasPublicTransfer??!1}function Q(e){if("disassembled"in e)return e.disassembled;const t=R(e);return"package"===t?.content?.dataType?t.content.disassembled:void 0}const ee=(0,u.object)({objectId:(0,u.string)(),atCheckpoint:(0,u.optional)((0,u.number)())}),te=(0,u.object)({data:(0,u.array)(U),nextCursor:(0,u.optional)((0,u.nullable)((0,u.string)())),hasNextPage:(0,u.boolean)()}),re=(0,u.union)([(0,u.object)({details:_,status:(0,u.literal)("VersionFound")}),(0,u.object)({details:(0,u.string)(),status:(0,u.literal)("ObjectNotExists")}),(0,u.object)({details:d,status:(0,u.literal)("ObjectDeleted")}),(0,u.object)({details:(0,u.tuple)([(0,u.string)(),(0,u.number)()]),status:(0,u.literal)("VersionNotFound")}),(0,u.object)({details:(0,u.object)({asked_version:(0,u.number)(),latest_version:(0,u.number)(),object_id:(0,u.string)()}),status:(0,u.literal)("VersionTooHigh")})])},9710:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(s,{formatAddress:()=>c,formatDigest:()=>u}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of i(t))o.call(e,s)||undefined===s||r(e,s,{get:()=>t[s],enumerable:!(a=n(t,s))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));const a="…";function c(e){if(e.length<=6)return e;const t=e.startsWith("0x")?2:0;return`0x${e.slice(t,t+4)}${a}${e.slice(-4)}`}function u(e){return`${e.slice(0,10)}${a}`}},2117:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{MIST_PER_SUI:()=>p,MOVE_STDLIB_ADDRESS:()=>y,SUI_ADDRESS_LENGTH:()=>l.SUI_ADDRESS_LENGTH,SUI_CLOCK_OBJECT_ID:()=>m,SUI_DECIMALS:()=>h,SUI_FRAMEWORK_ADDRESS:()=>b,SUI_SYSTEM_ADDRESS:()=>g,SUI_SYSTEM_MODULE_NAME:()=>w,SUI_SYSTEM_STATE_OBJECT_ID:()=>S,SUI_TYPE_ARG:()=>v,assert:()=>d.assert,formatAddress:()=>u.formatAddress,formatDigest:()=>u.formatDigest,fromB64:()=>f.fromB64,fromHEX:()=>f.fromHEX,is:()=>d.is,isValidSuiAddress:()=>l.isValidSuiAddress,isValidSuiObjectId:()=>l.isValidSuiObjectId,isValidTransactionDigest:()=>l.isValidTransactionDigest,normalizeStructTag:()=>l.normalizeStructTag,normalizeSuiAddress:()=>l.normalizeSuiAddress,normalizeSuiObjectId:()=>l.normalizeSuiObjectId,parseStructTag:()=>l.parseStructTag,toB64:()=>f.toB64,toHEX:()=>f.toHEX}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(9710),l=r(1506),f=r(3783),d=r(2150);const h=9,p=BigInt(1e9),y="0x1",b="0x2",g="0x3",m=(0,l.normalizeSuiObjectId)("0x6"),w="sui_system",v=`${b}::sui::SUI`,S=(0,l.normalizeSuiObjectId)("0x5")},1506:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{SUI_ADDRESS_LENGTH:()=>d,isValidSuiAddress:()=>h,isValidSuiObjectId:()=>p,isValidTransactionDigest:()=>f,normalizeStructTag:()=>b,normalizeSuiAddress:()=>g,normalizeSuiObjectId:()=>m,parseStructTag:()=>y}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(3783);const l=32;function f(e){try{return(0,u.fromB58)(e).length===l}catch(e){return!1}}const d=32;function h(e){return function(e){return/^(0x|0X)?[a-fA-F0-9]+$/.test(e)&&e.length%2==0}(e)&&function(e){return/^(0x|0X)/.test(e)?(e.length-2)/2:e.length/2}(e)===d}function p(e){return h(e)}function y(e){const[t,r]=e.split("::"),n=e.slice(t.length+r.length+4),i=n.includes("<")?n.slice(0,n.indexOf("<")):n,o=n.includes("<")?(0,u.splitGenericParameters)(n.slice(n.indexOf("<")+1,n.lastIndexOf(">"))).map((e=>function(e){return e.includes("::")?y(e):e}(e.trim()))):[];return{address:g(t),module:r,name:i,typeParams:o}}function b(e){const{address:t,module:r,name:n,typeParams:i}="string"==typeof e?y(e):e;return`${t}::${r}::${n}${i.length>0?`<${i.map((e=>"string"==typeof e?e:b(e))).join(",")}>`:""}`}function g(e,t=!1){let r=e.toLowerCase();return!t&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(2*d,"0")}`}function m(e,t=!1){return g(e,t)}},6989:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{publicKeyFromRawBytes:()=>w,verifyPersonalMessage:()=>b,verifySignature:()=>y,verifyTransactionBlock:()=>g}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(4818),l=r(8130),f=r(3899),d=r(1422),h=r(8146),p=r(7872);async function y(e,t){const r=m(t);if(!await r.publicKey.verify(e,r.serializedSignature))throw new Error("Signature is not valid for the provided data");return r.publicKey}async function b(e,t){const r=m(t);if(!await r.publicKey.verifyPersonalMessage(e,r.serializedSignature))throw new Error("Signature is not valid for the provided message");return r.publicKey}async function g(e,t){const r=m(t);if(!await r.publicKey.verifyTransactionBlock(e,r.serializedSignature))throw new Error("Signature is not valid for the provided TransactionBlock");return r.publicKey}function m(e){const t=(0,u.parseSerializedSignature)(e);if("MultiSig"===t.signatureScheme)return{...t,publicKey:new h.MultiSigPublicKey(t.multisig.multisig_pk)};if("ZkLogin"===t.signatureScheme)throw new Error("ZkLogin is not supported yet");const r=w(t.signatureScheme,t.publicKey);return{...t,publicKey:r}}function w(e,t){switch(e){case"ED25519":return new l.Ed25519PublicKey(t);case"Secp256k1":return new f.Secp256k1PublicKey(t);case"Secp256r1":return new d.Secp256r1PublicKey(t);case"MultiSig":return new h.MultiSigPublicKey(t);case"ZkLogin":return new p.ZkLoginPublicIdentifier(t);default:throw new Error(`Unsupported signature scheme ${e}`)}}},6691:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(s,{PACKAGE_VERSION:()=>a,TARGETED_RPC_VERSION:()=>c}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of i(t))o.call(e,s)||undefined===s||r(e,s,{get:()=>t[s],enumerable:!(a=n(t,s))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));const a="0.47.0",c="1.15.0"},2268:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{computeZkLoginAddressFromSeed:()=>p}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(6719),l=r(9175),f=r(1806),d=r(2117),h=r(3037);function p(e,t){const r=(0,h.toBigEndianBytes)(e,32);"accounts.google.com"===t&&(t="https://accounts.google.com");const n=(new TextEncoder).encode(t),i=new Uint8Array(2+r.length+n.length);return i.set([f.SIGNATURE_SCHEME_TO_FLAG.ZkLogin]),i.set([n.length],1),i.set(n,2),i.set(r,2+n.length),(0,d.normalizeSuiAddress)((0,l.bytesToHex)((0,u.blake2b)(i,{dkLen:32})).slice(0,2*d.SUI_ADDRESS_LENGTH))}},572:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{zkLoginSignature:()=>l}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(3783);const l=u.bcs.struct("ZkLoginSignature",{inputs:u.bcs.struct("ZkLoginSignatureInputs",{proofPoints:u.bcs.struct("ZkLoginSignatureInputsProofPoints",{a:u.bcs.vector(u.bcs.string()),b:u.bcs.vector(u.bcs.vector(u.bcs.string())),c:u.bcs.vector(u.bcs.string())}),issBase64Details:u.bcs.struct("ZkLoginSignatureInputsClaim",{value:u.bcs.string(),indexMod4:u.bcs.u8()}),headerBase64:u.bcs.string(),addressSeed:u.bcs.string()}),maxEpoch:u.bcs.u64(),userSignature:u.bcs.vector(u.bcs.u8())})},4121:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,s={};function a(e){if(1!==e.length)throw new Error("Invalid base64Url character: "+e);const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(e);if(-1===t)throw new Error("Invalid base64Url character: "+e);const r=t.toString(2).padStart(6,"0");return Array.from(r).map(Number)}function c(e,t){const r=function(e,t){if(e.length<2)throw new Error(`Input (s = ${e}) is not tightly packed because s.length < 2`);let r=function(e){let t=[];for(let r=0;r<e.length;r++){const n=a(e.charAt(r));t=t.concat(n)}return t}(e);const n=t%4;if(0===n);else if(1===n)r=r.slice(2);else{if(2!==n)throw new Error(`Input (s = ${e}) is not tightly packed because i%4 = 3 (i = ${t}))`);r=r.slice(4)}const i=(t+e.length-1)%4;if(3===i);else if(2===i)r=r.slice(0,r.length-2);else{if(1!==i)throw new Error(`Input (s = ${e}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${t}))`);r=r.slice(0,r.length-4)}if(r.length%8!=0)throw new Error("We should never reach here...");const o=new Uint8Array(Math.floor(r.length/8));let s=0;for(let e=0;e<r.length;e+=8){const t=r.slice(e,e+8),n=parseInt(t.join(""),2);o[s++]=n}return(new TextDecoder).decode(o)}(e.value,e.indexMod4),[n,i]=function(e){if("}"!==e.slice(-1)&&","!==e.slice(-1))throw new Error("Invalid claim");const t=JSON.parse("{"+e.slice(0,-1)+"}");if(1!==Object.keys(t).length)throw new Error("Invalid claim");const r=Object.keys(t)[0];return[r,t[r]]}(r);if(n!==t)throw new Error(`Invalid field name: found ${n} expected ${t}`);return i}((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(s,{extractClaimValue:()=>c}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of i(t))o.call(e,s)||undefined===s||r(e,s,{get:()=>t[s],enumerable:!(a=n(t,s))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t))},7872:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{ZkLoginPublicIdentifier:()=>h,toZkLoginPublicIdentifier:()=>p}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(3783),l=r(5334),f=r(1806),d=r(3037);class h extends l.PublicKey{constructor(e){super(),"string"==typeof e?this.data=(0,u.fromB64)(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return f.SIGNATURE_SCHEME_TO_FLAG.ZkLogin}async verify(e,t){throw Error("does not support")}}function p(e,t){const r=(0,d.toPaddedBigEndianBytes)(e,32),n=(new TextEncoder).encode(t),i=new Uint8Array(1+n.length+r.length);return i.set([n.length],0),i.set(n,1),i.set(r,1+n.length),new h(i)}},2018:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{getZkLoginSignature:()=>d,parseZkLoginSignature:()=>h}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(3783),l=r(1806),f=r(572);function d({inputs:e,maxEpoch:t,userSignature:r}){const n=function({inputs:e,maxEpoch:t,userSignature:r}){return f.zkLoginSignature.serialize({inputs:e,maxEpoch:t,userSignature:"string"==typeof r?(0,u.fromB64)(r):r},{maxSize:2048}).toBytes()}({inputs:e,maxEpoch:t,userSignature:r}),i=new Uint8Array(n.length+1);return i.set([l.SIGNATURE_SCHEME_TO_FLAG.ZkLogin]),i.set(n,1),(0,u.toB64)(i)}function h(e){return f.zkLoginSignature.parse("string"==typeof e?(0,u.fromB64)(e):e)}},3037:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{toBigEndianBytes:()=>f,toPaddedBigEndianBytes:()=>l}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(9175);function l(e,t){const r=e.toString(16);return(0,u.hexToBytes)(r.padStart(2*t,"0").slice(2*-t))}function f(e,t){const r=l(e,t),n=function(e){for(let t=0;t<e.length;t++)if(0!==e[t])return t;return-1}(r);return-1===n?new Uint8Array([0]):r.slice(n)}},2150:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Struct:()=>l,StructError:()=>n,any:()=>j,array:()=>T,assert:()=>f,assign:()=>b,bigint:()=>B,boolean:()=>A,coerce:()=>Y,create:()=>d,date:()=>P,defaulted:()=>J,define:()=>g,deprecated:()=>m,dynamic:()=>w,empty:()=>Q,enums:()=>_,func:()=>I,instance:()=>k,integer:()=>M,intersection:()=>U,is:()=>p,lazy:()=>v,literal:()=>R,map:()=>C,mask:()=>h,max:()=>te,min:()=>re,never:()=>N,nonempty:()=>ne,nullable:()=>D,number:()=>L,object:()=>z,omit:()=>S,optional:()=>$,partial:()=>E,pattern:()=>ie,pick:()=>O,record:()=>H,refine:()=>se,regexp:()=>K,set:()=>V,size:()=>oe,string:()=>F,struct:()=>x,trimmed:()=>X,tuple:()=>q,type:()=>G,union:()=>W,unknown:()=>Z,validate:()=>y});class n extends TypeError{constructor(e,t){let r;const{message:n,explanation:i,...o}=e,{path:s}=e,a=0===s.length?n:`At path: ${s.join(".")} -- ${n}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function i(e){return"object"==typeof e&&null!=e}function o(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function s(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function a(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:i,branch:o}=t,{type:a}=r,{refinement:c,message:u=`Expected a value of type \`${a}\`${c?` with refinement \`${c}\``:""}, but received: \`${s(n)}\``}=e;return{value:n,type:a,refinement:c,key:i[i.length-1],path:i,branch:o,...e,message:u}}function*c(e,t,r,n){var o;i(o=e)&&"function"==typeof o[Symbol.iterator]||(e=[e]);for(const i of e){const e=a(i,t,r,n);e&&(yield e)}}function*u(e,t,r={}){const{path:n=[],branch:o=[e],coerce:s=!1,mask:a=!1}=r,c={path:n,branch:o};if(s&&(e=t.coercer(e,c),a&&"type"!==t.type&&i(t.schema)&&i(e)&&!Array.isArray(e)))for(const r in e)void 0===t.schema[r]&&delete e[r];let l="valid";for(const n of t.validator(e,c))n.explanation=r.message,l="not_valid",yield[n,void 0];for(let[f,d,h]of t.entries(e,c)){const t=u(d,h,{path:void 0===f?n:[...n,f],branch:void 0===f?o:[...o,d],coerce:s,mask:a,message:r.message});for(const r of t)r[0]?(l=null!=r[0].refinement?"not_refined":"not_valid",yield[r[0],void 0]):s&&(d=r[1],void 0===f?e=d:e instanceof Map?e.set(f,d):e instanceof Set?e.add(d):i(e)&&(void 0!==d||f in e)&&(e[f]=d))}if("not_valid"!==l)for(const n of t.refiner(e,c))n.explanation=r.message,l="not_refined",yield[n,void 0];"valid"===l&&(yield[void 0,e])}class l{constructor(e){const{type:t,schema:r,validator:n,refiner:i,coercer:o=(e=>e),entries:s=function*(){}}=e;this.type=t,this.schema=r,this.entries=s,this.coercer=o,this.validator=n?(e,t)=>c(n(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>c(i(e,t),t,this,e):()=>[]}assert(e,t){return f(e,this,t)}create(e,t){return d(e,this,t)}is(e){return p(e,this)}mask(e,t){return h(e,this,t)}validate(e,t={}){return y(e,this,t)}}function f(e,t,r){const n=y(e,t,{message:r});if(n[0])throw n[0]}function d(e,t,r){const n=y(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function h(e,t,r){const n=y(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function p(e,t){return!y(e,t)[0]}function y(e,t,r={}){const i=u(e,t,r),o=function(e){const{done:t,value:r}=e.next();return t?void 0:r}(i);return o[0]?[new n(o[0],(function*(){for(const e of i)e[0]&&(yield e[0])})),void 0]:[void 0,o[1]]}function b(...e){const t="type"===e[0].type,r=e.map((e=>e.schema)),n=Object.assign({},...r);return t?G(n):z(n)}function g(e,t){return new l({type:e,schema:null,validator:t})}function m(e,t){return new l({...e,refiner:(t,r)=>void 0===t||e.refiner(t,r),validator:(r,n)=>void 0===r||(t(r,n),e.validator(r,n))})}function w(e){return new l({type:"dynamic",schema:null,*entries(t,r){const n=e(t,r);yield*n.entries(t,r)},validator:(t,r)=>e(t,r).validator(t,r),coercer:(t,r)=>e(t,r).coercer(t,r),refiner:(t,r)=>e(t,r).refiner(t,r)})}function v(e){let t;return new l({type:"lazy",schema:null,*entries(r,n){t??(t=e()),yield*t.entries(r,n)},validator:(r,n)=>(t??(t=e()),t.validator(r,n)),coercer:(r,n)=>(t??(t=e()),t.coercer(r,n)),refiner:(r,n)=>(t??(t=e()),t.refiner(r,n))})}function S(e,t){const{schema:r}=e,n={...r};for(const e of t)delete n[e];return"type"===e.type?G(n):z(n)}function E(e){const t=e instanceof l,r=t?{...e.schema}:{...e};for(const e in r)r[e]=$(r[e]);return t&&"type"===e.type?G(r):z(r)}function O(e,t){const{schema:r}=e,n={};for(const e of t)n[e]=r[e];return"type"===e.type?G(n):z(n)}function x(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),g(e,t)}function j(){return g("any",(()=>!0))}function T(e){return new l({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${s(e)}`})}function B(){return g("bigint",(e=>"bigint"==typeof e))}function A(){return g("boolean",(e=>"boolean"==typeof e))}function P(){return g("date",(e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${s(e)}`))}function _(e){const t={},r=e.map((e=>s(e))).join();for(const r of e)t[r]=r;return new l({type:"enums",schema:t,validator:t=>e.includes(t)||`Expected one of \`${r}\`, but received: ${s(t)}`})}function I(){return g("func",(e=>"function"==typeof e||`Expected a function, but received: ${s(e)}`))}function k(e){return g("instance",(t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${s(t)}`))}function M(){return g("integer",(e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${s(e)}`))}function U(e){return new l({type:"intersection",schema:null,*entries(t,r){for(const n of e)yield*n.entries(t,r)},*validator(t,r){for(const n of e)yield*n.validator(t,r)},*refiner(t,r){for(const n of e)yield*n.refiner(t,r)}})}function R(e){const t=s(e),r=typeof e;return new l({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${s(r)}`})}function C(e,t){return new l({type:"map",schema:null,*entries(r){if(e&&t&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,e],yield[n,i,t]},coercer:e=>e instanceof Map?new Map(e):e,validator:e=>e instanceof Map||`Expected a \`Map\` object, but received: ${s(e)}`})}function N(){return g("never",(()=>!1))}function D(e){return new l({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function L(){return g("number",(e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${s(e)}`))}function z(e){const t=e?Object.keys(e):[],r=N();return new l({type:"object",schema:e||null,*entries(n){if(e&&i(n)){const i=new Set(Object.keys(n));for(const r of t)i.delete(r),yield[r,n[r],e[r]];for(const e of i)yield[e,n[e],r]}},validator:e=>i(e)||`Expected an object, but received: ${s(e)}`,coercer:e=>i(e)?{...e}:e})}function $(e){return new l({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function H(e,t){return new l({type:"record",schema:null,*entries(r){if(i(r))for(const n in r){const i=r[n];yield[n,n,e],yield[n,i,t]}},validator:e=>i(e)||`Expected an object, but received: ${s(e)}`})}function K(){return g("regexp",(e=>e instanceof RegExp))}function V(e){return new l({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const r of t)yield[r,r,e]},coercer:e=>e instanceof Set?new Set(e):e,validator:e=>e instanceof Set||`Expected a \`Set\` object, but received: ${s(e)}`})}function F(){return g("string",(e=>"string"==typeof e||`Expected a string, but received: ${s(e)}`))}function q(e){const t=N();return new l({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${s(e)}`})}function G(e){const t=Object.keys(e);return new l({type:"type",schema:e,*entries(r){if(i(r))for(const n of t)yield[n,r[n],e[n]]},validator:e=>i(e)||`Expected an object, but received: ${s(e)}`,coercer:e=>i(e)?{...e}:e})}function W(e){const t=e.map((e=>e.type)).join(" | ");return new l({type:"union",schema:null,coercer(t){for(const r of e){const[e,n]=r.validate(t,{coerce:!0});if(!e)return n}return t},validator(r,n){const i=[];for(const t of e){const[...e]=u(r,t,n),[o]=e;if(!o[0])return[];for(const[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${s(r)}`,...i]}})}function Z(){return g("unknown",(()=>!0))}function Y(e,t,r){return new l({...e,coercer:(n,i)=>p(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}function J(e,t,r={}){return Y(e,Z(),(e=>{const n="function"==typeof t?t():t;if(void 0===e)return n;if(!r.strict&&o(e)&&o(n)){const t={...e};let r=!1;for(const e in n)void 0===t[e]&&(t[e]=n[e],r=!0);if(r)return t}return e}))}function X(e){return Y(e,F(),(e=>e.trim()))}function Q(e){return se(e,"empty",(t=>{const r=ee(t);return 0===r||`Expected an empty ${e.type} but received one with a size of \`${r}\``}))}function ee(e){return e instanceof Map||e instanceof Set?e.size:e.length}function te(e,t,r={}){const{exclusive:n}=r;return se(e,"max",(r=>n?r<t:r<=t||`Expected a ${e.type} less than ${n?"":"or equal to "}${t} but received \`${r}\``))}function re(e,t,r={}){const{exclusive:n}=r;return se(e,"min",(r=>n?r>t:r>=t||`Expected a ${e.type} greater than ${n?"":"or equal to "}${t} but received \`${r}\``))}function ne(e){return se(e,"nonempty",(t=>ee(t)>0||`Expected a nonempty ${e.type} but received an empty one`))}function ie(e,t){return se(e,"pattern",(r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`))}function oe(e,t,r=t){const n=`Expected a ${e.type}`,i=t===r?`of \`${t}\``:`between \`${t}\` and \`${r}\``;return se(e,"size",(e=>{if("number"==typeof e||e instanceof Date)return t<=e&&e<=r||`${n} ${i} but received \`${e}\``;if(e instanceof Map||e instanceof Set){const{size:o}=e;return t<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}{const{length:o}=e;return t<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}}))}function se(e,t,r){return new l({...e,*refiner(n,i){yield*e.refiner(n,i);const o=c(r(n,i),i,e,n);for(const e of o)yield{...e,refinement:t}}})}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n=r(2928);module.exports=n})();